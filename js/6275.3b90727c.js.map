{"version":3,"file":"js/6275.3b90727c.js","mappings":"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","sources":["webpack://my-new-project/./src/domains/calculator/composables/pdfGenerator.js","webpack://my-new-project/./src/domains/calculator/components/TaxPieChart.vue","webpack://my-new-project/./src/domains/calculator/components/TaxPieChart.vue?4d9a","webpack://my-new-project/./src/views/ResultView.vue","webpack://my-new-project/./src/views/ResultView.vue?1b2a"],"sourcesContent":["import { formatCurrency } from '../utils/chartUtils.js'\nimport { storeToRefs } from 'pinia'\nimport { useCalculatorStore } from '@/domains/calculator/store/calculator.js'\nimport jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport { handleError } from '@/utils/errorHandler.js';\n\nexport const usePdfGenerator = () => {\n  const {\n    netFederalTaxPerPeriod,\n    netProvincialTaxPerPeriod,\n    pensionPlanContributionPerPeriod,\n    eiPremiumPerPeriod,\n    netIncomeAfterCreditsPerPeriod,\n    sortedBudgetCategories\n  } = storeToRefs(useCalculatorStore())\n\n  const exportToPDF = async () => {\n    try {\n      const doc = new jsPDF('p', 'mm', 'a4');\n      const pageWidth = doc.internal.pageSize.getWidth();\n      const margin = 20;\n      let currentHeight = margin;\n\n      try {\n        // Header\n        doc.setFontSize(6)\n        doc.setFont('helvetica', 200);\n        doc.text(\n          'Exported from: Canada Income Tax Calculator - https://hj799web.github.io/Tax-calculator-website/',\n          pageWidth - 4,\n          4,\n          { align: 'right' }\n        )\n\n        // Title\n        doc.setFontSize(20);\n        doc.setFont('helvetica', 'bold');\n        doc.text(\n          'Canada Income Tax',\n          pageWidth / 2,\n          currentHeight,\n          { align: 'center' }\n        );\n        currentHeight += 6;\n        doc.setFontSize(14);\n        doc.text(\n          '&',\n          pageWidth / 2,\n          currentHeight,\n          { align: 'center' }\n        );\n        currentHeight += 6;\n        doc.setFontSize(20);\n        doc.text(\n          'Federal Budget Breakdown',\n          pageWidth / 2,\n          currentHeight,\n          { align: 'center' }\n        );\n        currentHeight += 10;\n\n        // Date\n        doc.setFontSize(14);\n        doc.setFont('helvetica', 'normal');\n        const exportDate = new Date().toLocaleDateString('en-CA');\n        doc.text(`${exportDate}`, pageWidth / 2, currentHeight, { align: 'center' });\n        currentHeight += 10;\n\n        // Tax Calculations Table\n        doc.setFontSize(14);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Tax Calculations', margin, currentHeight);\n        currentHeight += 8;\n\n        const taxCalcData = [\n          ['Federal Tax Per Period', formatCurrency(netFederalTaxPerPeriod.value)],\n          ['Provincial Tax Per Period', formatCurrency(netProvincialTaxPerPeriod.value)],\n          ['CPP/QPP Per Period', formatCurrency(pensionPlanContributionPerPeriod.value)],\n          ['EI Premium Per Period', formatCurrency(eiPremiumPerPeriod.value)],\n          ['Net Income Per Period', formatCurrency(netIncomeAfterCreditsPerPeriod.value)],\n        ];\n\n        autoTable(doc, {\n          startY: currentHeight,\n          head: [['Description', 'Amount']],\n          body: taxCalcData,\n          theme: 'grid',\n          styles: { fontSize: 12, cellPadding: 3 },\n          headStyles: { fillColor: [41, 128, 185] },\n          margin: { left: margin, right: margin },\n        });\n        currentHeight = doc.previousAutoTable.finalY + 10;\n\n        // Federal Budget Allocation for Budget Categories\n        doc.setFontSize(14);\n        doc.setFont('helvetica', 'bold');\n        doc.text('Total Federal Tax Allocated', margin, currentHeight);\n        currentHeight += 8;\n\n        // We pull from sortedBudgetCategories, which has allocatedAmount & percentage\n        const allocatedRows = sortedBudgetCategories.value.map(cat => [\n          cat.name,\n          formatCurrency(cat.allocatedAmount),\n          cat.percentage.toFixed(2) + '%',\n        ]);\n\n        autoTable(doc, {\n          startY: currentHeight,\n          head: [['Category', 'Allocated Amount', 'Percentage']],\n          body: allocatedRows,\n          theme: 'grid',\n          styles: { fontSize: 12, cellPadding: 3 },\n          headStyles: { fillColor: [41, 128, 185] },\n          margin: { left: margin, right: margin },\n        });\n        currentHeight = doc.previousAutoTable.finalY + 10;\n\n        doc.setFontSize(8)\n        doc.setFont('helvetica', 'italic')\n        doc.text('All values presented in this document are approximations', margin, currentHeight)\n\n        // Footer\n        doc.setFontSize(6)\n        doc.setFont('helvetica', 200);\n        doc.text(\n          'Exported from: Canada Income Tax Calculator - https://hj799web.github.io/Tax-calculator-website/',\n          pageWidth - 4,\n          doc.internal.pageSize.getHeight() - 4,\n          { align: 'right' }\n        )\n        doc.save('Tax_and_Budget_Breakdown_Approx.pdf');\n        return true;\n      } catch (pdfError) {\n        throw new Error(`Failed to generate PDF content: ${pdfError.message}`);\n      }\n    } catch (err) {\n      handleError(err, (msg) => {\n        console.error('Error generating PDF:', msg);\n      });\n      return false;\n    }\n  }\n\n  return { exportToPDF }\n} ","<template>\n  <div\n    v-if=\"canCalculate\"\n    class=\"pie-chart-container\"\n  >\n    <div class=\"pie-chart-inner-container\">\n      <Pie\n        :data=\"chartData\"\n        :options=\"chartOptions\"\n        :plugins=\"[htmlLegendPlugin]\"\n      />\n    </div>\n    <div id=\"taxlegend\" />\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js/auto'\nimport { Pie } from 'vue-chartjs';\nimport { storeToRefs } from 'pinia'\nimport { useCalculatorStore } from '@/domains/calculator/store/calculator.js'\nimport { htmlLegendPlugin } from '@/domains/calculator/utils/htmlLegendPlugin.js'\nimport { useCalculator } from '@/domains/calculator/composables/calculator.js'\nimport { useI18n } from '@/i18n'\n\nconst { t } = useI18n()\nconst translate = (key, fallback = '', params) => {\n  const value = t(key, params)\n  return value === key ? fallback : value\n}\n\nChartJS.register(ArcElement, Tooltip, Legend)\n\nconst {\n  netFederalTaxPerPeriod,\n  netProvincialTaxPerPeriod,\n  pensionPlanContributionPerPeriod,\n  eiPremiumPerPeriod,\n  netIncomeAfterCreditsPerPeriod\n} = storeToRefs(useCalculatorStore())\n\nconst {\n  canCalculate\n} = useCalculator()\n\nconst chartData = computed(() => {\n  if (!canCalculate.value) {\n    return { labels: [], datasets: [] };\n  }\n  return {\n    labels: [\n      translate('result.federalTax', 'Federal Tax'),\n      translate('result.provincialTax', 'Provincial Tax'),\n      translate('result.cppQpp', 'CPP/QPP'),\n      translate('result.ei', 'EI'),\n      translate('result.netIncome', 'Net Income'),\n    ],\n    datasets: [\n      {\n        label: translate('result.taxBreakdown', 'Tax Breakdown'),\n        data: [\n          netFederalTaxPerPeriod.value,\n          netProvincialTaxPerPeriod.value,\n          pensionPlanContributionPerPeriod.value,\n          eiPremiumPerPeriod.value,\n          netIncomeAfterCreditsPerPeriod.value,\n        ],\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],\n        borderWidth: 1,\n      },\n    ],\n  };\n});\n\nconst chartOptions = computed(() => {\n  return {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      htmlLegend: {\n        containerID: 'taxlegend'\n      },\n      legend: {\n        display: false,\n        position: 'bottom',\n        labels: {\n          generateLabels: (chart) => {\n            const data = chart.data;\n            if (!data || !data.datasets.length) return [];\n            const dataset = data.datasets[0];\n            const total = dataset.data.reduce((a, b) => a + b, 0);\n            return data.labels.map((label, i) => {\n              const val = dataset.data[i];\n              const perc = total ? ((val / total) * 100).toFixed(2) : '0.00';\n              return {\n                text: `${label}: $${val.toLocaleString('en-CA', {\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2\n                })} (${perc}%)`,\n                fillStyle: dataset.backgroundColor[i],\n                hidden: false,\n                index: i,\n              };\n            });\n          },\n        },\n      },\n      title: {\n        display: true,\n        text: 'Tax Breakdown',\n      },\n      tooltip: {\n        callbacks: {\n          label: (ctx) => {\n            const val = ctx.parsed;\n            const ds = ctx.dataset.data;\n            const total = ds.reduce((a, b) => a + b, 0);\n            const perc = total ? ((val / total) * 100).toFixed(2) : '0.00';\n            const formattedVal = val.toLocaleString('en-CA', {\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2\n            });\n\n            return `${ctx.label}: $${formattedVal} (${perc}%)`;\n          },\n        },\n      },\n    },\n  };\n})\n</script>\n\n<style scoped>\n.pie-chart-container {\n  width: 100%;\n  max-width: 420px;\n  margin: 16px auto;\n  position: relative;\n}\n\n.pie-chart-inner-container {\n  width: 100%;\n  height: clamp(220px, 60vw, 360px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto 16px;\n}\n\n#taxlegend {\n  max-width: 420px;\n  font-size: clamp(12px, 0.6vw + 10px, 14px);\n  line-height: 1.4;\n}\n\n/* Optional: Styling for no data message */\n.no-data {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #7f8c8d;\n  font-size: 18px;\n  text-align: center;\n}\n\n/* Responsive adjustments */\n@media (max-width: 480px) {\n  .pie-chart-inner-container { height: clamp(200px, 70vw, 300px); }\n}\n</style> \n","import script from \"./TaxPieChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TaxPieChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TaxPieChart.vue?vue&type=style&index=0&id=191c45c5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-191c45c5\"]])\n\nexport default __exports__","<template>\n  <div class=\"result-box\">\n    <h2\n      v-if=\"canCalculate\"\n      class=\"result-title\"\n    >\n      {{ translate('result.title', 'Your Tax Breakdown') }}\n    </h2>\n    <div v-if=\"canCalculate\">\n      <div class=\"result-item\">\n        <span>{{ translate('result.federalTax', 'Federal Tax:') }}</span>\n        <span>\n          {{ formatCurrency(netFederalTaxPerPeriod) }}\n          ({{ federalTaxPercentage }}%)\n        </span>\n      </div>\n      <div class=\"result-item\">\n        <span>{{ translate('result.provincialTax', 'Provincial Tax:') }}</span>\n        <span>\n          {{ formatCurrency(netProvincialTaxPerPeriod) }}\n          ({{ provincialTaxPercentage }}%)\n        </span>\n      </div>\n      <div class=\"result-item\">\n        <span>{{ translate('result.cppQppContribution', 'CPP/QPP Contribution:') }}</span>\n        <span>\n          {{ formatCurrency(pensionPlanContributionPerPeriod) }}\n          ({{ cppTaxPercentage }}%)\n        </span>\n      </div>\n      <div class=\"result-item\">\n        <span>{{ translate('result.eiPremium', 'EI Premium:') }}</span>\n        <span>\n          {{ formatCurrency(eiPremiumPerPeriod) }}\n          ({{ eiTaxPercentage }}%)\n        </span>\n      </div>\n      <div class=\"result-item total-tax\">\n        <span>{{ translate('result.totalTax', 'Total Tax:') }}</span>\n        <span>\n          {{ formatCurrency(totalTaxPerPeriod) }}\n        </span>\n      </div>\n      <div class=\"result-item net-income\">\n        <span>{{ translate('result.netIncomeAfterCredits', 'Net Income After Credits:') }}</span>\n        <span>\n          {{ formatCurrency(netIncomeAfterCreditsPerPeriod) }}\n        </span>\n      </div>\n\n      <!-- Export to PDF Button -->\n      <button\n        class=\"export-button\"\n        :aria-label=\"translate('result.exportPdfAria', 'Export tax breakdown as PDF')\"\n        @click=\"throttledExportToPDF\"\n      >\n        {{ translate('result.exportPdf', 'Export as PDF') }}\n      </button>\n\n      <TaxPieChart />\n    </div>\n    <div\n      v-else\n      class=\"placeholder-text\"\n    >\n      <p>\n        {{ translate('result.placeholder', 'Please enter your income and select your province or territory to see the tax breakdown.') }}\n      </p>\n    </div>\n    <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n  </div>\n  <!-- End of result-box -->\n</template>\n\n<script setup>\nimport { formatCurrency } from '@/domains/calculator/utils/chartUtils.js'\nimport { storeToRefs } from 'pinia'\nimport { useCalculatorStore } from '@/domains/calculator/store/calculator.js'\nimport { useCalculator } from '@/domains/calculator/composables/calculator.js'\nimport { usePdfGenerator } from '@/domains/calculator/composables/pdfGenerator.js'\nimport TaxPieChart from '@/domains/calculator/components/TaxPieChart.vue'\nimport throttle from 'lodash.throttle'\nimport { handleError } from '@/utils/errorHandler.js'\nimport { ref } from 'vue'\nimport { useI18n } from '@/i18n'\n\nconst { t } = useI18n()\nconst translate = (key, fallback = '', params) => {\n  const value = t(key, params)\n  return value === key ? fallback : value\n}\n\nconst {\n  netFederalTaxPerPeriod,\n  federalTaxPercentage,\n  netProvincialTaxPerPeriod,\n  provincialTaxPercentage,\n  pensionPlanContributionPerPeriod,\n  cppTaxPercentage,\n  eiPremiumPerPeriod,\n  eiTaxPercentage,\n  totalTaxPerPeriod,\n  netIncomeAfterCreditsPerPeriod\n} = storeToRefs(useCalculatorStore())\n\nconst {\n  canCalculate\n} = useCalculator()\n\nconst {\n  exportToPDF\n} = usePdfGenerator()\n\nconst errorMessage = ref('')\n\n// Throttle the exportToPDF function\nconst throttledExportToPDF = throttle(async () => {\n  try {\n    await exportToPDF()\n  } catch (err) {\n    handleError(err, (msg) => errorMessage.value = msg)\n  }\n}, 2000)\n</script>\n\n<style scoped>\n/* Typography and spacing improvements */\n.result-title { font-size: clamp(1.2rem, 1.4vw + 0.9rem, 1.75rem); text-align: center; margin-bottom: 1rem; }\n.result-box { background: rgba(255,255,255,0.75); border: 1px solid #e5e7eb; border-radius: 12px; padding: 1.25rem; box-shadow: 0 8px 24px rgba(0,0,0,0.05); }\n.result-item { display: flex; justify-content: space-between; gap: 12px; padding: 6px 0; }\n.result-item span { word-break: break-word; }\n\n@media (max-width: 600px) {\n  .card-title, .card-content, .summary-card, .main-category-header, .other-category-header, .subcategory-header, .gov-ops-header, .tax-expenditure-header, .tile-title, .tile-amount, .slider-labels {\n    writing-mode: initial !important;\n    text-orientation: initial !important;\n    transform: none !important;\n    display: block !important;\n    white-space: normal !important;\n    word-break: break-word !important;\n  }\n  .result-box { padding: 1rem; }\n  .result-item { flex-direction: column; align-items: flex-start; }\n}\n</style>\n","import script from \"./ResultView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ResultView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ResultView.vue?vue&type=style&index=0&id=3599b13a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3599b13a\"]])\n\nexport default __exports__"],"names":["usePdfGenerator","netFederalTaxPerPeriod","netProvincialTaxPerPeriod","pensionPlanContributionPerPeriod","eiPremiumPerPeriod","netIncomeAfterCreditsPerPeriod","sortedBudgetCategories","storeToRefs","useCalculatorStore","exportToPDF","async","doc","jsPDF","pageWidth","internal","pageSize","getWidth","margin","currentHeight","setFontSize","setFont","text","align","exportDate","Date","toLocaleDateString","taxCalcData","formatCurrency","value","autoTable","startY","head","body","theme","styles","fontSize","cellPadding","headStyles","fillColor","left","right","previousAutoTable","finalY","allocatedRows","map","cat","name","allocatedAmount","percentage","toFixed","getHeight","save","pdfError","Error","message","err","handleError","msg","console","error","t","useI18n","translate","key","fallback","params","ChartJS","register","ArcElement","Tooltip","Legend","canCalculate","useCalculator","chartData","computed","labels","datasets","label","data","backgroundColor","borderWidth","chartOptions","responsive","maintainAspectRatio","plugins","htmlLegend","containerID","legend","display","position","generateLabels","chart","length","dataset","total","reduce","a","b","i","val","perc","toLocaleString","minimumFractionDigits","maximumFractionDigits","fillStyle","hidden","index","title","tooltip","callbacks","ctx","parsed","ds","formattedVal","__exports__","federalTaxPercentage","provincialTaxPercentage","cppTaxPercentage","eiTaxPercentage","totalTaxPerPeriod","errorMessage","ref","throttledExportToPDF","throttle"],"sourceRoot":""}