"use strict";(self["webpackChunkTaxCalculator"]=self["webpackChunkTaxCalculator"]||[]).push([[5834],{9024:function(e,t,r){r.d(t,{A:function(){return l}});var n=r(75220);r(17642),r(58004),r(33853),r(45876),r(32475),r(15024),r(31698);class o{constructor(){this.retryAttempts=3,this.retryDelay=1e3,this.loadingChunks=new Set}async loadChunk(e,t){if(this.loadingChunks.has(e))return new Promise(((r,n)=>{const o=()=>{this.loadingChunks.has(e)?setTimeout(o,100):this.retryLoadChunk(e,t,0).then(r).catch(n)};o()}));this.loadingChunks.add(e);try{const r=await this.retryLoadChunk(e,t,0);return this.loadingChunks.delete(e),r}catch(r){throw this.loadingChunks.delete(e),r}}async retryLoadChunk(e,t,r){try{return await t()}catch(n){if(this.isChunkLoadError(n)&&r<this.retryAttempts)return console.warn(`[ChunkLoader] Retry ${r+1}/${this.retryAttempts} for chunk ${e}`),await this.delay(this.retryDelay*Math.pow(2,r)),this.clearChunkFromCache(e),this.retryLoadChunk(e,t,r+1);throw n}}isChunkLoadError(e){return"ChunkLoadError"===e.name||e.message?.includes("Loading chunk")||e.message?.includes("Loading CSS chunk")||e.message?.includes("ChunkLoadError")}clearChunkFromCache(e){window.__webpack_require__&&window.__webpack_require__.cache&&Object.keys(window.__webpack_require__.cache).forEach((t=>{t.includes(e)&&delete window.__webpack_require__.cache[t]}))}delay(e){return new Promise((t=>setTimeout(t,e)))}async preloadCriticalChunks(){const e=["runtime","app","vendors"];for(const r of e)try{const e=document.createElement("link");e.rel="preload",e.as="script",e.href=`/js/${r}.js`,document.head.appendChild(e)}catch(t){console.warn(`[ChunkLoader] Failed to preload chunk ${r}:`,t)}}}const i=new o;function a(e,t="unknown"){return i.loadChunk(t,e)}function s(e,t){return()=>a(e,t)}"undefined"!==typeof window&&(i.preloadCriticalChunks(),window.addEventListener("error",(e=>{if(e.target&&"SCRIPT"===e.target.tagName){const t=e.target.src;t&&t.includes("/js/")&&t.includes(".js")&&console.error("[ChunkLoader] Script loading error:",t)}})));const u=[{path:"/",name:"home",component:s((()=>Promise.resolve().then(r.bind(r,26796))),"app")},{path:"/welcome",name:"welcome",component:s((()=>r.e(9968).then(r.bind(r,29968))),"welcome")},{path:"/how-it-works",name:"how-it-works",component:s((()=>Promise.all([r.e(1175),r.e(1367),r.e(9050),r.e(1847),r.e(3113),r.e(5550),r.e(9466),r.e(1802),r.e(9758),r.e(3323),r.e(7024),r.e(9345),r.e(4697),r.e(2893),r.e(6102)]).then(r.bind(r,76102))),"how-it-works")},{path:"/simulator",name:"finance-minister-simulator",component:s((()=>Promise.all([r.e(5292),r.e(7742),r.e(2051),r.e(8524),r.e(8690),r.e(1175),r.e(1367),r.e(9050),r.e(1847),r.e(3113),r.e(5550),r.e(9466),r.e(1802),r.e(9758),r.e(3323),r.e(7024),r.e(9345),r.e(4697),r.e(2893)]).then(r.bind(r,96118))),"simulator")},{path:"/budget-simulator",name:"shared-budget",component:s((()=>Promise.all([r.e(5292),r.e(7742),r.e(2051),r.e(8524),r.e(8690),r.e(1175),r.e(1367),r.e(9050),r.e(1847),r.e(3113),r.e(5550),r.e(9466),r.e(1802),r.e(9758),r.e(3323),r.e(7024),r.e(9345),r.e(4697),r.e(2893)]).then(r.bind(r,96118))),"simulator"),meta:{isSharedBudget:!0},props:e=>({...e.query})},{path:"/terms-of-service",name:"terms-of-service",component:s((()=>r.e(5714).then(r.bind(r,75714))),"terms")}],c=(0,n.aE)({history:(0,n.Bt)(),routes:u,scrollBehavior(){return{top:0}}}),m="\n<style>\n.route-loading {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 50vh;\n  padding: 2rem;\n  color: #3498db;\n  font-weight: 600;\n}\n\n.route-loading .loading-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid rgba(52, 152, 219, 0.2);\n  border-radius: 50%;\n  border-top-color: #3498db;\n  animation: spin 1s linear infinite;\n  margin-bottom: 1rem;\n}\n\n.route-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 50vh;\n  padding: 2rem;\n  color: #e74c3c;\n  font-weight: 600;\n  text-align: center;\n}\n\n.route-error button {\n  margin-top: 1rem;\n  padding: 0.5rem 1rem;\n  background: #3498db;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: 600;\n}\n\n.route-error button:hover {\n  background: #2980b9;\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n</style>\n";if("undefined"!==typeof document&&!document.querySelector("#route-loading-styles")){const e=document.createElement("style");e.id="route-loading-styles",e.innerHTML=m.replace(/<style>|<\/style>/g,""),document.head.appendChild(e)}var l=c},14171:function(e,t,r){function n(e,t){const r={message:e.message,stack:e.stack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorType:e.constructor.name};console.error("Production Error:",r),"function"===typeof t&&t("Something went wrong. Please try again later.")}function o(e,t,r={}){const n={message:e.message,stack:e.stack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorType:e.constructor.name,component:t,context:r};return console.error(`[${t}] Production Error:`,n),n}r.d(t,{H4:function(){return n},Oi:function(){return o}})},71345:function(e,t,r){r.d(t,{D8:function(){return o}});r(64979);class n{constructor(e,t={}){this.storageKey=e,this.version=t.version||"1.0",this.autoSave=!1!==t.autoSave,this.debounceDelay=t.debounceDelay||1e3,this.encryption=t.encryption||!1,this.compression=t.compression||!1,this.debouncedSave=this.createDebouncedSave()}save(e){try{const t={version:this.version,timestamp:Date.now(),data:e};let r=JSON.stringify(t);return this.compression&&(r=this.compress(r)),this.encryption&&(r=this.encrypt(r)),localStorage.setItem(this.storageKey,r),console.log(`[StatePersistence] Successfully saved state for ${this.storageKey}`),!0}catch(t){return console.error(`[StatePersistence] Failed to save state for ${this.storageKey}:`,t),!1}}load(e={}){try{const t=localStorage.getItem(this.storageKey);if(!t)return console.log(`[StatePersistence] No saved state found for ${this.storageKey}`),e;let r=t;this.encryption&&(r=this.decrypt(r)),this.compression&&(r=this.decompress(r));const n=JSON.parse(r);if(n.version!==this.version)return console.warn(`[StatePersistence] Version mismatch for ${this.storageKey}. Expected: ${this.version}, Found: ${n.version}`),e;const o=2592e6;return Date.now()-n.timestamp>o?(console.warn(`[StatePersistence] Saved state for ${this.storageKey} is too old, using defaults`),e):(console.log(`[StatePersistence] Successfully loaded state for ${this.storageKey}`),n.data)}catch(t){return console.error(`[StatePersistence] Failed to load state for ${this.storageKey}:`,t),e}}clear(){try{return localStorage.removeItem(this.storageKey),console.log(`[StatePersistence] Cleared state for ${this.storageKey}`),!0}catch(e){return console.error(`[StatePersistence] Failed to clear state for ${this.storageKey}:`,e),!1}}exists(){return null!==localStorage.getItem(this.storageKey)}getInfo(){try{const e=localStorage.getItem(this.storageKey);if(!e)return null;const t=JSON.parse(e);return{version:t.version,timestamp:t.timestamp,age:Date.now()-t.timestamp,size:e.length}}catch(e){return null}}createDebouncedSave(){let e=null,t=null;return r=>{t=r,e&&clearTimeout(e),e=setTimeout((()=>{t&&(this.save(t),t=null)}),this.debounceDelay)}}autoSave(e){this.autoSave&&this.debouncedSave(e)}compress(e){return btoa(e)}decompress(e){return atob(e)}encrypt(e){return btoa(e)}decrypt(e){return atob(e)}}const o=new n("budget-simulator-state",{version:"1.0",autoSave:!0,debounceDelay:1e3});new n("sentiment-settings",{version:"1.0",autoSave:!0,debounceDelay:500}),new n("ui-state",{version:"1.0",autoSave:!0,debounceDelay:200})},63963:function(e,t,r){r.d(t,{$C:function(){return i},Oo:function(){return a}});var n=r(80223),o=r(14171);function i(e,t,r){return function(...i){try{if(i.length>0){const a=(0,n.i3)(e,t,i[0]);if(!a.valid)return(0,o.H4)(new Error(`Validation failed for ${e}.${t}: ${a.error}`),(e=>{console.error(`[STORE VALIDATION] ${e}`)})),!1;const s=i.map(((r,o)=>0===o?(0,n.po)(e,t,r):r));return r.apply(this,s)}return r.apply(this,i)}catch(a){return(0,o.H4)(a,(r=>{console.error(`[STORE ACTION] Error in ${e}.${t}: ${r}`)})),!1}}}function a(e,t,r){return function(...i){try{if(t&&i.length>0){let a;if(1===i.length)a=i[0];else{const e=Object.keys(t);a={},i.forEach(((t,r)=>{e[r]&&(a[e[r]]=t)}))}const s=(0,n.q0)(a,t);if(!s.valid)return(0,o.H4)(new Error(`Validation failed for ${r}: ${s.error}`),(e=>{console.error(`[STORE VALIDATION] ${e}`)})),!1;const u=(0,n.Bb)(a,t);let c=i;if(i.length>1){const e=Object.keys(t);c=e.map((e=>u[e]))}else c=[u];return e.apply(this,c)}return e.apply(this,i)}catch(a){return(0,o.H4)(a,(e=>{console.error(`[STORE ACTION] Error in ${r}: ${e}`)})),!1}}}},80223:function(e,t,r){r.d(t,{Bb:function(){return s},JE:function(){return i},i3:function(){return u},po:function(){return c},q0:function(){return a}});var n=r(14171);const o={calculator:{income:{type:"number",min:0,max:1e9,required:!1},selectedRegion:{type:"string",allowedValues:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"],required:!0},selfEmploymentIncome:{type:"number",min:0,max:1e9,required:!1},capitalGainsBeforeJune25:{type:"number",min:0,max:1e9,required:!1},capitalGainsAfterJune25:{type:"number",min:0,max:1e9,required:!1},eligibleDividends:{type:"number",min:0,max:1e9,required:!1},ineligibleDividends:{type:"number",min:0,max:1e9,required:!1},otherIncome:{type:"number",min:0,max:1e9,required:!1},rrspDeduction:{type:"number",min:0,max:29210,required:!1},maritalStatus:{type:"string",allowedValues:["Single","Married or Common-Law","Separated","Divorced","Widowed"],required:!1},numberOfDependents:{type:"number",min:0,max:20,required:!1},numberOfChildrenUnder18:{type:"number",min:0,max:20,required:!1},numberOfDependentsWithDisabilities:{type:"number",min:0,max:20,required:!1}},budget:{revenueSources:{type:"object",properties:{personalIncomeTax:{type:"number",min:0,max:100},corporateIncomeTax:{type:"number",min:0,max:100},gst:{type:"number",min:0,max:100},exciseTaxes:{type:"number",min:0,max:100},carbonPricing:{type:"number",min:0,max:100},eiPremiums:{type:"number",min:0,max:100},customsDuties:{type:"number",min:0,max:100},crownProfits:{type:"number",min:0,max:100},nonTaxRevenue:{type:"number",min:0,max:100},resourceRoyalties:{type:"number",min:0,max:100}}},spendingCategories:{type:"object",properties:{healthcare:{type:"number",min:0,max:5},education:{type:"number",min:0,max:5},childrenAndFamilies:{type:"number",min:0,max:5},supportForSeniors:{type:"number",min:0,max:5},indigenousServices:{type:"number",min:0,max:5},defense:{type:"number",min:0,max:5},scienceAndInnovation:{type:"number",min:0,max:5},infrastructure:{type:"number",min:0,max:5},digitalGovernment:{type:"number",min:0,max:5},environmentAndClimateChange:{type:"number",min:0,max:5},carbonPricing:{type:"number",min:0,max:5},agriculture:{type:"number",min:0,max:5},internationalDevelopment:{type:"number",min:0,max:5},culturalPrograms:{type:"number",min:0,max:5},transit:{type:"number",min:0,max:5},economicDevelopment:{type:"number",min:0,max:5},indigenousOperations:{type:"number",min:0,max:5},diplomaticRepresentation:{type:"number",min:0,max:5}}},budgetGoals:{type:"object",properties:{targetRevenue:{type:"number",min:0,max:1e12},targetDeficit:{type:"number",min:-1e12,max:1e12},enabled:{type:"boolean"}}}},sentiment:{sensitivity:{type:"object",properties:{overall:{type:"number",min:0,max:2},regions:{type:"number",min:0,max:2},demographics:{type:"number",min:0,max:2},sectors:{type:"number",min:0,max:2}}},thresholds:{type:"object",properties:{warning:{type:"number",min:0,max:1},critical:{type:"number",min:0,max:1}}},updateFrequency:{type:"number",min:100,max:5e3}},salary:{selectedSalaryRate:{type:"string",allowedValues:["Annual","Monthly","Bi-weekly","Weekly","Daily","Hourly"],required:!0}},year:{selectedTaxYear:{type:"string",allowedValues:["2023","2024","2025"],required:!0}},config:{sortOrder:{type:"string",allowedValues:["asc","desc"],required:!1},allExpanded:{type:"boolean",required:!1}}},i={revenueRate:{sourceId:{type:"string",required:!0,pattern:/^[a-zA-Z][a-zA-Z0-9]*$/,maxLength:50},newRate:{type:"number",required:!0,min:0,max:100,precision:2}},spendingFactor:{categoryId:{type:"string",required:!0,pattern:/^[a-zA-Z][a-zA-Z0-9]*$/,maxLength:50},factor:{type:"number",required:!0,min:.1,max:5,precision:3}},groupSpendingFactor:{groupId:{type:"string",required:!0,pattern:/^[a-zA-Z][a-zA-Z0-9]*$/,maxLength:50},factor:{type:"number",required:!0,min:.1,max:5,precision:3}},taxExpenditureAdjustment:{expenditureId:{type:"string",required:!0,pattern:/^[a-zA-Z][a-zA-Z0-9]*$/,maxLength:50},adjustment:{type:"number",required:!0,min:-100,max:100,precision:2}},budgetGoals:{enabled:{type:"boolean",required:!1},revenueTarget:{type:"number",required:!1,min:0,max:1e3,precision:1},deficitTarget:{type:"number",required:!1,min:0,max:200,precision:1}},revenueSourceAmount:{sourceId:{type:"string",required:!0,pattern:/^[a-zA-Z][a-zA-Z0-9]*$/,maxLength:50},newAmount:{type:"number",required:!0,min:0,max:1e3,precision:2}},year:{year:{type:"number",required:!0,min:2020,max:2030,integer:!0}},autoBalanceToggle:{active:{type:"boolean",required:!0}}};function a(e,t){try{if(t.type&&typeof e!==t.type)return{valid:!1,error:`Expected ${t.type}, got ${typeof e}`};if(t.required&&(void 0===e||null===e||""===e))return{valid:!1,error:"This field is required"};if(!t.required&&(void 0===e||null===e||""===e))return{valid:!0};if("number"===t.type&&"number"===typeof e){if(void 0!==t.min&&e<t.min)return{valid:!1,error:`Value must be at least ${t.min}`};if(void 0!==t.max&&e>t.max)return{valid:!1,error:`Value must be at most ${t.max}`}}if(t.allowedValues&&!t.allowedValues.includes(e))return{valid:!1,error:`Value must be one of: ${t.allowedValues.join(", ")}`};if("object"===t.type&&t.properties&&"object"===typeof e)for(const[r,n]of Object.entries(t.properties))if(void 0!==e[r]){const t=a(e[r],n);if(!t.valid)return{valid:!1,error:`${r}: ${t.error}`}}return{valid:!0}}catch(r){return(0,n.H4)(r,(e=>console.error(`Validation error: ${e}`))),{valid:!1,error:"Validation failed"}}}function s(e,t){try{if(void 0===e||null===e)return void 0!==t.default?t.default:e;if("number"===t.type&&"number"!==typeof e){const r=parseFloat(e);return isNaN(r)?t.default:r}if("string"===t.type&&"string"===typeof e)return e.trim();if("boolean"===t.type&&"boolean"!==typeof e)return"string"===typeof e?"true"===e.toLowerCase():Boolean(e);if("object"===t.type&&t.properties&&"object"===typeof e){const r={};for(const[n,o]of Object.entries(t.properties))void 0!==e[n]&&(r[n]=s(e[n],o));return r}return e}catch(r){return(0,n.H4)(r,(e=>console.error(`Sanitization error: ${e}`))),void 0!==t.default?t.default:e}}function u(e,t,r){const n=o[e];if(!n)return{valid:!1,error:`No validation schema found for store: ${e}`};const i=n[t];return i?a(r,i):{valid:!1,error:`No validation schema found for action: ${t}`}}function c(e,t,r){const n=o[e];if(!n)return r;const i=n[t];return i?s(r,i):r}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[424,6852,9653,1022,9972,8248,3461,3309,9020,8130,8282,8858],(function(){return t(74294)}));e.O()}]);
//# sourceMappingURL=app-6f02571b.0ef67672.js.map