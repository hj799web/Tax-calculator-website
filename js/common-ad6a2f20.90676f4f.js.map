{"version":3,"file":"js/common-ad6a2f20.90676f4f.js","mappings":"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","sources":["webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/crc.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/unfilter.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/signature.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/helpers/text.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/internalTypes.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/PngDecoder.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/PngEncoder.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/types.js","webpack://my-new-project/./node_modules/fast-png/lib-esm/index.js","webpack://my-new-project/./node_modules/core-js/internals/a-constructor.js","webpack://my-new-project/./node_modules/core-js/internals/add-to-unscopables.js","webpack://my-new-project/./node_modules/core-js/internals/advance-string-index.js","webpack://my-new-project/./node_modules/core-js/internals/array-method-is-strict.js","webpack://my-new-project/./node_modules/core-js/internals/array-reduce.js","webpack://my-new-project/./node_modules/core-js/internals/array-slice.js","webpack://my-new-project/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://my-new-project/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://my-new-project/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://my-new-project/./node_modules/core-js/internals/create-iter-result-object.js","webpack://my-new-project/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://my-new-project/./node_modules/core-js/internals/dom-iterables.js","webpack://my-new-project/./node_modules/core-js/internals/dom-token-list-prototype.js","webpack://my-new-project/./node_modules/core-js/internals/environment-is-ios-pebble.js","webpack://my-new-project/./node_modules/core-js/internals/environment-is-ios.js","webpack://my-new-project/./node_modules/core-js/internals/environment-is-node.js","webpack://my-new-project/./node_modules/core-js/internals/environment-is-webos-webkit.js","webpack://my-new-project/./node_modules/core-js/internals/environment.js","webpack://my-new-project/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://my-new-project/./node_modules/core-js/internals/function-apply.js","webpack://my-new-project/./node_modules/core-js/internals/function-bind-context.js","webpack://my-new-project/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://my-new-project/./node_modules/core-js/internals/get-iterator-method.js","webpack://my-new-project/./node_modules/core-js/internals/get-iterator.js","webpack://my-new-project/./node_modules/core-js/internals/get-substitution.js","webpack://my-new-project/./node_modules/core-js/internals/host-report-errors.js","webpack://my-new-project/./node_modules/core-js/internals/html.js","webpack://my-new-project/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://my-new-project/./node_modules/core-js/internals/is-constructor.js","webpack://my-new-project/./node_modules/core-js/internals/is-regexp.js","webpack://my-new-project/./node_modules/core-js/internals/iterate.js","webpack://my-new-project/./node_modules/core-js/internals/iterator-create-constructor.js","webpack://my-new-project/./node_modules/core-js/internals/iterator-define.js","webpack://my-new-project/./node_modules/core-js/internals/iterators-core.js","webpack://my-new-project/./node_modules/core-js/internals/iterators.js","webpack://my-new-project/./node_modules/core-js/internals/microtask.js","webpack://my-new-project/./node_modules/core-js/internals/new-promise-capability.js","webpack://my-new-project/./node_modules/core-js/internals/not-a-regexp.js","webpack://my-new-project/./node_modules/core-js/internals/object-create.js","webpack://my-new-project/./node_modules/core-js/internals/object-define-properties.js","webpack://my-new-project/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://my-new-project/./node_modules/core-js/internals/object-keys.js","webpack://my-new-project/./node_modules/core-js/internals/perform.js","webpack://my-new-project/./node_modules/core-js/internals/promise-constructor-detection.js","webpack://my-new-project/./node_modules/core-js/internals/promise-native-constructor.js","webpack://my-new-project/./node_modules/core-js/internals/promise-resolve.js","webpack://my-new-project/./node_modules/core-js/internals/promise-statics-incorrect-iteration.js","webpack://my-new-project/./node_modules/core-js/internals/queue.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-exec.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-flags.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-get-flags.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://my-new-project/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://my-new-project/./node_modules/core-js/internals/safe-get-built-in.js","webpack://my-new-project/./node_modules/core-js/internals/set-species.js","webpack://my-new-project/./node_modules/core-js/internals/set-to-string-tag.js","webpack://my-new-project/./node_modules/core-js/internals/species-constructor.js","webpack://my-new-project/./node_modules/core-js/internals/string-multibyte.js","webpack://my-new-project/./node_modules/core-js/internals/string-trim-forced.js","webpack://my-new-project/./node_modules/core-js/internals/string-trim.js","webpack://my-new-project/./node_modules/core-js/internals/task.js","webpack://my-new-project/./node_modules/core-js/internals/validate-arguments-length.js","webpack://my-new-project/./node_modules/core-js/internals/whitespaces.js","webpack://my-new-project/./node_modules/core-js/modules/es.array.index-of.js","webpack://my-new-project/./node_modules/core-js/modules/es.array.iterator.js","webpack://my-new-project/./node_modules/core-js/modules/es.array.reduce.js","webpack://my-new-project/./node_modules/core-js/modules/es.array.reverse.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.all.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.catch.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.constructor.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.race.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.reject.js","webpack://my-new-project/./node_modules/core-js/modules/es.promise.resolve.js","webpack://my-new-project/./node_modules/core-js/modules/es.regexp.exec.js","webpack://my-new-project/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.ends-with.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.includes.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.match.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.replace.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.split.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.starts-with.js","webpack://my-new-project/./node_modules/core-js/modules/es.string.trim.js","webpack://my-new-project/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://my-new-project/./node_modules/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.esm.js"],"sourcesContent":["const crcTable = [];\nfor (let n = 0; n < 256; n++) {\n    let c = n;\n    for (let k = 0; k < 8; k++) {\n        if (c & 1) {\n            c = 0xedb88320 ^ (c >>> 1);\n        }\n        else {\n            c = c >>> 1;\n        }\n    }\n    crcTable[n] = c;\n}\nconst initialCrc = 0xffffffff;\nfunction updateCrc(currentCrc, data, length) {\n    let c = currentCrc;\n    for (let n = 0; n < length; n++) {\n        c = crcTable[(c ^ data[n]) & 0xff] ^ (c >>> 8);\n    }\n    return c;\n}\nfunction crc(data, length) {\n    return (updateCrc(initialCrc, data, length) ^ initialCrc) >>> 0;\n}\nexport function checkCrc(buffer, crcLength, chunkName) {\n    const expectedCrc = buffer.readUint32();\n    const actualCrc = crc(new Uint8Array(buffer.buffer, buffer.byteOffset + buffer.offset - crcLength - 4, crcLength), crcLength); // \"- 4\" because we already advanced by reading the CRC\n    if (actualCrc !== expectedCrc) {\n        throw new Error(`CRC mismatch for chunk ${chunkName}. Expected ${expectedCrc}, found ${actualCrc}`);\n    }\n}\nexport function writeCrc(buffer, length) {\n    buffer.writeUint32(crc(new Uint8Array(buffer.buffer, buffer.byteOffset + buffer.offset - length, length), length));\n}\n//# sourceMappingURL=crc.js.map","export function unfilterNone(currentLine, newLine, bytesPerLine) {\n    for (let i = 0; i < bytesPerLine; i++) {\n        newLine[i] = currentLine[i];\n    }\n}\nexport function unfilterSub(currentLine, newLine, bytesPerLine, bytesPerPixel) {\n    let i = 0;\n    for (; i < bytesPerPixel; i++) {\n        // just copy first bytes\n        newLine[i] = currentLine[i];\n    }\n    for (; i < bytesPerLine; i++) {\n        newLine[i] = (currentLine[i] + newLine[i - bytesPerPixel]) & 0xff;\n    }\n}\nexport function unfilterUp(currentLine, newLine, prevLine, bytesPerLine) {\n    let i = 0;\n    if (prevLine.length === 0) {\n        // just copy bytes for first line\n        for (; i < bytesPerLine; i++) {\n            newLine[i] = currentLine[i];\n        }\n    }\n    else {\n        for (; i < bytesPerLine; i++) {\n            newLine[i] = (currentLine[i] + prevLine[i]) & 0xff;\n        }\n    }\n}\nexport function unfilterAverage(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel) {\n    let i = 0;\n    if (prevLine.length === 0) {\n        for (; i < bytesPerPixel; i++) {\n            newLine[i] = currentLine[i];\n        }\n        for (; i < bytesPerLine; i++) {\n            newLine[i] = (currentLine[i] + (newLine[i - bytesPerPixel] >> 1)) & 0xff;\n        }\n    }\n    else {\n        for (; i < bytesPerPixel; i++) {\n            newLine[i] = (currentLine[i] + (prevLine[i] >> 1)) & 0xff;\n        }\n        for (; i < bytesPerLine; i++) {\n            newLine[i] =\n                (currentLine[i] + ((newLine[i - bytesPerPixel] + prevLine[i]) >> 1)) &\n                    0xff;\n        }\n    }\n}\nexport function unfilterPaeth(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel) {\n    let i = 0;\n    if (prevLine.length === 0) {\n        for (; i < bytesPerPixel; i++) {\n            newLine[i] = currentLine[i];\n        }\n        for (; i < bytesPerLine; i++) {\n            newLine[i] = (currentLine[i] + newLine[i - bytesPerPixel]) & 0xff;\n        }\n    }\n    else {\n        for (; i < bytesPerPixel; i++) {\n            newLine[i] = (currentLine[i] + prevLine[i]) & 0xff;\n        }\n        for (; i < bytesPerLine; i++) {\n            newLine[i] =\n                (currentLine[i] +\n                    paethPredictor(newLine[i - bytesPerPixel], prevLine[i], prevLine[i - bytesPerPixel])) &\n                    0xff;\n        }\n    }\n}\nfunction paethPredictor(a, b, c) {\n    const p = a + b - c;\n    const pa = Math.abs(p - a);\n    const pb = Math.abs(p - b);\n    const pc = Math.abs(p - c);\n    if (pa <= pb && pa <= pc)\n        return a;\n    else if (pb <= pc)\n        return b;\n    else\n        return c;\n}\n//# sourceMappingURL=unfilter.js.map","import { unfilterAverage, unfilterNone, unfilterPaeth, unfilterSub, unfilterUp, } from './unfilter';\n/**\n * Apllies filter on scanline based on the filter type.\n * @param filterType - The filter type to apply.\n * @param currentLine - The current line of pixel data.\n * @param newLine - The new line of pixel data.\n * @param prevLine - The previous line of pixel data.\n * @param passLineBytes - The number of bytes in the pass line.\n * @param bytesPerPixel - The number of bytes per pixel.\n */\nexport function applyUnfilter(filterType, currentLine, newLine, prevLine, passLineBytes, bytesPerPixel) {\n    switch (filterType) {\n        case 0:\n            unfilterNone(currentLine, newLine, passLineBytes);\n            break;\n        case 1:\n            unfilterSub(currentLine, newLine, passLineBytes, bytesPerPixel);\n            break;\n        case 2:\n            unfilterUp(currentLine, newLine, prevLine, passLineBytes);\n            break;\n        case 3:\n            unfilterAverage(currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);\n            break;\n        case 4:\n            unfilterPaeth(currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);\n            break;\n        default:\n            throw new Error(`Unsupported filter: ${filterType}`);\n    }\n}\n//# sourceMappingURL=applyUnfilter.js.map","import { applyUnfilter } from './applyUnfilter';\nconst uint16 = new Uint16Array([0x00ff]);\nconst uint8 = new Uint8Array(uint16.buffer);\nconst osIsLittleEndian = uint8[0] === 0xff;\n/**\n * Decodes the Adam7 interlaced PNG data.\n *\n * @param params - DecodeInterlaceNullParams\n * @returns - array of pixel data.\n */\nexport function decodeInterlaceAdam7(params) {\n    const { data, width, height, channels, depth } = params;\n    // Adam7 interlacing pattern\n    const passes = [\n        { x: 0, y: 0, xStep: 8, yStep: 8 }, // Pass 1\n        { x: 4, y: 0, xStep: 8, yStep: 8 }, // Pass 2\n        { x: 0, y: 4, xStep: 4, yStep: 8 }, // Pass 3\n        { x: 2, y: 0, xStep: 4, yStep: 4 }, // Pass 4\n        { x: 0, y: 2, xStep: 2, yStep: 4 }, // Pass 5\n        { x: 1, y: 0, xStep: 2, yStep: 2 }, // Pass 6\n        { x: 0, y: 1, xStep: 1, yStep: 2 }, // Pass 7\n    ];\n    const bytesPerPixel = Math.ceil(depth / 8) * channels;\n    const resultData = new Uint8Array(height * width * bytesPerPixel);\n    let offset = 0;\n    // Process each pass\n    for (let passIndex = 0; passIndex < 7; passIndex++) {\n        const pass = passes[passIndex];\n        // Calculate pass dimensions\n        const passWidth = Math.ceil((width - pass.x) / pass.xStep);\n        const passHeight = Math.ceil((height - pass.y) / pass.yStep);\n        if (passWidth <= 0 || passHeight <= 0)\n            continue;\n        const passLineBytes = passWidth * bytesPerPixel;\n        const prevLine = new Uint8Array(passLineBytes);\n        // Process each scanline in this pass\n        for (let y = 0; y < passHeight; y++) {\n            // First byte is the filter type\n            const filterType = data[offset++];\n            const currentLine = data.subarray(offset, offset + passLineBytes);\n            offset += passLineBytes;\n            // Create a new line for the unfiltered data\n            const newLine = new Uint8Array(passLineBytes);\n            // Apply the appropriate unfilter\n            applyUnfilter(filterType, currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);\n            prevLine.set(newLine);\n            for (let x = 0; x < passWidth; x++) {\n                const outputX = pass.x + x * pass.xStep;\n                const outputY = pass.y + y * pass.yStep;\n                if (outputX >= width || outputY >= height)\n                    continue;\n                for (let i = 0; i < bytesPerPixel; i++) {\n                    resultData[(outputY * width + outputX) * bytesPerPixel + i] =\n                        newLine[x * bytesPerPixel + i];\n                }\n            }\n        }\n    }\n    if (depth === 16) {\n        const uint16Data = new Uint16Array(resultData.buffer);\n        if (osIsLittleEndian) {\n            for (let k = 0; k < uint16Data.length; k++) {\n                // PNG is always big endian. Swap the bytes.\n                uint16Data[k] = swap16(uint16Data[k]);\n            }\n        }\n        return uint16Data;\n    }\n    else {\n        return resultData;\n    }\n}\nfunction swap16(val) {\n    return ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n}\n//# sourceMappingURL=decodeInterlaceAdam7.js.map","import { unfilterAverage, unfilterNone, unfilterPaeth, unfilterSub, unfilterUp, } from './unfilter';\nconst uint16 = new Uint16Array([0x00ff]);\nconst uint8 = new Uint8Array(uint16.buffer);\nconst osIsLittleEndian = uint8[0] === 0xff;\nconst empty = new Uint8Array(0);\nexport function decodeInterlaceNull(params) {\n    const { data, width, height, channels, depth } = params;\n    const bytesPerPixel = Math.ceil(depth / 8) * channels;\n    const bytesPerLine = Math.ceil((depth / 8) * channels * width);\n    const newData = new Uint8Array(height * bytesPerLine);\n    let prevLine = empty;\n    let offset = 0;\n    let currentLine;\n    let newLine;\n    for (let i = 0; i < height; i++) {\n        currentLine = data.subarray(offset + 1, offset + 1 + bytesPerLine);\n        newLine = newData.subarray(i * bytesPerLine, (i + 1) * bytesPerLine);\n        switch (data[offset]) {\n            case 0:\n                unfilterNone(currentLine, newLine, bytesPerLine);\n                break;\n            case 1:\n                unfilterSub(currentLine, newLine, bytesPerLine, bytesPerPixel);\n                break;\n            case 2:\n                unfilterUp(currentLine, newLine, prevLine, bytesPerLine);\n                break;\n            case 3:\n                unfilterAverage(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel);\n                break;\n            case 4:\n                unfilterPaeth(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel);\n                break;\n            default:\n                throw new Error(`Unsupported filter: ${data[offset]}`);\n        }\n        prevLine = newLine;\n        offset += bytesPerLine + 1;\n    }\n    if (depth === 16) {\n        const uint16Data = new Uint16Array(newData.buffer);\n        if (osIsLittleEndian) {\n            for (let k = 0; k < uint16Data.length; k++) {\n                // PNG is always big endian. Swap the bytes.\n                uint16Data[k] = swap16(uint16Data[k]);\n            }\n        }\n        return uint16Data;\n    }\n    else {\n        return newData;\n    }\n}\nfunction swap16(val) {\n    return ((val & 0xff) << 8) | ((val >> 8) & 0xff);\n}\n//# sourceMappingURL=decodeInterlaceNull.js.map","// https://www.w3.org/TR/PNG/#5PNG-file-signature\nconst pngSignature = Uint8Array.of(137, 80, 78, 71, 13, 10, 26, 10);\nexport function writeSignature(buffer) {\n    buffer.writeBytes(pngSignature);\n}\nexport function checkSignature(buffer) {\n    if (!hasPngSignature(buffer.readBytes(pngSignature.length))) {\n        throw new Error('wrong PNG signature');\n    }\n}\nexport function hasPngSignature(array) {\n    if (array.length < pngSignature.length) {\n        return false;\n    }\n    for (let i = 0; i < pngSignature.length; i++) {\n        if (array[i] !== pngSignature[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=signature.js.map","import { writeCrc } from './crc';\n// https://www.w3.org/TR/png/#11tEXt\nexport const textChunkName = 'tEXt';\nconst NULL = 0;\nconst latin1Decoder = new TextDecoder('latin1');\nfunction validateKeyword(keyword) {\n    validateLatin1(keyword);\n    if (keyword.length === 0 || keyword.length > 79) {\n        throw new Error('keyword length must be between 1 and 79');\n    }\n}\n// eslint-disable-next-line no-control-regex\nconst latin1Regex = /^[\\u0000-\\u00FF]*$/;\nfunction validateLatin1(text) {\n    if (!latin1Regex.test(text)) {\n        throw new Error('invalid latin1 text');\n    }\n}\nexport function decodetEXt(text, buffer, length) {\n    const keyword = readKeyword(buffer);\n    text[keyword] = readLatin1(buffer, length - keyword.length - 1);\n}\nexport function encodetEXt(buffer, keyword, text) {\n    validateKeyword(keyword);\n    validateLatin1(text);\n    const length = keyword.length + 1 /* NULL */ + text.length;\n    buffer.writeUint32(length);\n    buffer.writeChars(textChunkName);\n    buffer.writeChars(keyword);\n    buffer.writeByte(NULL);\n    buffer.writeChars(text);\n    writeCrc(buffer, length + 4);\n}\n// https://www.w3.org/TR/png/#11keywords\nexport function readKeyword(buffer) {\n    buffer.mark();\n    while (buffer.readByte() !== NULL) {\n        /* advance */\n    }\n    const end = buffer.offset;\n    buffer.reset();\n    const keyword = latin1Decoder.decode(buffer.readBytes(end - buffer.offset - 1));\n    // NULL\n    buffer.skip(1);\n    validateKeyword(keyword);\n    return keyword;\n}\nexport function readLatin1(buffer, length) {\n    return latin1Decoder.decode(buffer.readBytes(length));\n}\n//# sourceMappingURL=text.js.map","export const ColorType = {\n    UNKNOWN: -1,\n    GREYSCALE: 0,\n    TRUECOLOUR: 2,\n    INDEXED_COLOUR: 3,\n    GREYSCALE_ALPHA: 4,\n    TRUECOLOUR_ALPHA: 6,\n};\nexport const CompressionMethod = {\n    UNKNOWN: -1,\n    DEFLATE: 0,\n};\nexport const FilterMethod = {\n    UNKNOWN: -1,\n    ADAPTIVE: 0,\n};\nexport const InterlaceMethod = {\n    UNKNOWN: -1,\n    NO_INTERLACE: 0,\n    ADAM7: 1,\n};\nexport const DisposeOpType = {\n    NONE: 0,\n    BACKGROUND: 1,\n    PREVIOUS: 2,\n};\nexport const BlendOpType = {\n    SOURCE: 0,\n    OVER: 1,\n};\n//# sourceMappingURL=internalTypes.js.map","import { IOBuffer } from 'iobuffer';\nimport { inflate, Inflate as Inflator } from 'pako';\nimport { checkCrc } from './helpers/crc';\nimport { decodeInterlaceAdam7 } from './helpers/decodeInterlaceAdam7';\nimport { decodeInterlaceNull } from './helpers/decodeInterlaceNull';\nimport { checkSignature } from './helpers/signature';\nimport { decodetEXt, readKeyword, textChunkName } from './helpers/text';\nimport { ColorType, CompressionMethod, DisposeOpType, FilterMethod, InterlaceMethod, BlendOpType, } from './internalTypes';\nexport default class PngDecoder extends IOBuffer {\n    _checkCrc;\n    _inflator;\n    _png;\n    _apng;\n    _end;\n    _hasPalette;\n    _palette;\n    _hasTransparency;\n    _transparency;\n    _compressionMethod;\n    _filterMethod;\n    _interlaceMethod;\n    _colorType;\n    _isAnimated;\n    _numberOfFrames;\n    _numberOfPlays;\n    _frames;\n    _writingDataChunks;\n    constructor(data, options = {}) {\n        super(data);\n        const { checkCrc = false } = options;\n        this._checkCrc = checkCrc;\n        this._inflator = new Inflator();\n        this._png = {\n            width: -1,\n            height: -1,\n            channels: -1,\n            data: new Uint8Array(0),\n            depth: 1,\n            text: {},\n        };\n        this._apng = {\n            width: -1,\n            height: -1,\n            channels: -1,\n            depth: 1,\n            numberOfFrames: 1,\n            numberOfPlays: 0,\n            text: {},\n            frames: [],\n        };\n        this._end = false;\n        this._hasPalette = false;\n        this._palette = [];\n        this._hasTransparency = false;\n        this._transparency = new Uint16Array(0);\n        this._compressionMethod = CompressionMethod.UNKNOWN;\n        this._filterMethod = FilterMethod.UNKNOWN;\n        this._interlaceMethod = InterlaceMethod.UNKNOWN;\n        this._colorType = ColorType.UNKNOWN;\n        this._isAnimated = false;\n        this._numberOfFrames = 1;\n        this._numberOfPlays = 0;\n        this._frames = [];\n        this._writingDataChunks = false;\n        // PNG is always big endian\n        // https://www.w3.org/TR/PNG/#7Integers-and-byte-order\n        this.setBigEndian();\n    }\n    decode() {\n        checkSignature(this);\n        while (!this._end) {\n            const length = this.readUint32();\n            const type = this.readChars(4);\n            this.decodeChunk(length, type);\n        }\n        this.decodeImage();\n        return this._png;\n    }\n    decodeApng() {\n        checkSignature(this);\n        while (!this._end) {\n            const length = this.readUint32();\n            const type = this.readChars(4);\n            this.decodeApngChunk(length, type);\n        }\n        this.decodeApngImage();\n        return this._apng;\n    }\n    // https://www.w3.org/TR/PNG/#5Chunk-layout\n    decodeChunk(length, type) {\n        const offset = this.offset;\n        switch (type) {\n            // 11.2 Critical chunks\n            case 'IHDR': // 11.2.2 IHDR Image header\n                this.decodeIHDR();\n                break;\n            case 'PLTE': // 11.2.3 PLTE Palette\n                this.decodePLTE(length);\n                break;\n            case 'IDAT': // 11.2.4 IDAT Image data\n                this.decodeIDAT(length);\n                break;\n            case 'IEND': // 11.2.5 IEND Image trailer\n                this._end = true;\n                break;\n            // 11.3 Ancillary chunks\n            case 'tRNS': // 11.3.2.1 tRNS Transparency\n                this.decodetRNS(length);\n                break;\n            case 'iCCP': // 11.3.3.3 iCCP Embedded ICC profile\n                this.decodeiCCP(length);\n                break;\n            case textChunkName: // 11.3.4.3 tEXt Textual data\n                decodetEXt(this._png.text, this, length);\n                break;\n            case 'pHYs': // 11.3.5.3 pHYs Physical pixel dimensions\n                this.decodepHYs();\n                break;\n            default:\n                this.skip(length);\n                break;\n        }\n        if (this.offset - offset !== length) {\n            throw new Error(`Length mismatch while decoding chunk ${type}`);\n        }\n        if (this._checkCrc) {\n            checkCrc(this, length + 4, type);\n        }\n        else {\n            this.skip(4);\n        }\n    }\n    decodeApngChunk(length, type) {\n        const offset = this.offset;\n        if (type !== 'fdAT' && type !== 'IDAT' && this._writingDataChunks) {\n            this.pushDataToFrame();\n        }\n        switch (type) {\n            case 'acTL':\n                this.decodeACTL();\n                break;\n            case 'fcTL':\n                this.decodeFCTL();\n                break;\n            case 'fdAT':\n                this.decodeFDAT(length);\n                break;\n            default:\n                this.decodeChunk(length, type);\n                this.offset = offset + length;\n                break;\n        }\n        if (this.offset - offset !== length) {\n            throw new Error(`Length mismatch while decoding chunk ${type}`);\n        }\n        if (this._checkCrc) {\n            checkCrc(this, length + 4, type);\n        }\n        else {\n            this.skip(4);\n        }\n    }\n    // https://www.w3.org/TR/PNG/#11IHDR\n    decodeIHDR() {\n        const image = this._png;\n        image.width = this.readUint32();\n        image.height = this.readUint32();\n        image.depth = checkBitDepth(this.readUint8());\n        const colorType = this.readUint8();\n        this._colorType = colorType;\n        let channels;\n        switch (colorType) {\n            case ColorType.GREYSCALE:\n                channels = 1;\n                break;\n            case ColorType.TRUECOLOUR:\n                channels = 3;\n                break;\n            case ColorType.INDEXED_COLOUR:\n                channels = 1;\n                break;\n            case ColorType.GREYSCALE_ALPHA:\n                channels = 2;\n                break;\n            case ColorType.TRUECOLOUR_ALPHA:\n                channels = 4;\n                break;\n            // Kept for exhaustiveness.\n            // eslint-disable-next-line unicorn/no-useless-switch-case\n            case ColorType.UNKNOWN:\n            default:\n                throw new Error(`Unknown color type: ${colorType}`);\n        }\n        this._png.channels = channels;\n        this._compressionMethod = this.readUint8();\n        if (this._compressionMethod !== CompressionMethod.DEFLATE) {\n            throw new Error(`Unsupported compression method: ${this._compressionMethod}`);\n        }\n        this._filterMethod = this.readUint8();\n        this._interlaceMethod = this.readUint8();\n    }\n    decodeACTL() {\n        this._numberOfFrames = this.readUint32();\n        this._numberOfPlays = this.readUint32();\n        this._isAnimated = true;\n    }\n    decodeFCTL() {\n        const image = {\n            sequenceNumber: this.readUint32(),\n            width: this.readUint32(),\n            height: this.readUint32(),\n            xOffset: this.readUint32(),\n            yOffset: this.readUint32(),\n            delayNumber: this.readUint16(),\n            delayDenominator: this.readUint16(),\n            disposeOp: this.readUint8(),\n            blendOp: this.readUint8(),\n            data: new Uint8Array(0),\n        };\n        this._frames.push(image);\n    }\n    // https://www.w3.org/TR/PNG/#11PLTE\n    decodePLTE(length) {\n        if (length % 3 !== 0) {\n            throw new RangeError(`PLTE field length must be a multiple of 3. Got ${length}`);\n        }\n        const l = length / 3;\n        this._hasPalette = true;\n        const palette = [];\n        this._palette = palette;\n        for (let i = 0; i < l; i++) {\n            palette.push([this.readUint8(), this.readUint8(), this.readUint8()]);\n        }\n    }\n    // https://www.w3.org/TR/PNG/#11IDAT\n    decodeIDAT(length) {\n        this._writingDataChunks = true;\n        const dataLength = length;\n        const dataOffset = this.offset + this.byteOffset;\n        this._inflator.push(new Uint8Array(this.buffer, dataOffset, dataLength));\n        if (this._inflator.err) {\n            throw new Error(`Error while decompressing the data: ${this._inflator.err}`);\n        }\n        this.skip(length);\n    }\n    decodeFDAT(length) {\n        this._writingDataChunks = true;\n        let dataLength = length;\n        let dataOffset = this.offset + this.byteOffset;\n        dataOffset += 4;\n        dataLength -= 4;\n        this._inflator.push(new Uint8Array(this.buffer, dataOffset, dataLength));\n        if (this._inflator.err) {\n            throw new Error(`Error while decompressing the data: ${this._inflator.err}`);\n        }\n        this.skip(length);\n    }\n    // https://www.w3.org/TR/PNG/#11tRNS\n    decodetRNS(length) {\n        switch (this._colorType) {\n            case ColorType.GREYSCALE:\n            case ColorType.TRUECOLOUR: {\n                if (length % 2 !== 0) {\n                    throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${length}`);\n                }\n                if (length / 2 > this._png.width * this._png.height) {\n                    throw new Error(`tRNS chunk contains more alpha values than there are pixels (${length / 2} vs ${this._png.width * this._png.height})`);\n                }\n                this._hasTransparency = true;\n                this._transparency = new Uint16Array(length / 2);\n                for (let i = 0; i < length / 2; i++) {\n                    this._transparency[i] = this.readUint16();\n                }\n                break;\n            }\n            case ColorType.INDEXED_COLOUR: {\n                if (length > this._palette.length) {\n                    throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${length} vs ${this._palette.length})`);\n                }\n                let i = 0;\n                for (; i < length; i++) {\n                    const alpha = this.readByte();\n                    this._palette[i].push(alpha);\n                }\n                for (; i < this._palette.length; i++) {\n                    this._palette[i].push(255);\n                }\n                break;\n            }\n            // Kept for exhaustiveness.\n            /* eslint-disable unicorn/no-useless-switch-case */\n            case ColorType.UNKNOWN:\n            case ColorType.GREYSCALE_ALPHA:\n            case ColorType.TRUECOLOUR_ALPHA:\n            default: {\n                throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`);\n            }\n            /* eslint-enable unicorn/no-useless-switch-case */\n        }\n    }\n    // https://www.w3.org/TR/PNG/#11iCCP\n    decodeiCCP(length) {\n        const name = readKeyword(this);\n        const compressionMethod = this.readUint8();\n        if (compressionMethod !== CompressionMethod.DEFLATE) {\n            throw new Error(`Unsupported iCCP compression method: ${compressionMethod}`);\n        }\n        const compressedProfile = this.readBytes(length - name.length - 2);\n        this._png.iccEmbeddedProfile = {\n            name,\n            profile: inflate(compressedProfile),\n        };\n    }\n    // https://www.w3.org/TR/PNG/#11pHYs\n    decodepHYs() {\n        const ppuX = this.readUint32();\n        const ppuY = this.readUint32();\n        const unitSpecifier = this.readByte();\n        this._png.resolution = { x: ppuX, y: ppuY, unit: unitSpecifier };\n    }\n    decodeApngImage() {\n        this._apng.width = this._png.width;\n        this._apng.height = this._png.height;\n        this._apng.channels = this._png.channels;\n        this._apng.depth = this._png.depth;\n        this._apng.numberOfFrames = this._numberOfFrames;\n        this._apng.numberOfPlays = this._numberOfPlays;\n        this._apng.text = this._png.text;\n        this._apng.resolution = this._png.resolution;\n        for (let i = 0; i < this._numberOfFrames; i++) {\n            const newFrame = {\n                sequenceNumber: this._frames[i].sequenceNumber,\n                delayNumber: this._frames[i].delayNumber,\n                delayDenominator: this._frames[i].delayDenominator,\n                data: this._apng.depth === 8\n                    ? new Uint8Array(this._apng.width * this._apng.height * this._apng.channels)\n                    : new Uint16Array(this._apng.width * this._apng.height * this._apng.channels),\n            };\n            const frame = this._frames.at(i);\n            if (frame) {\n                frame.data = decodeInterlaceNull({\n                    data: frame.data,\n                    width: frame.width,\n                    height: frame.height,\n                    channels: this._apng.channels,\n                    depth: this._apng.depth,\n                });\n                if (this._hasPalette) {\n                    this._apng.palette = this._palette;\n                }\n                if (this._hasTransparency) {\n                    this._apng.transparency = this._transparency;\n                }\n                if (i === 0 ||\n                    (frame.xOffset === 0 &&\n                        frame.yOffset === 0 &&\n                        frame.width === this._png.width &&\n                        frame.height === this._png.height)) {\n                    newFrame.data = frame.data;\n                }\n                else {\n                    const prevFrame = this._apng.frames.at(i - 1);\n                    this.disposeFrame(frame, prevFrame, newFrame);\n                    this.addFrameDataToCanvas(newFrame, frame);\n                }\n                this._apng.frames.push(newFrame);\n            }\n        }\n        return this._apng;\n    }\n    disposeFrame(frame, prevFrame, imageFrame) {\n        switch (frame.disposeOp) {\n            case DisposeOpType.NONE:\n                break;\n            case DisposeOpType.BACKGROUND:\n                for (let row = 0; row < this._png.height; row++) {\n                    for (let col = 0; col < this._png.width; col++) {\n                        const index = (row * frame.width + col) * this._png.channels;\n                        for (let channel = 0; channel < this._png.channels; channel++) {\n                            imageFrame.data[index + channel] = 0;\n                        }\n                    }\n                }\n                break;\n            case DisposeOpType.PREVIOUS:\n                imageFrame.data.set(prevFrame.data);\n                break;\n            default:\n                throw new Error('Unknown disposeOp');\n        }\n    }\n    addFrameDataToCanvas(imageFrame, frame) {\n        const maxValue = 1 << this._png.depth;\n        const calculatePixelIndices = (row, col) => {\n            const index = ((row + frame.yOffset) * this._png.width + frame.xOffset + col) *\n                this._png.channels;\n            const frameIndex = (row * frame.width + col) * this._png.channels;\n            return { index, frameIndex };\n        };\n        switch (frame.blendOp) {\n            case BlendOpType.SOURCE:\n                for (let row = 0; row < frame.height; row++) {\n                    for (let col = 0; col < frame.width; col++) {\n                        const { index, frameIndex } = calculatePixelIndices(row, col);\n                        for (let channel = 0; channel < this._png.channels; channel++) {\n                            imageFrame.data[index + channel] =\n                                frame.data[frameIndex + channel];\n                        }\n                    }\n                }\n                break;\n            // https://www.w3.org/TR/png-3/#13Alpha-channel-processing\n            case BlendOpType.OVER:\n                for (let row = 0; row < frame.height; row++) {\n                    for (let col = 0; col < frame.width; col++) {\n                        const { index, frameIndex } = calculatePixelIndices(row, col);\n                        for (let channel = 0; channel < this._png.channels; channel++) {\n                            const sourceAlpha = frame.data[frameIndex + this._png.channels - 1] / maxValue;\n                            const foregroundValue = channel % (this._png.channels - 1) === 0\n                                ? 1\n                                : frame.data[frameIndex + channel];\n                            const value = Math.floor(sourceAlpha * foregroundValue +\n                                (1 - sourceAlpha) * imageFrame.data[index + channel]);\n                            imageFrame.data[index + channel] += value;\n                        }\n                    }\n                }\n                break;\n            default:\n                throw new Error('Unknown blendOp');\n        }\n    }\n    decodeImage() {\n        if (this._inflator.err) {\n            throw new Error(`Error while decompressing the data: ${this._inflator.err}`);\n        }\n        const data = this._isAnimated\n            ? (this._frames?.at(0)).data\n            : this._inflator.result;\n        if (this._filterMethod !== FilterMethod.ADAPTIVE) {\n            throw new Error(`Filter method ${this._filterMethod} not supported`);\n        }\n        if (this._interlaceMethod === InterlaceMethod.NO_INTERLACE) {\n            this._png.data = decodeInterlaceNull({\n                data: data,\n                width: this._png.width,\n                height: this._png.height,\n                channels: this._png.channels,\n                depth: this._png.depth,\n            });\n        }\n        else if (this._interlaceMethod === InterlaceMethod.ADAM7) {\n            this._png.data = decodeInterlaceAdam7({\n                data: data,\n                width: this._png.width,\n                height: this._png.height,\n                channels: this._png.channels,\n                depth: this._png.depth,\n            });\n        }\n        else {\n            throw new Error(`Interlace method ${this._interlaceMethod} not supported`);\n        }\n        if (this._hasPalette) {\n            this._png.palette = this._palette;\n        }\n        if (this._hasTransparency) {\n            this._png.transparency = this._transparency;\n        }\n    }\n    pushDataToFrame() {\n        const result = this._inflator.result;\n        const lastFrame = this._frames.at(-1);\n        if (lastFrame) {\n            lastFrame.data = result;\n        }\n        else {\n            this._frames.push({\n                sequenceNumber: 0,\n                width: this._png.width,\n                height: this._png.height,\n                xOffset: 0,\n                yOffset: 0,\n                delayNumber: 0,\n                delayDenominator: 0,\n                disposeOp: DisposeOpType.NONE,\n                blendOp: BlendOpType.SOURCE,\n                data: result,\n            });\n        }\n        this._inflator = new Inflator();\n        this._writingDataChunks = false;\n    }\n}\nfunction checkBitDepth(value) {\n    if (value !== 1 &&\n        value !== 2 &&\n        value !== 4 &&\n        value !== 8 &&\n        value !== 16) {\n        throw new Error(`invalid bit depth: ${value}`);\n    }\n    return value;\n}\n//# sourceMappingURL=PngDecoder.js.map","import { IOBuffer } from 'iobuffer';\nimport { deflate } from 'pako';\nimport { writeCrc } from './helpers/crc';\nimport { writeSignature } from './helpers/signature';\nimport { encodetEXt } from './helpers/text';\nimport { InterlaceMethod, ColorType, CompressionMethod, FilterMethod, } from './internalTypes';\nconst defaultZlibOptions = {\n    level: 3,\n};\nexport default class PngEncoder extends IOBuffer {\n    _png;\n    _zlibOptions;\n    _colorType;\n    _interlaceMethod;\n    constructor(data, options = {}) {\n        super();\n        this._colorType = ColorType.UNKNOWN;\n        this._zlibOptions = { ...defaultZlibOptions, ...options.zlib };\n        this._png = this._checkData(data);\n        this._interlaceMethod =\n            (options.interlace === 'Adam7'\n                ? InterlaceMethod.ADAM7\n                : InterlaceMethod.NO_INTERLACE) ?? InterlaceMethod.NO_INTERLACE;\n        this.setBigEndian();\n    }\n    encode() {\n        writeSignature(this);\n        this.encodeIHDR();\n        if (this._png.palette) {\n            this.encodePLTE();\n            if (this._png.palette[0].length === 4) {\n                this.encodeTRNS();\n            }\n        }\n        this.encodeData();\n        if (this._png.text) {\n            for (const [keyword, text] of Object.entries(this._png.text)) {\n                encodetEXt(this, keyword, text);\n            }\n        }\n        this.encodeIEND();\n        return this.toArray();\n    }\n    // https://www.w3.org/TR/PNG/#11IHDR\n    encodeIHDR() {\n        this.writeUint32(13);\n        this.writeChars('IHDR');\n        this.writeUint32(this._png.width);\n        this.writeUint32(this._png.height);\n        this.writeByte(this._png.depth);\n        this.writeByte(this._colorType);\n        this.writeByte(CompressionMethod.DEFLATE);\n        this.writeByte(FilterMethod.ADAPTIVE);\n        this.writeByte(this._interlaceMethod);\n        writeCrc(this, 17);\n    }\n    // https://www.w3.org/TR/PNG/#11IEND\n    encodeIEND() {\n        this.writeUint32(0);\n        this.writeChars('IEND');\n        writeCrc(this, 4);\n    }\n    encodePLTE() {\n        const paletteLength = this._png.palette?.length * 3;\n        this.writeUint32(paletteLength);\n        this.writeChars('PLTE');\n        for (const color of this._png.palette) {\n            this.writeByte(color[0]);\n            this.writeByte(color[1]);\n            this.writeByte(color[2]);\n        }\n        writeCrc(this, 4 + paletteLength);\n    }\n    encodeTRNS() {\n        const alpha = this._png.palette.filter((color) => {\n            return color.at(-1) !== 255;\n        });\n        this.writeUint32(alpha.length);\n        this.writeChars('tRNS');\n        for (const el of alpha) {\n            this.writeByte(el.at(-1));\n        }\n        writeCrc(this, 4 + alpha.length);\n    }\n    // https://www.w3.org/TR/PNG/#11IDAT\n    encodeIDAT(data) {\n        this.writeUint32(data.length);\n        this.writeChars('IDAT');\n        this.writeBytes(data);\n        writeCrc(this, data.length + 4);\n    }\n    encodeData() {\n        const { width, height, channels, depth, data } = this._png;\n        const slotsPerLine = depth <= 8\n            ? Math.ceil((width * depth) / 8) * channels\n            : Math.ceil((((width * depth) / 8) * channels) / 2);\n        const newData = new IOBuffer().setBigEndian();\n        let offset = 0;\n        if (this._interlaceMethod === InterlaceMethod.NO_INTERLACE) {\n            for (let i = 0; i < height; i++) {\n                newData.writeByte(0); // no filter\n                if (depth === 16) {\n                    offset = writeDataUint16(data, newData, slotsPerLine, offset);\n                }\n                else {\n                    offset = writeDataBytes(data, newData, slotsPerLine, offset);\n                }\n            }\n        }\n        else if (this._interlaceMethod === InterlaceMethod.ADAM7) {\n            // Adam7 interlacing\n            offset = writeDataInterlaced(this._png, data, newData, offset);\n        }\n        const buffer = newData.toArray();\n        const compressed = deflate(buffer, this._zlibOptions);\n        this.encodeIDAT(compressed);\n    }\n    _checkData(data) {\n        const { colorType, channels, depth } = getColorType(data, data.palette);\n        const png = {\n            width: checkInteger(data.width, 'width'),\n            height: checkInteger(data.height, 'height'),\n            channels,\n            data: data.data,\n            depth,\n            text: data.text,\n            palette: data.palette,\n        };\n        this._colorType = colorType;\n        const expectedSize = depth < 8\n            ? Math.ceil((png.width * depth) / 8) * png.height * channels\n            : png.width * png.height * channels;\n        if (png.data.length !== expectedSize) {\n            throw new RangeError(`wrong data size. Found ${png.data.length}, expected ${expectedSize}`);\n        }\n        return png;\n    }\n}\nfunction checkInteger(value, name) {\n    if (Number.isInteger(value) && value > 0) {\n        return value;\n    }\n    throw new TypeError(`${name} must be a positive integer`);\n}\nfunction getColorType(data, palette) {\n    const { channels = 4, depth = 8 } = data;\n    if (channels !== 4 && channels !== 3 && channels !== 2 && channels !== 1) {\n        throw new RangeError(`unsupported number of channels: ${channels}`);\n    }\n    const returnValue = {\n        channels,\n        depth,\n        colorType: ColorType.UNKNOWN,\n    };\n    switch (channels) {\n        case 4:\n            returnValue.colorType = ColorType.TRUECOLOUR_ALPHA;\n            break;\n        case 3:\n            returnValue.colorType = ColorType.TRUECOLOUR;\n            break;\n        case 1:\n            if (palette) {\n                returnValue.colorType = ColorType.INDEXED_COLOUR;\n            }\n            else {\n                returnValue.colorType = ColorType.GREYSCALE;\n            }\n            break;\n        case 2:\n            returnValue.colorType = ColorType.GREYSCALE_ALPHA;\n            break;\n        default:\n            throw new Error('unsupported number of channels');\n    }\n    return returnValue;\n}\nfunction writeDataBytes(data, newData, slotsPerLine, offset) {\n    for (let j = 0; j < slotsPerLine; j++) {\n        newData.writeByte(data[offset++]);\n    }\n    return offset;\n}\nfunction writeDataInterlaced(imageData, data, newData, offset) {\n    const passes = [\n        { x: 0, y: 0, xStep: 8, yStep: 8 },\n        { x: 4, y: 0, xStep: 8, yStep: 8 },\n        { x: 0, y: 4, xStep: 4, yStep: 8 },\n        { x: 2, y: 0, xStep: 4, yStep: 4 },\n        { x: 0, y: 2, xStep: 2, yStep: 4 },\n        { x: 1, y: 0, xStep: 2, yStep: 2 },\n        { x: 0, y: 1, xStep: 1, yStep: 2 },\n    ];\n    const { width, height, channels, depth } = imageData;\n    let pixelSize = 0;\n    if (depth === 16) {\n        pixelSize = (channels * depth) / 8 / 2;\n    }\n    else {\n        pixelSize = (channels * depth) / 8;\n    }\n    // Process each pass\n    for (let passIndex = 0; passIndex < 7; passIndex++) {\n        const pass = passes[passIndex];\n        const passWidth = Math.floor((width - pass.x + pass.xStep - 1) / pass.xStep);\n        const passHeight = Math.floor((height - pass.y + pass.yStep - 1) / pass.yStep);\n        if (passWidth <= 0 || passHeight <= 0)\n            continue;\n        const passLineBytes = passWidth * pixelSize;\n        // For each scanline in this pass\n        for (let y = 0; y < passHeight; y++) {\n            const imageY = pass.y + y * pass.yStep;\n            // Extract raw scanline data\n            const rawScanline = depth <= 8\n                ? new Uint8Array(passLineBytes)\n                : new Uint16Array(passLineBytes);\n            let rawOffset = 0;\n            for (let x = 0; x < passWidth; x++) {\n                const imageX = pass.x + x * pass.xStep;\n                if (imageX < width && imageY < height) {\n                    const srcPos = (imageY * width + imageX) * pixelSize;\n                    for (let i = 0; i < pixelSize; i++) {\n                        rawScanline[rawOffset++] = data[srcPos + i];\n                    }\n                }\n            }\n            newData.writeByte(0); // no filter\n            if (depth === 8) {\n                newData.writeBytes(rawScanline);\n            }\n            else if (depth === 16) {\n                for (const value of rawScanline) {\n                    newData.writeByte((value >> 8) & 0xff); // High byte\n                    newData.writeByte(value & 0xff);\n                }\n            }\n        }\n    }\n    return offset;\n}\nfunction writeDataUint16(data, newData, slotsPerLine, offset) {\n    for (let j = 0; j < slotsPerLine; j++) {\n        newData.writeUint16(data[offset++]);\n    }\n    return offset;\n}\n//# sourceMappingURL=PngEncoder.js.map","export var ResolutionUnitSpecifier;\n(function (ResolutionUnitSpecifier) {\n    /**\n     * Unit is unknown\n     */\n    ResolutionUnitSpecifier[ResolutionUnitSpecifier[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /**\n     * Unit is the metre\n     */\n    ResolutionUnitSpecifier[ResolutionUnitSpecifier[\"METRE\"] = 1] = \"METRE\";\n})(ResolutionUnitSpecifier || (ResolutionUnitSpecifier = {}));\n//# sourceMappingURL=types.js.map","import PngDecoder from './PngDecoder';\nimport PngEncoder from './PngEncoder';\nexport { hasPngSignature } from './helpers/signature';\nexport * from './types';\nfunction decodePng(data, options) {\n    const decoder = new PngDecoder(data, options);\n    return decoder.decode();\n}\nfunction encodePng(png, options) {\n    const encoder = new PngEncoder(png, options);\n    return encoder.encode();\n}\nfunction decodeApng(data, options) {\n    const decoder = new PngDecoder(data, options);\n    return decoder.decodeApng();\n}\nexport { decodePng as decode, encodePng as encode, decodeApng };\nexport { convertIndexedToRgb } from './convertIndexedToRgb';\n//# sourceMappingURL=index.js.map","'use strict';\nvar isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a constructor');\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\nvar REDUCE_EMPTY = 'Reduce of empty array with no initial value';\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    aCallable(callbackfn);\n    if (length === 0 && argumentsLength < 2) throw new $TypeError(REDUCE_EMPTY);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw new $TypeError(REDUCE_EMPTY);\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  try {\n    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  } catch (error) { return false; } // workaround of old WebKit + `eval` bug\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\n// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\n// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`\nvar documentCreateElement = require('../internals/document-create-element');\n\nvar classList = documentCreateElement('span').classList;\nvar DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;\n\nmodule.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;\n","'use strict';\nvar userAgent = require('../internals/environment-user-agent');\n\nmodule.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';\n","'use strict';\nvar userAgent = require('../internals/environment-user-agent');\n\n// eslint-disable-next-line redos/no-vulnerable -- safe\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n","'use strict';\nvar ENVIRONMENT = require('../internals/environment');\n\nmodule.exports = ENVIRONMENT === 'NODE';\n","'use strict';\nvar userAgent = require('../internals/environment-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","'use strict';\n/* global Bun, Deno -- detection */\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\nvar classof = require('../internals/classof-raw');\n\nvar userAgentStartsWith = function (string) {\n  return userAgent.slice(0, string.length) === string;\n};\n\nmodule.exports = (function () {\n  if (userAgentStartsWith('Bun/')) return 'BUN';\n  if (userAgentStartsWith('Cloudflare-Workers')) return 'CLOUDFLARE';\n  if (userAgentStartsWith('Deno/')) return 'DENO';\n  if (userAgentStartsWith('Node.js/')) return 'NODE';\n  if (globalThis.Bun && typeof Bun.version == 'string') return 'BUN';\n  if (globalThis.Deno && typeof Deno.version == 'object') return 'DENO';\n  if (classof(globalThis.process) === 'process') return 'NODE';\n  if (globalThis.window && globalThis.document) return 'BROWSER';\n  return 'REST';\n})();\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegExp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) !== 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () {\n      execCalled = true;\n      return null;\n    };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: call(nativeRegExpMethod, regexp, str, arg2) };\n        }\n        return { done: true, value: call(nativeMethod, str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    defineBuiltIn(String.prototype, KEY, methods[0]);\n    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar charAt = uncurryThis(''.charAt);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (charAt(ch, 0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return stringSlice(str, 0, position);\n      case \"'\": return stringSlice(str, tailPos);\n      case '<':\n        capture = namedCaptures[stringSlice(ch, 1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","'use strict';\nmodule.exports = function (a, b) {\n  try {\n    // eslint-disable-next-line no-console -- safe\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.test(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, [], argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) === 'RegExp');\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];\n\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    }\n\n    return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME === 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar safeGetBuiltIn = require('../internals/safe-get-built-in');\nvar bind = require('../internals/function-bind-context');\nvar macrotask = require('../internals/task').set;\nvar Queue = require('../internals/queue');\nvar IS_IOS = require('../internals/environment-is-ios');\nvar IS_IOS_PEBBLE = require('../internals/environment-is-ios-pebble');\nvar IS_WEBOS_WEBKIT = require('../internals/environment-is-webos-webkit');\nvar IS_NODE = require('../internals/environment-is-node');\n\nvar MutationObserver = globalThis.MutationObserver || globalThis.WebKitMutationObserver;\nvar document = globalThis.document;\nvar process = globalThis.process;\nvar Promise = globalThis.Promise;\nvar microtask = safeGetBuiltIn('queueMicrotask');\nvar notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!microtask) {\n  var queue = new Queue();\n\n  var flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (fn = queue.get()) try {\n      fn();\n    } catch (error) {\n      if (queue.head) notify();\n      throw error;\n    }\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = bind(promise.then, promise);\n    notify = function () {\n      then(flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessage\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    // `webpack` dev server bug on IE global methods - use bind(fn, global)\n    macrotask = bind(macrotask, globalThis);\n    notify = function () {\n      macrotask(flush);\n    };\n  }\n\n  microtask = function (fn) {\n    if (!queue.head) notify();\n    queue.add(fn);\n  };\n}\n\nmodule.exports = microtask;\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw new $TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar isRegExp = require('../internals/is-regexp');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw new $TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar isCallable = require('../internals/is-callable');\nvar isForced = require('../internals/is-forced');\nvar inspectSource = require('../internals/inspect-source');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar ENVIRONMENT = require('../internals/environment');\nvar IS_PURE = require('../internals/is-pure');\nvar V8_VERSION = require('../internals/environment-v8-version');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar SPECIES = wellKnownSymbol('species');\nvar SUBCLASSING = false;\nvar NATIVE_PROMISE_REJECTION_EVENT = isCallable(globalThis.PromiseRejectionEvent);\n\nvar FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution\n  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {\n    // Detect correctness of subclassing with @@species support\n    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });\n    var FakePromise = function (exec) {\n      exec(function () { /* empty */ }, function () { /* empty */ });\n    };\n    var constructor = promise.constructor = {};\n    constructor[SPECIES] = FakePromise;\n    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n    if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  } return !GLOBAL_CORE_JS_PROMISE && (ENVIRONMENT === 'BROWSER' || ENVIRONMENT === 'DENO') && !NATIVE_PROMISE_REJECTION_EVENT;\n});\n\nmodule.exports = {\n  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,\n  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,\n  SUBCLASSING: SUBCLASSING\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nmodule.exports = globalThis.Promise;\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\n\nmodule.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {\n  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });\n});\n","'use strict';\nvar Queue = function () {\n  this.head = null;\n  this.tail = null;\n};\n\nQueue.prototype = {\n  add: function (item) {\n    var entry = { item: item, next: null };\n    var tail = this.tail;\n    if (tail) tail.next = entry;\n    else this.head = entry;\n    this.tail = entry;\n  },\n  get: function () {\n    var entry = this.head;\n    if (entry) {\n      var next = this.head = entry.next;\n      if (next === null) this.tail = null;\n      return entry.item;\n    }\n  }\n};\n\nmodule.exports = Queue;\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof-raw');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar $TypeError = TypeError;\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (isCallable(exec)) {\n    var result = call(exec, R, S);\n    if (result !== null) anObject(result);\n    return result;\n  }\n  if (classof(R) === 'RegExp') return call(regexpExec, R, S);\n  throw new $TypeError('RegExp#exec called on incompatible receiver');\n};\n","'use strict';\n/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\nvar nativeExec = RegExp.prototype.exec;\nvar patchedExec = nativeExec;\nvar charAt = uncurryThis(''.charAt);\nvar indexOf = uncurryThis(''.indexOf);\nvar replace = uncurryThis(''.replace);\nvar stringSlice = uncurryThis(''.slice);\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  call(nativeExec, re1, 'a');\n  call(nativeExec, re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  patchedExec = function exec(string) {\n    var re = this;\n    var state = getInternalState(re);\n    var str = toString(string);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = call(patchedExec, raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = call(regexpFlags, re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = replace(flags, 'y', '');\n      if (indexOf(flags, 'g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = stringSlice(str, re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = call(nativeExec, sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = stringSlice(match.input, charsAdded);\n        match[0] = stringSlice(match[0], charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/\n      call(nativeReplace, match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)\n    ? call(regExpFlags, R) : flags;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nvar UNSUPPORTED_Y = fails(function () {\n  var re = $RegExp('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') !== null;\n});\n\n// UC Browser bug\n// https://github.com/zloirock/core-js/issues/1008\nvar MISSED_STICKY = UNSUPPORTED_Y || fails(function () {\n  return !$RegExp('a', 'y').sticky;\n});\n\nvar BROKEN_CARET = UNSUPPORTED_Y || fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = $RegExp('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') !== null;\n});\n\nmodule.exports = {\n  BROKEN_CARET: BROKEN_CARET,\n  MISSED_STICKY: MISSED_STICKY,\n  UNSUPPORTED_Y: UNSUPPORTED_Y\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('.', 's');\n  return !(re.dotAll && re.test('\\n') && re.flags === 's');\n});\n","'use strict';\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\n// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError\nvar $RegExp = globalThis.RegExp;\n\nmodule.exports = fails(function () {\n  var re = $RegExp('(?<a>b)', 'g');\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar DESCRIPTORS = require('../internals/descriptors');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Avoid NodeJS experimental warning\nmodule.exports = function (name) {\n  if (!DESCRIPTORS) return globalThis[name];\n  var descriptor = getOwnPropertyDescriptor(globalThis, name);\n  return descriptor && descriptor.value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineBuiltInAccessor(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (target, TAG, STATIC) {\n  if (target && !STATIC) target = target.prototype;\n  if (target && !hasOwn(target, TO_STRING_TAG)) {\n    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind-context');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar fails = require('../internals/fails');\nvar html = require('../internals/html');\nvar arraySlice = require('../internals/array-slice');\nvar createElement = require('../internals/document-create-element');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar IS_IOS = require('../internals/environment-is-ios');\nvar IS_NODE = require('../internals/environment-is-node');\n\nvar set = globalThis.setImmediate;\nvar clear = globalThis.clearImmediate;\nvar process = globalThis.process;\nvar Dispatch = globalThis.Dispatch;\nvar Function = globalThis.Function;\nvar MessageChannel = globalThis.MessageChannel;\nvar String = globalThis.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar $location, defer, channel, port;\n\nfails(function () {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  $location = globalThis.location;\n});\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar eventListener = function (event) {\n  run(event.data);\n};\n\nvar globalPostMessageDefer = function (id) {\n  // old engines have not location.origin\n  globalThis.postMessage(String(id), $location.protocol + '//' + $location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(handler) {\n    validateArgumentsLength(arguments.length, 1);\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(fn, undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = eventListener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    globalThis.addEventListener &&\n    isCallable(globalThis.postMessage) &&\n    !globalThis.importScripts &&\n    $location && $location.protocol !== 'file:' &&\n    !fails(globalPostMessageDefer)\n  ) {\n    defer = globalPostMessageDefer;\n    globalThis.addEventListener('message', eventListener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\n/* eslint-disable es/no-array-prototype-indexof -- required for testing */\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = uncurryThis([].indexOf);\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / nativeIndexOf([1], 1, -0) < 0;\nvar FORCED = NEGATIVE_ZERO || !arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    var fromIndex = arguments.length > 1 ? arguments[1] : undefined;\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf(this, searchElement, fromIndex) || 0\n      : $indexOf(this, searchElement, fromIndex);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineProperty = require('../internals/object-define-property').f;\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = null;\n    return createIterResultObject(undefined, true);\n  }\n  switch (state.kind) {\n    case 'keys': return createIterResultObject(index, false);\n    case 'values': return createIterResultObject(target[index], false);\n  } return createIterResultObject([index, target[index]], false);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nvar values = Iterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n// V8 ~ Chrome 45- bug\nif (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {\n  defineProperty(values, 'name', { value: 'values' });\n} catch (error) { /* empty */ }\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/environment-v8-version');\nvar IS_NODE = require('../internals/environment-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = uncurryThis([].reverse);\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign -- dirty hack\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse(this);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\nvar PROMISE_STATICS_INCORRECT_ITERATION = require('../internals/promise-statics-incorrect-iteration');\n\n// `Promise.all` method\n// https://tc39.es/ecma262/#sec-promise.all\n$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// `Promise.prototype.catch` method\n// https://tc39.es/ecma262/#sec-promise.prototype.catch\n$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {\n  'catch': function (onRejected) {\n    return this.then(undefined, onRejected);\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['catch'];\n  if (NativePromisePrototype['catch'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar IS_NODE = require('../internals/environment-is-node');\nvar globalThis = require('../internals/global-this');\nvar call = require('../internals/function-call');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar aCallable = require('../internals/a-callable');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar perform = require('../internals/perform');\nvar Queue = require('../internals/queue');\nvar InternalStateModule = require('../internals/internal-state');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar PromiseConstructorDetection = require('../internals/promise-constructor-detection');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar PROMISE = 'Promise';\nvar FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;\nvar NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;\nvar NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\nvar PromiseConstructor = NativePromiseConstructor;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = globalThis.TypeError;\nvar document = globalThis.document;\nvar process = globalThis.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\n\nvar DISPATCH_EVENT = !!(document && document.createEvent && globalThis.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar callReaction = function (reaction, state) {\n  var value = state.value;\n  var ok = state.state === FULFILLED;\n  var handler = ok ? reaction.ok : reaction.fail;\n  var resolve = reaction.resolve;\n  var reject = reaction.reject;\n  var domain = reaction.domain;\n  var result, then, exited;\n  try {\n    if (handler) {\n      if (!ok) {\n        if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n        state.rejection = HANDLED;\n      }\n      if (handler === true) result = value;\n      else {\n        if (domain) domain.enter();\n        result = handler(value); // can throw\n        if (domain) {\n          domain.exit();\n          exited = true;\n        }\n      }\n      if (result === reaction.promise) {\n        reject(new TypeError('Promise-chain cycle'));\n      } else if (then = isThenable(result)) {\n        call(then, result, resolve, reject);\n      } else resolve(result);\n    } else reject(value);\n  } catch (error) {\n    if (domain && !exited) domain.exit();\n    reject(error);\n  }\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  microtask(function () {\n    var reactions = state.reactions;\n    var reaction;\n    while (reaction = reactions.get()) {\n      callReaction(reaction, state);\n    }\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    globalThis.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = globalThis['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, globalThis, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, globalThis, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw new TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call(then, value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED_PROMISE_CONSTRUCTOR) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalPromiseState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n\n  PromisePrototype = PromiseConstructor.prototype;\n\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: new Queue(),\n      rejection: false,\n      state: PENDING,\n      value: null\n    });\n  };\n\n  // `Promise.prototype.then` method\n  // https://tc39.es/ecma262/#sec-promise.prototype.then\n  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {\n    var state = getInternalPromiseState(this);\n    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n    state.parent = true;\n    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n    reaction.fail = isCallable(onRejected) && onRejected;\n    reaction.domain = IS_NODE ? process.domain : undefined;\n    if (state.state === PENDING) state.reactions.add(reaction);\n    else microtask(function () {\n      callReaction(reaction, state);\n    });\n    return reaction.promise;\n  });\n\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalPromiseState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!NATIVE_PROMISE_SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/es.promise.constructor');\nrequire('../modules/es.promise.all');\nrequire('../modules/es.promise.catch');\nrequire('../modules/es.promise.race');\nrequire('../modules/es.promise.reject');\nrequire('../modules/es.promise.resolve');\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\nvar PROMISE_STATICS_INCORRECT_ITERATION = require('../internals/promise-statics-incorrect-iteration');\n\n// `Promise.race` method\n// https://tc39.es/ecma262/#sec-promise.race\n$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\n\n// `Promise.reject` method\n// https://tc39.es/ecma262/#sec-promise.reject\n$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {\n  reject: function reject(r) {\n    var capability = newPromiseCapabilityModule.f(this);\n    var capabilityReject = capability.reject;\n    capabilityReject(r);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar FORCED_PROMISE_CONSTRUCTOR = require('../internals/promise-constructor-detection').CONSTRUCTOR;\nvar promiseResolve = require('../internals/promise-resolve');\n\nvar PromiseConstructorWrapper = getBuiltIn('Promise');\nvar CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;\n\n// `Promise.resolve` method\n// https://tc39.es/ecma262/#sec-promise.resolve\n$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {\n  resolve: function resolve(x) {\n    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) !== '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name !== TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExpPrototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar slice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = that.length;\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = toString(searchString);\n    return slice(that, end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","'use strict';\nvar call = require('../internals/function-call');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar getMethod = require('../internals/get-method');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);\n      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var rx = anObject(this);\n      var S = toString(string);\n      var res = maybeCallNative(nativeMatch, rx, S);\n\n      if (res.done) return res.value;\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = toString(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getMethod = require('../internals/get-method');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\nvar concat = uncurryThis([].concat);\nvar push = uncurryThis([].push);\nvar stringIndexOf = uncurryThis(''.indexOf);\nvar stringSlice = uncurryThis(''.slice);\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);\n      return replacer\n        ? call(replacer, searchValue, O, replaceValue)\n        : call(nativeReplace, toString(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (\n        typeof replaceValue == 'string' &&\n        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&\n        stringIndexOf(replaceValue, '$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var functionalReplace = isCallable(replaceValue);\n      if (!functionalReplace) replaceValue = toString(replaceValue);\n\n      var global = rx.global;\n      var fullUnicode;\n      if (global) {\n        fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n\n      var results = [];\n      var result;\n      while (true) {\n        result = regExpExec(rx, S);\n        if (result === null) break;\n\n        push(results, result);\n        if (!global) break;\n\n        var matchStr = toString(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = toString(result[0]);\n        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);\n        var captures = [];\n        var replacement;\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = concat([matched], captures, position, S);\n          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);\n          replacement = toString(apply(replaceValue, undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n\n      return accumulatedResult + stringSlice(S, nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar getMethod = require('../internals/get-method');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar MAX_UINT32 = 0xFFFFFFFF;\nvar min = Math.min;\nvar push = uncurryThis([].push);\nvar stringSlice = uncurryThis(''.slice);\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nvar BUGGY = 'abbc'.split(/(b)*/)[1] === 'c' ||\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  'test'.split(/(?:)/, -1).length !== 4 ||\n  'ab'.split(/(?:ab)*/).length !== 2 ||\n  '.'.split(/(.?)(.?)/).length !== 4 ||\n  // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing\n  '.'.split(/()()/).length > 1 ||\n  ''.split(/.?/).length;\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit = '0'.split(undefined, 0).length ? function (separator, limit) {\n    return separator === undefined && limit === 0 ? [] : call(nativeSplit, this, separator, limit);\n  } : nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = isNullOrUndefined(separator) ? undefined : getMethod(separator, SPLIT);\n      return splitter\n        ? call(splitter, separator, O, limit)\n        : call(internalSplit, toString(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var rx = anObject(this);\n      var S = toString(string);\n\n      if (!BUGGY) {\n        var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);\n        if (res.done) return res.value;\n      }\n\n      var C = speciesConstructor(rx, RegExp);\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return regExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = regExpExec(splitter, UNSUPPORTED_Y ? stringSlice(S, q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          push(A, stringSlice(S, p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            push(A, z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      push(A, stringSlice(S, p));\n      return A;\n    }\n  ];\n}, BUGGY || !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return stringSlice(that, index, index + search.length) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nvar handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    setToStringTag(CollectionPrototype, COLLECTION_NAME, true);\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(globalThis[COLLECTION_NAME] && globalThis[COLLECTION_NAME].prototype, COLLECTION_NAME);\n}\n\nhandlePrototype(DOMTokenListPrototype, 'DOMTokenList');\n","/*!\n* chartjs-plugin-annotation v3.1.0\n* https://www.chartjs.org/chartjs-plugin-annotation/index\n * (c) 2024 chartjs-plugin-annotation Contributors\n * Released under the MIT License\n */\nimport { Element, DoughnutController, defaults, Animations, Chart } from 'chart.js';\nimport { distanceBetweenPoints, toRadians, isObject, valueOrDefault, defined, isFunction, callback, isArray, toFont, addRoundedRectPath, toTRBLCorners, QUARTER_PI, PI, HALF_PI, TWO_THIRDS_PI, TAU, isNumber, RAD_PER_DEG, toPadding, isFinite, getAngleFromPoint, toDegrees, clipArea, unclipArea } from 'chart.js/helpers';\n\n/**\n * @typedef { import(\"chart.js\").ChartEvent } ChartEvent\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst interaction = {\n  modes: {\n    /**\n     * Point mode returns all elements that hit test based on the event position\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    point(visibleElements, event) {\n      return filterElements(visibleElements, event, {intersect: true});\n    },\n\n    /**\n     * Nearest mode returns the element closest to the event position\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found (only 1 element)\n     */\n    nearest(visibleElements, event, options) {\n      return getNearestItem(visibleElements, event, options);\n    },\n    /**\n     * x mode returns the elements that hit-test at the current x coordinate\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    x(visibleElements, event, options) {\n      return filterElements(visibleElements, event, {intersect: options.intersect, axis: 'x'});\n    },\n\n    /**\n     * y mode returns the elements that hit-test at the current y coordinate\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    y(visibleElements, event, options) {\n      return filterElements(visibleElements, event, {intersect: options.intersect, axis: 'y'});\n    }\n  }\n};\n\n/**\n * Returns all elements that hit test based on the event position\n * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n * @param {ChartEvent} event - the event we are find things at\n * @param {Object} options - interaction options to use\n * @return {AnnotationElement[]} - elements that are found\n */\nfunction getElements(visibleElements, event, options) {\n  const mode = interaction.modes[options.mode] || interaction.modes.nearest;\n  return mode(visibleElements, event, options);\n}\n\nfunction inRangeByAxis(element, event, axis) {\n  if (axis !== 'x' && axis !== 'y') {\n    return element.inRange(event.x, event.y, 'x', true) || element.inRange(event.x, event.y, 'y', true);\n  }\n  return element.inRange(event.x, event.y, axis, true);\n}\n\nfunction getPointByAxis(event, center, axis) {\n  if (axis === 'x') {\n    return {x: event.x, y: center.y};\n  } else if (axis === 'y') {\n    return {x: center.x, y: event.y};\n  }\n  return center;\n}\n\nfunction filterElements(visibleElements, event, options) {\n  return visibleElements.filter((element) => options.intersect ? element.inRange(event.x, event.y) : inRangeByAxis(element, event, options.axis));\n}\n\nfunction getNearestItem(visibleElements, event, options) {\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  return filterElements(visibleElements, event, options)\n    .reduce((nearestItems, element) => {\n      const center = element.getCenterPoint();\n      const evenPoint = getPointByAxis(event, center, options.axis);\n      const distance = distanceBetweenPoints(event, evenPoint);\n      if (distance < minDistance) {\n        nearestItems = [element];\n        minDistance = distance;\n      } else if (distance === minDistance) {\n        // Can have multiple items at the same distance in which case we sort by size\n        nearestItems.push(element);\n      }\n\n      return nearestItems;\n    }, [])\n    .sort((a, b) => a._index - b._index)\n    .slice(0, 1); // return only the top item;\n}\n\n/**\n * @typedef {import('chart.js').Point} Point\n */\n\n/**\n * Rotate a `point` relative to `center` point by `angle`\n * @param {Point} point - the point to rotate\n * @param {Point} center - center point for rotation\n * @param {number} angle - angle for rotation, in radians\n * @returns {Point} rotated point\n */\nfunction rotated(point, center, angle) {\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  const cx = center.x;\n  const cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nconst isOlderPart = (act, req) => req > act || (act.length > req.length && act.slice(0, req.length) === req);\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('chart.js').InteractionAxis } InteractionAxis\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst EPSILON = 0.001;\nconst clamp = (x, from, to) => Math.min(to, Math.max(from, x));\n\n/**\n * @param {{value: number, start: number, end: number}} limit\n * @param {number} hitSize\n * @returns {boolean}\n */\nconst inLimit = (limit, hitSize) => limit.value >= limit.start - hitSize && limit.value <= limit.end + hitSize;\n\n/**\n * @param {Object} obj\n * @param {number} from\n * @param {number} to\n * @returns {Object}\n */\nfunction clampAll(obj, from, to) {\n  for (const key of Object.keys(obj)) {\n    obj[key] = clamp(obj[key], from, to);\n  }\n  return obj;\n}\n\n/**\n * @param {Point} point\n * @param {Point} center\n * @param {number} radius\n * @param {number} hitSize\n * @returns {boolean}\n */\nfunction inPointRange(point, center, radius, hitSize) {\n  if (!point || !center || radius <= 0) {\n    return false;\n  }\n  return (Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2)) <= Math.pow(radius + hitSize, 2);\n}\n\n/**\n * @param {Point} point\n * @param {{x: number, y: number, x2: number, y2: number}} rect\n * @param {InteractionAxis} axis\n * @param {{borderWidth: number, hitTolerance: number}} hitsize\n * @returns {boolean}\n */\nfunction inBoxRange(point, {x, y, x2, y2}, axis, {borderWidth, hitTolerance}) {\n  const hitSize = (borderWidth + hitTolerance) / 2;\n  const inRangeX = point.x >= x - hitSize - EPSILON && point.x <= x2 + hitSize + EPSILON;\n  const inRangeY = point.y >= y - hitSize - EPSILON && point.y <= y2 + hitSize + EPSILON;\n  if (axis === 'x') {\n    return inRangeX;\n  } else if (axis === 'y') {\n    return inRangeY;\n  }\n  return inRangeX && inRangeY;\n}\n\n/**\n * @param {Point} point\n * @param {rect: {x: number, y: number, x2: number, y2: number}, center: {x: number, y: number}} element\n * @param {InteractionAxis} axis\n * @param {{rotation: number, borderWidth: number, hitTolerance: number}}\n * @returns {boolean}\n */\nfunction inLabelRange(point, {rect, center}, axis, {rotation, borderWidth, hitTolerance}) {\n  const rotPoint = rotated(point, center, toRadians(-rotation));\n  return inBoxRange(rotPoint, rect, axis, {borderWidth, hitTolerance});\n}\n\n/**\n * @param {AnnotationElement} element\n * @param {boolean} useFinalPosition\n * @returns {Point}\n */\nfunction getElementCenterPoint(element, useFinalPosition) {\n  const {centerX, centerY} = element.getProps(['centerX', 'centerY'], useFinalPosition);\n  return {x: centerX, y: centerY};\n}\n\n/**\n * @param {string} pkg\n * @param {string} min\n * @param {string} ver\n * @param {boolean} [strict=true]\n * @returns {boolean}\n */\nfunction requireVersion(pkg, min, ver, strict = true) {\n  const parts = ver.split('.');\n  let i = 0;\n  for (const req of min.split('.')) {\n    const act = parts[i++];\n    if (parseInt(req, 10) < parseInt(act, 10)) {\n      break;\n    }\n    if (isOlderPart(act, req)) {\n      if (strict) {\n        throw new Error(`${pkg} v${ver} is not supported. v${min} or newer is required.`);\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nconst isPercentString = (s) => typeof s === 'string' && s.endsWith('%');\nconst toPercent = (s) => parseFloat(s) / 100;\nconst toPositivePercent = (s) => clamp(toPercent(s), 0, 1);\n\nconst boxAppering = (x, y) => ({x, y, x2: x, y2: y, width: 0, height: 0});\nconst defaultInitAnimation = {\n  box: (properties) => boxAppering(properties.centerX, properties.centerY),\n  doughnutLabel: (properties) => boxAppering(properties.centerX, properties.centerY),\n  ellipse: (properties) => ({centerX: properties.centerX, centerY: properties.centerX, radius: 0, width: 0, height: 0}),\n  label: (properties) => boxAppering(properties.centerX, properties.centerY),\n  line: (properties) => boxAppering(properties.x, properties.y),\n  point: (properties) => ({centerX: properties.centerX, centerY: properties.centerY, radius: 0, width: 0, height: 0}),\n  polygon: (properties) => boxAppering(properties.centerX, properties.centerY)\n};\n\n/**\n * @typedef { import('chart.js').FontSpec } FontSpec\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('chart.js').Padding } Padding\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n * @typedef { import('../../types/options').AnnotationPointCoordinates } AnnotationPointCoordinates\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/label').LabelPositionObject } LabelPositionObject\n */\n\n/**\n * @param {number} size\n * @param {number|string} position\n * @returns {number}\n */\nfunction getRelativePosition(size, position) {\n  if (position === 'start') {\n    return 0;\n  }\n  if (position === 'end') {\n    return size;\n  }\n  if (isPercentString(position)) {\n    return toPositivePercent(position) * size;\n  }\n  return size / 2;\n}\n\n/**\n * @param {number} size\n * @param {number|string} value\n * @param {boolean} [positivePercent=true]\n * @returns {number}\n */\nfunction getSize(size, value, positivePercent = true) {\n  if (typeof value === 'number') {\n    return value;\n  } else if (isPercentString(value)) {\n    return (positivePercent ? toPositivePercent(value) : toPercent(value)) * size;\n  }\n  return size;\n}\n\n/**\n * @param {{x: number, width: number}} size\n * @param {CoreLabelOptions} options\n * @returns {number}\n */\nfunction calculateTextAlignment(size, options) {\n  const {x, width} = size;\n  const textAlign = options.textAlign;\n  if (textAlign === 'center') {\n    return x + width / 2;\n  } else if (textAlign === 'end' || textAlign === 'right') {\n    return x + width;\n  }\n  return x;\n}\n\n/**\n * @param {Point} point\n * @param {{height: number, width: number}} labelSize\n * @param {{borderWidth: number, position: {LabelPositionObject|string}, xAdjust: number, yAdjust: number}} options\n * @param {Padding|undefined} padding\n * @returns {{x: number, y: number, x2: number, y2: number, height: number, width: number, centerX: number, centerY: number}}\n */\nfunction measureLabelRectangle(point, labelSize, {borderWidth, position, xAdjust, yAdjust}, padding) {\n  const hasPadding = isObject(padding);\n  const width = labelSize.width + (hasPadding ? padding.width : 0) + borderWidth;\n  const height = labelSize.height + (hasPadding ? padding.height : 0) + borderWidth;\n  const positionObj = toPosition(position);\n  const x = calculateLabelPosition$1(point.x, width, xAdjust, positionObj.x);\n  const y = calculateLabelPosition$1(point.y, height, yAdjust, positionObj.y);\n\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2\n  };\n}\n\n/**\n * @param {LabelPositionObject|string} value\n * @param {string|number} defaultValue\n * @returns {LabelPositionObject}\n */\nfunction toPosition(value, defaultValue = 'center') {\n  if (isObject(value)) {\n    return {\n      x: valueOrDefault(value.x, defaultValue),\n      y: valueOrDefault(value.y, defaultValue),\n    };\n  }\n  value = valueOrDefault(value, defaultValue);\n  return {\n    x: value,\n    y: value\n  };\n}\n\n/**\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n * @returns {boolean}\n */\nconst shouldFit = (options, fitRatio) => options && options.autoFit && fitRatio < 1;\n\n/**\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n * @returns {FontSpec[]}\n */\nfunction toFonts(options, fitRatio) {\n  const optFont = options.font;\n  const fonts = isArray(optFont) ? optFont : [optFont];\n  if (shouldFit(options, fitRatio)) {\n    return fonts.map(function(f) {\n      const font = toFont(f);\n      font.size = Math.floor(f.size * fitRatio);\n      font.lineHeight = f.lineHeight;\n      return toFont(font);\n    });\n  }\n  return fonts.map(f => toFont(f));\n}\n\n/**\n * @param {AnnotationPointCoordinates} options\n * @returns {boolean}\n */\nfunction isBoundToPoint(options) {\n  return options && (defined(options.xValue) || defined(options.yValue));\n}\n\nfunction calculateLabelPosition$1(start, size, adjust = 0, position) {\n  return start - getRelativePosition(size, position) + adjust;\n}\n\n/**\n * @param {Chart} chart\n * @param {AnnotationBoxModel} properties\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationElement}\n */\nfunction initAnimationProperties(chart, properties, options) {\n  const initAnim = options.init;\n  if (!initAnim) {\n    return;\n  } else if (initAnim === true) {\n    return applyDefault(properties, options);\n  }\n  return execCallback(chart, properties, options);\n}\n\n/**\n * @param {Object} options\n * @param {Array} hooks\n * @param {Object} hooksContainer\n * @returns {boolean}\n */\nfunction loadHooks(options, hooks, hooksContainer) {\n  let activated = false;\n  hooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      activated = true;\n      hooksContainer[hook] = options[hook];\n    } else if (defined(hooksContainer[hook])) {\n      delete hooksContainer[hook];\n    }\n  });\n  return activated;\n}\n\nfunction applyDefault(properties, options) {\n  const type = options.type || 'line';\n  return defaultInitAnimation[type](properties);\n}\n\nfunction execCallback(chart, properties, options) {\n  const result = callback(options.init, [{chart, properties, options}]);\n  if (result === true) {\n    return applyDefault(properties, options);\n  } else if (isObject(result)) {\n    return result;\n  }\n}\n\nconst widthCache = new Map();\nconst notRadius = (radius) => isNaN(radius) || radius <= 0;\nconst fontsKey = (fonts) => fonts.reduce(function(prev, item) {\n  prev += item.string;\n  return prev;\n}, '');\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n */\n\n/**\n * Determine if content is an image or a canvas.\n * @param {*} content\n * @returns boolean|undefined\n * @todo move this function to chart.js helpers\n */\nfunction isImageOrCanvas(content) {\n  if (content && typeof content === 'object') {\n    const type = content.toString();\n    return (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]');\n  }\n}\n\n/**\n * Set the translation on the canvas if the rotation must be applied.\n * @param {CanvasRenderingContext2D} ctx - chart canvas context\n * @param {Point} point - the point of translation\n * @param {number} rotation - rotation (in degrees) to apply\n */\nfunction translate(ctx, {x, y}, rotation) {\n  if (rotation) {\n    ctx.translate(x, y);\n    ctx.rotate(toRadians(rotation));\n    ctx.translate(-x, -y);\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n * @returns {boolean|undefined}\n */\nfunction setBorderStyle(ctx, options) {\n  if (options && options.borderWidth) {\n    ctx.lineCap = options.borderCapStyle || 'butt';\n    ctx.setLineDash(options.borderDash);\n    ctx.lineDashOffset = options.borderDashOffset;\n    ctx.lineJoin = options.borderJoinStyle || 'miter';\n    ctx.lineWidth = options.borderWidth;\n    ctx.strokeStyle = options.borderColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n */\nfunction setShadowStyle(ctx, options) {\n  ctx.shadowColor = options.backgroundShadowColor;\n  ctx.shadowBlur = options.shadowBlur;\n  ctx.shadowOffsetX = options.shadowOffsetX;\n  ctx.shadowOffsetY = options.shadowOffsetY;\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {CoreLabelOptions} options\n * @returns {{width: number, height: number}}\n */\nfunction measureLabelSize(ctx, options) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    const size = {\n      width: getSize(content.width, options.width),\n      height: getSize(content.height, options.height)\n    };\n    return size;\n  }\n  const fonts = toFonts(options);\n  const strokeWidth = options.textStrokeWidth;\n  const lines = isArray(content) ? content : [content];\n  const mapKey = lines.join() + fontsKey(fonts) + strokeWidth + (ctx._measureText ? '-spriting' : '');\n  if (!widthCache.has(mapKey)) {\n    widthCache.set(mapKey, calculateLabelSize(ctx, lines, fonts, strokeWidth));\n  }\n  return widthCache.get(mapKey);\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {Object} options\n */\nfunction drawBox(ctx, rect, options) {\n  const {x, y, width, height} = rect;\n  ctx.save();\n  setShadowStyle(ctx, options);\n  const stroke = setBorderStyle(ctx, options);\n  ctx.fillStyle = options.backgroundColor;\n  ctx.beginPath();\n  addRoundedRectPath(ctx, {\n    x, y, w: width, h: height,\n    radius: clampAll(toTRBLCorners(options.borderRadius), 0, Math.min(width, height) / 2)\n  });\n  ctx.closePath();\n  ctx.fill();\n  if (stroke) {\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n  }\n  ctx.restore();\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n */\nfunction drawLabel(ctx, rect, options, fitRatio) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    ctx.save();\n    ctx.globalAlpha = getOpacity(options.opacity, content.style.opacity);\n    ctx.drawImage(content, rect.x, rect.y, rect.width, rect.height);\n    ctx.restore();\n    return;\n  }\n  const labels = isArray(content) ? content : [content];\n  const fonts = toFonts(options, fitRatio);\n  const optColor = options.color;\n  const colors = isArray(optColor) ? optColor : [optColor];\n  const x = calculateTextAlignment(rect, options);\n  const y = rect.y + options.textStrokeWidth / 2;\n  ctx.save();\n  ctx.textBaseline = 'middle';\n  ctx.textAlign = options.textAlign;\n  if (setTextStrokeStyle(ctx, options)) {\n    applyLabelDecoration(ctx, {x, y}, labels, fonts);\n  }\n  applyLabelContent(ctx, {x, y}, labels, {fonts, colors});\n  ctx.restore();\n}\n\nfunction setTextStrokeStyle(ctx, options) {\n  if (options.textStrokeWidth > 0) {\n    // https://stackoverflow.com/questions/13627111/drawing-text-with-an-outer-stroke-with-html5s-canvas\n    ctx.lineJoin = 'round';\n    ctx.miterLimit = 2;\n    ctx.lineWidth = options.textStrokeWidth;\n    ctx.strokeStyle = options.textStrokeColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{radius: number, options: PointAnnotationOptions}} element\n * @param {number} x\n * @param {number} y\n */\nfunction drawPoint(ctx, element, x, y) {\n  const {radius, options} = element;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (isImageOrCanvas(style)) {\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(rad);\n    ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n    ctx.restore();\n    return;\n  }\n  if (notRadius(radius)) {\n    return;\n  }\n  drawPointStyle(ctx, {x, y, radius, rotation, style, rad});\n}\n\nfunction drawPointStyle(ctx, {x, y, radius, rotation, style, rad}) {\n  let xOffset, yOffset, size, cornerRadius;\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n\n  ctx.fill();\n}\n\nfunction calculateLabelSize(ctx, lines, fonts, strokeWidth) {\n  ctx.save();\n  const count = lines.length;\n  let width = 0;\n  let height = strokeWidth;\n  for (let i = 0; i < count; i++) {\n    const font = fonts[Math.min(i, fonts.length - 1)];\n    ctx.font = font.string;\n    const text = lines[i];\n    width = Math.max(width, ctx.measureText(text).width + strokeWidth);\n    height += font.lineHeight;\n  }\n  ctx.restore();\n  return {width, height};\n}\n\nfunction applyLabelDecoration(ctx, {x, y}, labels, fonts) {\n  ctx.beginPath();\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.font = f.string;\n    ctx.strokeText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n  });\n  ctx.stroke();\n}\n\nfunction applyLabelContent(ctx, {x, y}, labels, {fonts, colors}) {\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const c = colors[Math.min(i, colors.length - 1)];\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.beginPath();\n    ctx.font = f.string;\n    ctx.fillStyle = c;\n    ctx.fillText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n    ctx.fill();\n  });\n}\n\nfunction getOpacity(value, elementValue) {\n  const opacity = isNumber(value) ? value : elementValue;\n  return isNumber(opacity) ? clamp(opacity, 0, 1) : 1;\n}\n\nconst positions = ['left', 'bottom', 'top', 'right'];\n\n/**\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\n/**\n * Drawa the callout component for labels.\n * @param {CanvasRenderingContext2D} ctx - chart canvas context\n * @param {AnnotationElement} element - the label element\n */\nfunction drawCallout(ctx, element) {\n  const {pointX, pointY, options} = element;\n  const callout = options.callout;\n  const calloutPosition = callout && callout.display && resolveCalloutPosition(element, callout);\n  if (!calloutPosition || isPointInRange(element, callout, calloutPosition)) {\n    return;\n  }\n\n  ctx.save();\n  ctx.beginPath();\n  const stroke = setBorderStyle(ctx, callout);\n  if (!stroke) {\n    return ctx.restore();\n  }\n  const {separatorStart, separatorEnd} = getCalloutSeparatorCoord(element, calloutPosition);\n  const {sideStart, sideEnd} = getCalloutSideCoord(element, calloutPosition, separatorStart);\n  if (callout.margin > 0 || options.borderWidth === 0) {\n    ctx.moveTo(separatorStart.x, separatorStart.y);\n    ctx.lineTo(separatorEnd.x, separatorEnd.y);\n  }\n  ctx.moveTo(sideStart.x, sideStart.y);\n  ctx.lineTo(sideEnd.x, sideEnd.y);\n  const rotatedPoint = rotated({x: pointX, y: pointY}, element.getCenterPoint(), toRadians(-element.rotation));\n  ctx.lineTo(rotatedPoint.x, rotatedPoint.y);\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction getCalloutSeparatorCoord(element, position) {\n  const {x, y, x2, y2} = element;\n  const adjust = getCalloutSeparatorAdjust(element, position);\n  let separatorStart, separatorEnd;\n  if (position === 'left' || position === 'right') {\n    separatorStart = {x: x + adjust, y};\n    separatorEnd = {x: separatorStart.x, y: y2};\n  } else {\n    //  position 'top' or 'bottom'\n    separatorStart = {x, y: y + adjust};\n    separatorEnd = {x: x2, y: separatorStart.y};\n  }\n  return {separatorStart, separatorEnd};\n}\n\nfunction getCalloutSeparatorAdjust(element, position) {\n  const {width, height, options} = element;\n  const adjust = options.callout.margin + options.borderWidth / 2;\n  if (position === 'right') {\n    return width + adjust;\n  } else if (position === 'bottom') {\n    return height + adjust;\n  }\n  return -adjust;\n}\n\nfunction getCalloutSideCoord(element, position, separatorStart) {\n  const {y, width, height, options} = element;\n  const start = options.callout.start;\n  const side = getCalloutSideAdjust(position, options.callout);\n  let sideStart, sideEnd;\n  if (position === 'left' || position === 'right') {\n    sideStart = {x: separatorStart.x, y: y + getSize(height, start)};\n    sideEnd = {x: sideStart.x + side, y: sideStart.y};\n  } else {\n    //  position 'top' or 'bottom'\n    sideStart = {x: separatorStart.x + getSize(width, start), y: separatorStart.y};\n    sideEnd = {x: sideStart.x, y: sideStart.y + side};\n  }\n  return {sideStart, sideEnd};\n}\n\nfunction getCalloutSideAdjust(position, options) {\n  const side = options.side;\n  if (position === 'left' || position === 'top') {\n    return -side;\n  }\n  return side;\n}\n\nfunction resolveCalloutPosition(element, options) {\n  const position = options.position;\n  if (positions.includes(position)) {\n    return position;\n  }\n  return resolveCalloutAutoPosition(element, options);\n}\n\nfunction resolveCalloutAutoPosition(element, options) {\n  const {x, y, x2, y2, width, height, pointX, pointY, centerX, centerY, rotation} = element;\n  const center = {x: centerX, y: centerY};\n  const start = options.start;\n  const xAdjust = getSize(width, start);\n  const yAdjust = getSize(height, start);\n  const xPoints = [x, x + xAdjust, x + xAdjust, x2];\n  const yPoints = [y + yAdjust, y2, y, y2];\n  const result = [];\n  for (let index = 0; index < 4; index++) {\n    const rotatedPoint = rotated({x: xPoints[index], y: yPoints[index]}, center, toRadians(rotation));\n    result.push({\n      position: positions[index],\n      distance: distanceBetweenPoints(rotatedPoint, {x: pointX, y: pointY})\n    });\n  }\n  return result.sort((a, b) => a.distance - b.distance)[0].position;\n}\n\nfunction isPointInRange(element, callout, position) {\n  const {pointX, pointY} = element;\n  const margin = callout.margin;\n  let x = pointX;\n  let y = pointY;\n  if (position === 'left') {\n    x += margin;\n  } else if (position === 'right') {\n    x -= margin;\n  } else if (position === 'top') {\n    y += margin;\n  } else if (position === 'bottom') {\n    y -= margin;\n  }\n  return element.inRange(x, y);\n}\n\nconst limitedLineScale = {\n  xScaleID: {min: 'xMin', max: 'xMax', start: 'left', end: 'right', startProp: 'x', endProp: 'x2'},\n  yScaleID: {min: 'yMin', max: 'yMax', start: 'bottom', end: 'top', startProp: 'y', endProp: 'y2'}\n};\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import(\"chart.js\").Point } Point\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n * @typedef { import('../../types/options').LineAnnotationOptions } LineAnnotationOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n * @typedef { import('../../types/options').PolygonAnnotationOptions } PolygonAnnotationOptions\n */\n\n/**\n * @param {Scale} scale\n * @param {number|string} value\n * @param {number} fallback\n * @returns {number}\n */\nfunction scaleValue(scale, value, fallback) {\n  value = typeof value === 'number' ? value : scale.parse(value);\n  return isFinite(value) ? scale.getPixelForValue(value) : fallback;\n}\n\n/**\n * Search the scale defined in chartjs by the axis related to the annotation options key.\n * @param {{ [key: string]: Scale }} scales\n * @param {CoreAnnotationOptions} options\n * @param {string} key\n * @returns {string}\n */\nfunction retrieveScaleID(scales, options, key) {\n  const scaleID = options[key];\n  if (scaleID || key === 'scaleID') {\n    return scaleID;\n  }\n  const axis = key.charAt(0);\n  const axes = Object.values(scales).filter((scale) => scale.axis && scale.axis === axis);\n  if (axes.length) {\n    return axes[0].id;\n  }\n  return axis;\n}\n\n/**\n * @param {Scale} scale\n * @param {{min: number, max: number, start: number, end: number}} options\n * @returns {{start: number, end: number}|undefined}\n */\nfunction getDimensionByScale(scale, options) {\n  if (scale) {\n    const reverse = scale.options.reverse;\n    const start = scaleValue(scale, options.min, reverse ? options.end : options.start);\n    const end = scaleValue(scale, options.max, reverse ? options.start : options.end);\n    return {\n      start,\n      end\n    };\n  }\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {Point}\n */\nfunction getChartPoint(chart, options) {\n  const {chartArea, scales} = chart;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n  let x = chartArea.width / 2;\n  let y = chartArea.height / 2;\n\n  if (xScale) {\n    x = scaleValue(xScale, options.xValue, xScale.left + xScale.width / 2);\n  }\n\n  if (yScale) {\n    y = scaleValue(yScale, options.yValue, yScale.top + yScale.height / 2);\n  }\n  return {x, y};\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxProperties(chart, options) {\n  const scales = chart.scales;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n\n  if (!xScale && !yScale) {\n    return {};\n  }\n\n  let {left: x, right: x2} = xScale || chart.chartArea;\n  let {top: y, bottom: y2} = yScale || chart.chartArea;\n  const xDim = getChartDimensionByScale(xScale, {min: options.xMin, max: options.xMax, start: x, end: x2});\n  x = xDim.start;\n  x2 = xDim.end;\n  const yDim = getChartDimensionByScale(yScale, {min: options.yMin, max: options.yMax, start: y2, end: y});\n  y = yDim.start;\n  y2 = yDim.end;\n\n  return {\n    x,\n    y,\n    x2,\n    y2,\n    width: x2 - x,\n    height: y2 - y,\n    centerX: x + (x2 - x) / 2,\n    centerY: y + (y2 - y) / 2\n  };\n}\n\n/**\n * @param {Chart} chart\n * @param {PointAnnotationOptions|PolygonAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolvePointProperties(chart, options) {\n  if (!isBoundToPoint(options)) {\n    const box = resolveBoxProperties(chart, options);\n    let radius = options.radius;\n    if (!radius || isNaN(radius)) {\n      radius = Math.min(box.width, box.height) / 2;\n      options.radius = radius;\n    }\n    const size = radius * 2;\n    const adjustCenterX = box.centerX + options.xAdjust;\n    const adjustCenterY = box.centerY + options.yAdjust;\n    return {\n      x: adjustCenterX - radius,\n      y: adjustCenterY - radius,\n      x2: adjustCenterX + radius,\n      y2: adjustCenterY + radius,\n      centerX: adjustCenterX,\n      centerY: adjustCenterY,\n      width: size,\n      height: size,\n      radius\n    };\n  }\n  return getChartCircle(chart, options);\n}\n/**\n * @param {Chart} chart\n * @param {LineAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveLineProperties(chart, options) {\n  const {scales, chartArea} = chart;\n  const scale = scales[options.scaleID];\n  const area = {x: chartArea.left, y: chartArea.top, x2: chartArea.right, y2: chartArea.bottom};\n\n  if (scale) {\n    resolveFullLineProperties(scale, area, options);\n  } else {\n    resolveLimitedLineProperties(scales, area, options);\n  }\n  return area;\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @param {boolean} [centerBased=false]\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxAndLabelProperties(chart, options) {\n  const properties = resolveBoxProperties(chart, options);\n  properties.initProperties = initAnimationProperties(chart, properties, options);\n  properties.elements = [{\n    type: 'label',\n    optionScope: 'label',\n    properties: resolveLabelElementProperties$1(chart, properties, options),\n    initProperties: properties.initProperties\n  }];\n  return properties;\n}\n\nfunction getChartCircle(chart, options) {\n  const point = getChartPoint(chart, options);\n  const size = options.radius * 2;\n  return {\n    x: point.x - options.radius + options.xAdjust,\n    y: point.y - options.radius + options.yAdjust,\n    x2: point.x + options.radius + options.xAdjust,\n    y2: point.y + options.radius + options.yAdjust,\n    centerX: point.x + options.xAdjust,\n    centerY: point.y + options.yAdjust,\n    radius: options.radius,\n    width: size,\n    height: size\n  };\n}\n\nfunction getChartDimensionByScale(scale, options) {\n  const result = getDimensionByScale(scale, options) || options;\n  return {\n    start: Math.min(result.start, result.end),\n    end: Math.max(result.start, result.end)\n  };\n}\n\nfunction resolveFullLineProperties(scale, area, options) {\n  const min = scaleValue(scale, options.value, NaN);\n  const max = scaleValue(scale, options.endValue, min);\n  if (scale.isHorizontal()) {\n    area.x = min;\n    area.x2 = max;\n  } else {\n    area.y = min;\n    area.y2 = max;\n  }\n}\n\nfunction resolveLimitedLineProperties(scales, area, options) {\n  for (const scaleId of Object.keys(limitedLineScale)) {\n    const scale = scales[retrieveScaleID(scales, options, scaleId)];\n    if (scale) {\n      const {min, max, start, end, startProp, endProp} = limitedLineScale[scaleId];\n      const dim = getDimensionByScale(scale, {min: options[min], max: options[max], start: scale[start], end: scale[end]});\n      area[startProp] = dim.start;\n      area[endProp] = dim.end;\n    }\n  }\n}\n\nfunction calculateX({properties, options}, labelSize, position, padding) {\n  const {x: start, x2: end, width: size} = properties;\n  return calculatePosition({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.x,\n    padding: {start: padding.left, end: padding.right},\n    adjust: options.label.xAdjust,\n    size: labelSize.width\n  });\n}\n\nfunction calculateY({properties, options}, labelSize, position, padding) {\n  const {y: start, y2: end, height: size} = properties;\n  return calculatePosition({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.y,\n    padding: {start: padding.top, end: padding.bottom},\n    adjust: options.label.yAdjust,\n    size: labelSize.height\n  });\n}\n\nfunction calculatePosition(boxOpts, labelOpts) {\n  const {start, end, borderWidth} = boxOpts;\n  const {position, padding: {start: padStart, end: padEnd}, adjust} = labelOpts;\n  const availableSize = end - borderWidth - start - padStart - padEnd - labelOpts.size;\n  return start + borderWidth / 2 + adjust + getRelativePosition(availableSize, position);\n}\n\nfunction resolveLabelElementProperties$1(chart, properties, options) {\n  const label = options.label;\n  label.backgroundColor = 'transparent';\n  label.callout.display = false;\n  const position = toPosition(label.position);\n  const padding = toPadding(label.padding);\n  const labelSize = measureLabelSize(chart.ctx, label);\n  const x = calculateX({properties, options}, labelSize, position, padding);\n  const y = calculateY({properties, options}, labelSize, position, padding);\n  const width = labelSize.width + padding.width;\n  const height = labelSize.height + padding.height;\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2,\n    rotation: label.rotation\n  };\n\n}\n\nconst moveHooks = ['enter', 'leave'];\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\nconst eventHooks = moveHooks.concat('click');\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateListeners(chart, state, options) {\n  state.listened = loadHooks(options, eventHooks, state.listeners);\n  state.moveListened = false;\n\n  moveHooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      state.moveListened = true;\n    }\n  });\n\n  if (!state.listened || !state.moveListened) {\n    state.annotations.forEach(scope => {\n      if (!state.listened && isFunction(scope.click)) {\n        state.listened = true;\n      }\n      if (!state.moveListened) {\n        moveHooks.forEach(hook => {\n          if (isFunction(scope[hook])) {\n            state.listened = true;\n            state.moveListened = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {ChartEvent} event\n * @param {AnnotationPluginOptions} options\n * @return {boolean|undefined}\n */\nfunction handleEvent(state, event, options) {\n  if (state.listened) {\n    switch (event.type) {\n    case 'mousemove':\n    case 'mouseout':\n      return handleMoveEvents(state, event, options);\n    case 'click':\n      return handleClickEvents(state, event, options);\n    }\n  }\n}\n\nfunction handleMoveEvents(state, event, options) {\n  if (!state.moveListened) {\n    return;\n  }\n\n  let elements;\n\n  if (event.type === 'mousemove') {\n    elements = getElements(state.visibleElements, event, options.interaction);\n  } else {\n    elements = [];\n  }\n\n  const previous = state.hovered;\n  state.hovered = elements;\n\n  const context = {state, event};\n  let changed = dispatchMoveEvents(context, 'leave', previous, elements);\n  return dispatchMoveEvents(context, 'enter', elements, previous) || changed;\n}\n\nfunction dispatchMoveEvents({state, event}, hook, elements, checkElements) {\n  let changed;\n  for (const element of elements) {\n    if (checkElements.indexOf(element) < 0) {\n      changed = dispatchEvent(element.options[hook] || state.listeners[hook], element, event) || changed;\n    }\n  }\n  return changed;\n}\n\nfunction handleClickEvents(state, event, options) {\n  const listeners = state.listeners;\n  const elements = getElements(state.visibleElements, event, options.interaction);\n  let changed;\n  for (const element of elements) {\n    changed = dispatchEvent(element.options.click || listeners.click, element, event) || changed;\n  }\n  return changed;\n}\n\nfunction dispatchEvent(handler, element, event) {\n  return callback(handler, [element.$context, event]) === true;\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst elementHooks = ['afterDraw', 'beforeDraw'];\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateHooks(chart, state, options) {\n  const visibleElements = state.visibleElements;\n  state.hooked = loadHooks(options, elementHooks, state.hooks);\n\n  if (!state.hooked) {\n    visibleElements.forEach(scope => {\n      if (!state.hooked) {\n        elementHooks.forEach(hook => {\n          if (isFunction(scope.options[hook])) {\n            state.hooked = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {AnnotationElement} element\n * @param {string} hook\n */\nfunction invokeHook(state, element, hook) {\n  if (state.hooked) {\n    const callbackHook = element.options[hook] || state.hooks[hook];\n    return callback(callbackHook, [element.$context]);\n  }\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n */\n\n/**\n * @param {Chart} chart\n * @param {Scale} scale\n * @param {CoreAnnotationOptions[]} annotations\n */\nfunction adjustScaleRange(chart, scale, annotations) {\n  const range = getScaleLimits(chart.scales, scale, annotations);\n  let changed = changeScaleLimit(scale, range, 'min', 'suggestedMin');\n  changed = changeScaleLimit(scale, range, 'max', 'suggestedMax') || changed;\n  if (changed && isFunction(scale.handleTickRangeOptions)) {\n    scale.handleTickRangeOptions();\n  }\n}\n\n/**\n * @param {CoreAnnotationOptions[]} annotations\n * @param {{ [key: string]: Scale }} scales\n */\nfunction verifyScaleOptions(annotations, scales) {\n  for (const annotation of annotations) {\n    verifyScaleIDs(annotation, scales);\n  }\n}\n\nfunction changeScaleLimit(scale, range, limit, suggestedLimit) {\n  if (isFinite(range[limit]) && !scaleLimitDefined(scale.options, limit, suggestedLimit)) {\n    const changed = scale[limit] !== range[limit];\n    scale[limit] = range[limit];\n    return changed;\n  }\n}\n\nfunction scaleLimitDefined(scaleOptions, limit, suggestedLimit) {\n  return defined(scaleOptions[limit]) || defined(scaleOptions[suggestedLimit]);\n}\n\nfunction verifyScaleIDs(annotation, scales) {\n  for (const key of ['scaleID', 'xScaleID', 'yScaleID']) {\n    const scaleID = retrieveScaleID(scales, annotation, key);\n    if (scaleID && !scales[scaleID] && verifyProperties(annotation, key)) {\n      console.warn(`No scale found with id '${scaleID}' for annotation '${annotation.id}'`);\n    }\n  }\n}\n\nfunction verifyProperties(annotation, key) {\n  if (key === 'scaleID') {\n    return true;\n  }\n  const axis = key.charAt(0);\n  for (const prop of ['Min', 'Max', 'Value']) {\n    if (defined(annotation[axis + prop])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getScaleLimits(scales, scale, annotations) {\n  const axis = scale.axis;\n  const scaleID = scale.id;\n  const scaleIDOption = axis + 'ScaleID';\n  const limits = {\n    min: valueOrDefault(scale.min, Number.NEGATIVE_INFINITY),\n    max: valueOrDefault(scale.max, Number.POSITIVE_INFINITY)\n  };\n  for (const annotation of annotations) {\n    if (annotation.scaleID === scaleID) {\n      updateLimits(annotation, scale, ['value', 'endValue'], limits);\n    } else if (retrieveScaleID(scales, annotation, scaleIDOption) === scaleID) {\n      updateLimits(annotation, scale, [axis + 'Min', axis + 'Max', axis + 'Value'], limits);\n    }\n  }\n  return limits;\n}\n\nfunction updateLimits(annotation, scale, props, limits) {\n  for (const prop of props) {\n    const raw = annotation[prop];\n    if (defined(raw)) {\n      const value = scale.parse(raw);\n      limits.min = Math.min(limits.min, value);\n      limits.max = Math.max(limits.max, value);\n    }\n  }\n}\n\nclass BoxAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y} = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    return inBoxRange({x, y}, this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis, this.options);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.options.rotation);\n    drawBox(ctx, this, this.options);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n}\n\nBoxAnnotation.id = 'boxAnnotation';\n\nBoxAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  hitTolerance: 0,\n  label: {\n    backgroundColor: 'transparent',\n    borderWidth: 0,\n    callout: {\n      display: false\n    },\n    color: 'black',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    hitTolerance: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: undefined,\n    textAlign: 'start',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nBoxAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nBoxAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nclass DoughnutLabelAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    return inLabelRange(\n      {x: mouseX, y: mouseY},\n      {rect: this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), center: this.getCenterPoint(useFinalPosition)},\n      axis,\n      {rotation: this.rotation, borderWidth: 0, hitTolerance: this.options.hitTolerance}\n    );\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    if (!options.display || !options.content) {\n      return;\n    }\n    drawBackground(ctx, this);\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.rotation);\n    drawLabel(ctx, this, options, this._fitRatio);\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    const meta = getDatasetMeta(chart, options);\n    if (!meta) {\n      return {};\n    }\n    const {controllerMeta, point, radius} = getControllerMeta(chart, options, meta);\n    let labelSize = measureLabelSize(chart.ctx, options);\n    const _fitRatio = getFitRatio(labelSize, radius);\n    if (shouldFit(options, _fitRatio)) {\n      labelSize = {width: labelSize.width * _fitRatio, height: labelSize.height * _fitRatio};\n    }\n    const {position, xAdjust, yAdjust} = options;\n    const boxSize = measureLabelRectangle(point, labelSize, {borderWidth: 0, position, xAdjust, yAdjust});\n    return {\n      initProperties: initAnimationProperties(chart, boxSize, options),\n      ...boxSize,\n      ...controllerMeta,\n      rotation: options.rotation,\n      _fitRatio\n    };\n  }\n}\n\nDoughnutLabelAnnotation.id = 'doughnutLabelAnnotation';\n\nDoughnutLabelAnnotation.defaults = {\n  autoFit: true,\n  autoHide: true,\n  backgroundColor: 'transparent',\n  backgroundShadowColor: 'transparent',\n  borderColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderShadowColor: 'transparent',\n  borderWidth: 0,\n  color: 'black',\n  content: null,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: undefined,\n    size: undefined,\n    style: undefined,\n    weight: undefined\n  },\n  height: undefined,\n  hitTolerance: 0,\n  init: undefined,\n  opacity: undefined,\n  position: 'center',\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  spacing: 1,\n  textAlign: 'center',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  width: undefined,\n  xAdjust: 0,\n  yAdjust: 0\n};\n\nDoughnutLabelAnnotation.defaultRoutes = {\n};\n\nfunction getDatasetMeta(chart, options) {\n  return chart.getSortedVisibleDatasetMetas().reduce(function(result, value) {\n    const controller = value.controller;\n    if (controller instanceof DoughnutController &&\n      isControllerVisible(chart, options, value.data) &&\n      (!result || controller.innerRadius < result.controller.innerRadius) &&\n      controller.options.circumference >= 90) {\n      return value;\n    }\n    return result;\n  }, undefined);\n}\n\nfunction isControllerVisible(chart, options, elements) {\n  if (!options.autoHide) {\n    return true;\n  }\n  for (let i = 0; i < elements.length; i++) {\n    if (!elements[i].hidden && chart.getDataVisibility(i)) {\n      return true;\n    }\n  }\n}\n\nfunction getControllerMeta({chartArea}, options, meta) {\n  const {left, top, right, bottom} = chartArea;\n  const {innerRadius, offsetX, offsetY} = meta.controller;\n  const x = (left + right) / 2 + offsetX;\n  const y = (top + bottom) / 2 + offsetY;\n  const square = {\n    left: Math.max(x - innerRadius, left),\n    right: Math.min(x + innerRadius, right),\n    top: Math.max(y - innerRadius, top),\n    bottom: Math.min(y + innerRadius, bottom)\n  };\n  const point = {\n    x: (square.left + square.right) / 2,\n    y: (square.top + square.bottom) / 2\n  };\n  const space = options.spacing + options.borderWidth / 2;\n  const _radius = innerRadius - space;\n  const _counterclockwise = point.y > y;\n  const side = _counterclockwise ? top + space : bottom - space;\n  const angles = getAngles(side, x, y, _radius);\n  const controllerMeta = {\n    _centerX: x,\n    _centerY: y,\n    _radius,\n    _counterclockwise,\n    ...angles\n  };\n  return {\n    controllerMeta,\n    point,\n    radius: Math.min(innerRadius, Math.min(square.right - square.left, square.bottom - square.top) / 2)\n  };\n}\n\nfunction getFitRatio({width, height}, radius) {\n  const hypo = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n  return (radius * 2) / hypo;\n}\n\nfunction getAngles(y, centerX, centerY, radius) {\n  const yk2 = Math.pow(centerY - y, 2);\n  const r2 = Math.pow(radius, 2);\n  const b = centerX * -2;\n  const c = Math.pow(centerX, 2) + yk2 - r2;\n  const delta = Math.pow(b, 2) - (4 * c);\n  if (delta <= 0) {\n    return {\n      _startAngle: 0,\n      _endAngle: TAU\n    };\n  }\n  const start = (-b - Math.sqrt(delta)) / 2;\n  const end = (-b + Math.sqrt(delta)) / 2;\n  return {\n    _startAngle: getAngleFromPoint({x: centerX, y: centerY}, {x: start, y}).angle,\n    _endAngle: getAngleFromPoint({x: centerX, y: centerY}, {x: end, y}).angle\n  };\n}\n\nfunction drawBackground(ctx, element) {\n  const {_centerX, _centerY, _radius, _startAngle, _endAngle, _counterclockwise, options} = element;\n  ctx.save();\n  const stroke = setBorderStyle(ctx, options);\n  ctx.fillStyle = options.backgroundColor;\n  ctx.beginPath();\n  ctx.arc(_centerX, _centerY, _radius, _startAngle, _endAngle, _counterclockwise);\n  ctx.closePath();\n  ctx.fill();\n  if (stroke) {\n    ctx.stroke();\n  }\n  ctx.restore();\n}\n\nclass LabelAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    return inLabelRange(\n      {x: mouseX, y: mouseY},\n      {rect: this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), center: this.getCenterPoint(useFinalPosition)},\n      axis,\n      {rotation: this.rotation, borderWidth: this.options.borderWidth, hitTolerance: this.options.hitTolerance}\n    );\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const visible = !defined(this._visible) || this._visible;\n    if (!options.display || !options.content || !visible) {\n      return;\n    }\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.rotation);\n    drawCallout(ctx, this);\n    drawBox(ctx, this, options);\n    drawLabel(ctx, getLabelSize(this), options);\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    let point;\n    if (!isBoundToPoint(options)) {\n      const {centerX, centerY} = resolveBoxProperties(chart, options);\n      point = {x: centerX, y: centerY};\n    } else {\n      point = getChartPoint(chart, options);\n    }\n    const padding = toPadding(options.padding);\n    const labelSize = measureLabelSize(chart.ctx, options);\n    const boxSize = measureLabelRectangle(point, labelSize, options, padding);\n    return {\n      initProperties: initAnimationProperties(chart, boxSize, options),\n      pointX: point.x,\n      pointY: point.y,\n      ...boxSize,\n      rotation: options.rotation\n    };\n  }\n}\n\nLabelAnnotation.id = 'labelAnnotation';\n\nLabelAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundColor: 'transparent',\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 0,\n  callout: {\n    borderCapStyle: 'butt',\n    borderColor: undefined,\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 1,\n    display: false,\n    margin: 5,\n    position: 'auto',\n    side: 5,\n    start: '50%',\n  },\n  color: 'black',\n  content: null,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: undefined,\n    size: undefined,\n    style: undefined,\n    weight: undefined\n  },\n  height: undefined,\n  hitTolerance: 0,\n  init: undefined,\n  opacity: undefined,\n  padding: 6,\n  position: 'center',\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  textAlign: 'center',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  width: undefined,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nLabelAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction getLabelSize({x, y, width, height, options}) {\n  const hBorderWidth = options.borderWidth / 2;\n  const padding = toPadding(options.padding);\n  return {\n    x: x + padding.left + hBorderWidth,\n    y: y + padding.top + hBorderWidth,\n    width: width - padding.left - padding.right - options.borderWidth,\n    height: height - padding.top - padding.bottom - options.borderWidth\n  };\n}\n\nconst pointInLine = (p1, p2, t) => ({x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y)});\nconst interpolateX = (y, p1, p2) => pointInLine(p1, p2, Math.abs((y - p1.y) / (p2.y - p1.y))).x;\nconst interpolateY = (x, p1, p2) => pointInLine(p1, p2, Math.abs((x - p1.x) / (p2.x - p1.x))).y;\nconst sqr = v => v * v;\nconst rangeLimit = (mouseX, mouseY, {x, y, x2, y2}, axis) => axis === 'y' ? {start: Math.min(y, y2), end: Math.max(y, y2), value: mouseY} : {start: Math.min(x, x2), end: Math.max(x, x2), value: mouseX};\n// http://www.independent-software.com/determining-coordinates-on-a-html-canvas-bezier-curve.html\nconst coordInCurve = (start, cp, end, t) => (1 - t) * (1 - t) * start + 2 * (1 - t) * t * cp + t * t * end;\nconst pointInCurve = (start, cp, end, t) => ({x: coordInCurve(start.x, cp.x, end.x, t), y: coordInCurve(start.y, cp.y, end.y, t)});\nconst coordAngleInCurve = (start, cp, end, t) => 2 * (1 - t) * (cp - start) + 2 * t * (end - cp);\nconst angleInCurve = (start, cp, end, t) => -Math.atan2(coordAngleInCurve(start.x, cp.x, end.x, t), coordAngleInCurve(start.y, cp.y, end.y, t)) + 0.5 * PI;\n\nclass LineAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      const point = {mouseX, mouseY};\n      const {path, ctx} = this;\n      if (path) {\n        setBorderStyle(ctx, this.options);\n        ctx.lineWidth += this.options.hitTolerance;\n        const {chart} = this.$context;\n        const mx = mouseX * chart.currentDevicePixelRatio;\n        const my = mouseY * chart.currentDevicePixelRatio;\n        const result = ctx.isPointInStroke(path, mx, my) || isOnLabel(this, point, useFinalPosition);\n        ctx.restore();\n        return result;\n      }\n      const epsilon = sqr(hitSize);\n      return intersects(this, point, epsilon, useFinalPosition) || isOnLabel(this, point, useFinalPosition);\n    }\n    return inAxisRange(this, {mouseX, mouseY}, axis, {hitSize, useFinalPosition});\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {x, y, x2, y2, cp, options} = this;\n\n    ctx.save();\n    if (!setBorderStyle(ctx, options)) {\n      // no border width, then line is not drawn\n      return ctx.restore();\n    }\n    setShadowStyle(ctx, options);\n\n    const length = Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2));\n    if (options.curve && cp) {\n      drawCurve(ctx, this, cp, length);\n      return ctx.restore();\n    }\n    const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(this);\n    const angle = Math.atan2(y2 - y, x2 - x);\n    ctx.translate(x, y);\n    ctx.rotate(angle);\n    ctx.beginPath();\n    ctx.moveTo(0 + startAdjust, 0);\n    ctx.lineTo(length - endAdjust, 0);\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n    drawArrowHead(ctx, 0, startAdjust, startOpts);\n    drawArrowHead(ctx, length, -endAdjust, endOpts);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    const area = resolveLineProperties(chart, options);\n    const {x, y, x2, y2} = area;\n    const inside = isLineInArea(area, chart.chartArea);\n    const properties = inside\n      ? limitLineToArea({x, y}, {x: x2, y: y2}, chart.chartArea)\n      : {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n    properties.centerX = (x2 + x) / 2;\n    properties.centerY = (y2 + y) / 2;\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    if (options.curve) {\n      const p1 = {x: properties.x, y: properties.y};\n      const p2 = {x: properties.x2, y: properties.y2};\n      properties.cp = getControlPoint(properties, options, distanceBetweenPoints(p1, p2));\n    }\n    const labelProperties = resolveLabelElementProperties(chart, properties, options.label);\n    // additonal prop to manage zoom/pan\n    labelProperties._visible = inside;\n\n    properties.elements = [{\n      type: 'label',\n      optionScope: 'label',\n      properties: labelProperties,\n      initProperties: properties.initProperties\n    }];\n    return properties;\n  }\n}\n\nLineAnnotation.id = 'lineAnnotation';\n\nconst arrowHeadsDefaults = {\n  backgroundColor: undefined,\n  backgroundShadowColor: undefined,\n  borderColor: undefined,\n  borderDash: undefined,\n  borderDashOffset: undefined,\n  borderShadowColor: undefined,\n  borderWidth: undefined,\n  display: undefined,\n  fill: undefined,\n  length: undefined,\n  shadowBlur: undefined,\n  shadowOffsetX: undefined,\n  shadowOffsetY: undefined,\n  width: undefined\n};\n\nLineAnnotation.defaults = {\n  adjustScaleRange: true,\n  arrowHeads: {\n    display: false,\n    end: Object.assign({}, arrowHeadsDefaults),\n    fill: false,\n    length: 12,\n    start: Object.assign({}, arrowHeadsDefaults),\n    width: 6\n  },\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 2,\n  curve: false,\n  controlPoint: {\n    y: '-50%'\n  },\n  display: true,\n  endValue: undefined,\n  init: undefined,\n  hitTolerance: 0,\n  label: {\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    backgroundShadowColor: 'transparent',\n    borderCapStyle: 'butt',\n    borderColor: 'black',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderRadius: 6,\n    borderShadowColor: 'transparent',\n    borderWidth: 0,\n    callout: Object.assign({}, LabelAnnotation.defaults.callout),\n    color: '#fff',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    hitTolerance: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: 0,\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    textAlign: 'center',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  scaleID: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  value: undefined,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nLineAnnotation.descriptors = {\n  arrowHeads: {\n    start: {\n      _fallback: true\n    },\n    end: {\n      _fallback: true\n    },\n    _fallback: true\n  }\n};\n\nLineAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction inAxisRange(element, {mouseX, mouseY}, axis, {hitSize, useFinalPosition}) {\n  const limit = rangeLimit(mouseX, mouseY, element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis);\n  return inLimit(limit, hitSize) || isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis);\n}\n\nfunction isLineInArea({x, y, x2, y2}, {top, right, bottom, left}) {\n  return !(\n    (x < left && x2 < left) ||\n    (x > right && x2 > right) ||\n    (y < top && y2 < top) ||\n    (y > bottom && y2 > bottom)\n  );\n}\n\nfunction limitPointToArea({x, y}, p2, {top, right, bottom, left}) {\n  if (x < left) {\n    y = interpolateY(left, {x, y}, p2);\n    x = left;\n  }\n  if (x > right) {\n    y = interpolateY(right, {x, y}, p2);\n    x = right;\n  }\n  if (y < top) {\n    x = interpolateX(top, {x, y}, p2);\n    y = top;\n  }\n  if (y > bottom) {\n    x = interpolateX(bottom, {x, y}, p2);\n    y = bottom;\n  }\n  return {x, y};\n}\n\nfunction limitLineToArea(p1, p2, area) {\n  const {x, y} = limitPointToArea(p1, p2, area);\n  const {x: x2, y: y2} = limitPointToArea(p2, p1, area);\n  return {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n}\n\nfunction intersects(element, {mouseX, mouseY}, epsilon = EPSILON, useFinalPosition) {\n  // Adapted from https://stackoverflow.com/a/6853926/25507\n  const {x: x1, y: y1, x2, y2} = element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const lenSq = sqr(dx) + sqr(dy);\n  const t = lenSq === 0 ? -1 : ((mouseX - x1) * dx + (mouseY - y1) * dy) / lenSq;\n\n  let xx, yy;\n  if (t < 0) {\n    xx = x1;\n    yy = y1;\n  } else if (t > 1) {\n    xx = x2;\n    yy = y2;\n  } else {\n    xx = x1 + t * dx;\n    yy = y1 + t * dy;\n  }\n  return (sqr(mouseX - xx) + sqr(mouseY - yy)) <= epsilon;\n}\n\nfunction isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis) {\n  const label = element.label;\n  return label.options.display && label.inRange(mouseX, mouseY, axis, useFinalPosition);\n}\n\nfunction resolveLabelElementProperties(chart, properties, options) {\n  const borderWidth = options.borderWidth;\n  const padding = toPadding(options.padding);\n  const textSize = measureLabelSize(chart.ctx, options);\n  const width = textSize.width + padding.width + borderWidth;\n  const height = textSize.height + padding.height + borderWidth;\n  return calculateLabelPosition(properties, options, {width, height, padding}, chart.chartArea);\n}\n\nfunction calculateAutoRotation(properties) {\n  const {x, y, x2, y2} = properties;\n  const rotation = Math.atan2(y2 - y, x2 - x);\n  // Flip the rotation if it goes > PI/2 or < -PI/2, so label stays upright\n  return rotation > PI / 2 ? rotation - PI : rotation < PI / -2 ? rotation + PI : rotation;\n}\n\nfunction calculateLabelPosition(properties, label, sizes, chartArea) {\n  const {width, height, padding} = sizes;\n  const {xAdjust, yAdjust} = label;\n  const p1 = {x: properties.x, y: properties.y};\n  const p2 = {x: properties.x2, y: properties.y2};\n  const rotation = label.rotation === 'auto' ? calculateAutoRotation(properties) : toRadians(label.rotation);\n  const size = rotatedSize(width, height, rotation);\n  const t = calculateT(properties, label, {labelSize: size, padding}, chartArea);\n  const pt = properties.cp ? pointInCurve(p1, properties.cp, p2, t) : pointInLine(p1, p2, t);\n  const xCoordinateSizes = {size: size.w, min: chartArea.left, max: chartArea.right, padding: padding.left};\n  const yCoordinateSizes = {size: size.h, min: chartArea.top, max: chartArea.bottom, padding: padding.top};\n  const centerX = adjustLabelCoordinate(pt.x, xCoordinateSizes) + xAdjust;\n  const centerY = adjustLabelCoordinate(pt.y, yCoordinateSizes) + yAdjust;\n  return {\n    x: centerX - (width / 2),\n    y: centerY - (height / 2),\n    x2: centerX + (width / 2),\n    y2: centerY + (height / 2),\n    centerX,\n    centerY,\n    pointX: pt.x,\n    pointY: pt.y,\n    width,\n    height,\n    rotation: toDegrees(rotation)\n  };\n}\n\nfunction rotatedSize(width, height, rotation) {\n  const cos = Math.cos(rotation);\n  const sin = Math.sin(rotation);\n  return {\n    w: Math.abs(width * cos) + Math.abs(height * sin),\n    h: Math.abs(width * sin) + Math.abs(height * cos)\n  };\n}\n\nfunction calculateT(properties, label, sizes, chartArea) {\n  let t;\n  const space = spaceAround(properties, chartArea);\n  if (label.position === 'start') {\n    t = calculateTAdjust({w: properties.x2 - properties.x, h: properties.y2 - properties.y}, sizes, label, space);\n  } else if (label.position === 'end') {\n    t = 1 - calculateTAdjust({w: properties.x - properties.x2, h: properties.y - properties.y2}, sizes, label, space);\n  } else {\n    t = getRelativePosition(1, label.position);\n  }\n  return t;\n}\n\nfunction calculateTAdjust(lineSize, sizes, label, space) {\n  const {labelSize, padding} = sizes;\n  const lineW = lineSize.w * space.dx;\n  const lineH = lineSize.h * space.dy;\n  const x = (lineW > 0) && ((labelSize.w / 2 + padding.left - space.x) / lineW);\n  const y = (lineH > 0) && ((labelSize.h / 2 + padding.top - space.y) / lineH);\n  return clamp(Math.max(x, y), 0, 0.25);\n}\n\nfunction spaceAround(properties, chartArea) {\n  const {x, x2, y, y2} = properties;\n  const t = Math.min(y, y2) - chartArea.top;\n  const l = Math.min(x, x2) - chartArea.left;\n  const b = chartArea.bottom - Math.max(y, y2);\n  const r = chartArea.right - Math.max(x, x2);\n  return {\n    x: Math.min(l, r),\n    y: Math.min(t, b),\n    dx: l <= r ? 1 : -1,\n    dy: t <= b ? 1 : -1\n  };\n}\n\nfunction adjustLabelCoordinate(coordinate, labelSizes) {\n  const {size, min, max, padding} = labelSizes;\n  const halfSize = size / 2;\n  if (size > max - min) {\n    // if it does not fit, display as much as possible\n    return (max + min) / 2;\n  }\n  if (min >= (coordinate - padding - halfSize)) {\n    coordinate = min + padding + halfSize;\n  }\n  if (max <= (coordinate + padding + halfSize)) {\n    coordinate = max - padding - halfSize;\n  }\n  return coordinate;\n}\n\nfunction getArrowHeads(line) {\n  const options = line.options;\n  const arrowStartOpts = options.arrowHeads && options.arrowHeads.start;\n  const arrowEndOpts = options.arrowHeads && options.arrowHeads.end;\n  return {\n    startOpts: arrowStartOpts,\n    endOpts: arrowEndOpts,\n    startAdjust: getLineAdjust(line, arrowStartOpts),\n    endAdjust: getLineAdjust(line, arrowEndOpts)\n  };\n}\n\nfunction getLineAdjust(line, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return 0;\n  }\n  const {length, width} = arrowOpts;\n  const adjust = line.options.borderWidth / 2;\n  const p1 = {x: length, y: width + adjust};\n  const p2 = {x: 0, y: adjust};\n  return Math.abs(interpolateX(0, p1, p2));\n}\n\nfunction drawArrowHead(ctx, offset, adjust, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  const {length, width, fill, backgroundColor, borderColor} = arrowOpts;\n  const arrowOffsetX = Math.abs(offset - length) + adjust;\n  ctx.beginPath();\n  setShadowStyle(ctx, arrowOpts);\n  setBorderStyle(ctx, arrowOpts);\n  ctx.moveTo(arrowOffsetX, -width);\n  ctx.lineTo(offset + adjust, 0);\n  ctx.lineTo(arrowOffsetX, width);\n  if (fill === true) {\n    ctx.fillStyle = backgroundColor || borderColor;\n    ctx.closePath();\n    ctx.fill();\n    ctx.shadowColor = 'transparent';\n  } else {\n    ctx.shadowColor = arrowOpts.borderShadowColor;\n  }\n  ctx.stroke();\n}\n\nfunction getControlPoint(properties, options, distance) {\n  const {x, y, x2, y2, centerX, centerY} = properties;\n  const angle = Math.atan2(y2 - y, x2 - x);\n  const cp = toPosition(options.controlPoint, 0);\n  const point = {\n    x: centerX + getSize(distance, cp.x, false),\n    y: centerY + getSize(distance, cp.y, false)\n  };\n  return rotated(point, {x: centerX, y: centerY}, angle);\n}\n\nfunction drawArrowHeadOnCurve(ctx, {x, y}, {angle, adjust}, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.rotate(angle);\n  drawArrowHead(ctx, 0, -adjust, arrowOpts);\n  ctx.restore();\n}\n\nfunction drawCurve(ctx, element, cp, length) {\n  const {x, y, x2, y2, options} = element;\n  const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(element);\n  const p1 = {x, y};\n  const p2 = {x: x2, y: y2};\n  const startAngle = angleInCurve(p1, cp, p2, 0);\n  const endAngle = angleInCurve(p1, cp, p2, 1) - PI;\n  const ps = pointInCurve(p1, cp, p2, startAdjust / length);\n  const pe = pointInCurve(p1, cp, p2, 1 - endAdjust / length);\n\n  const path = new Path2D();\n  ctx.beginPath();\n  path.moveTo(ps.x, ps.y);\n  path.quadraticCurveTo(cp.x, cp.y, pe.x, pe.y);\n  ctx.shadowColor = options.borderShadowColor;\n  ctx.stroke(path);\n  element.path = path;\n  element.ctx = ctx;\n  drawArrowHeadOnCurve(ctx, ps, {angle: startAngle, adjust: startAdjust}, startOpts);\n  drawArrowHeadOnCurve(ctx, pe, {angle: endAngle, adjust: endAdjust}, endOpts);\n}\n\nclass EllipseAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const rotation = this.options.rotation;\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      return pointInEllipse({x: mouseX, y: mouseY}, this.getProps(['width', 'height', 'centerX', 'centerY'], useFinalPosition), rotation, hitSize);\n    }\n    const {x, y, x2, y2} = this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n    const limit = axis === 'y' ? {start: y, end: y2} : {start: x, end: x2};\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-rotation));\n    return rotatedPoint[axis] >= limit.start - hitSize - EPSILON && rotatedPoint[axis] <= limit.end + hitSize + EPSILON;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {width, height, centerX, centerY, options} = this;\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), options.rotation);\n    setShadowStyle(ctx, this.options);\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    const stroke = setBorderStyle(ctx, options);\n    ctx.ellipse(centerX, centerY, height / 2, width / 2, PI / 2, 0, 2 * PI);\n    ctx.fill();\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n\n}\n\nEllipseAnnotation.id = 'ellipseAnnotation';\n\nEllipseAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  label: Object.assign({}, BoxAnnotation.defaults.label),\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nEllipseAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nEllipseAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nfunction pointInEllipse(p, ellipse, rotation, hitSize) {\n  const {width, height, centerX, centerY} = ellipse;\n  const xRadius = width / 2;\n  const yRadius = height / 2;\n\n  if (xRadius <= 0 || yRadius <= 0) {\n    return false;\n  }\n  // https://stackoverflow.com/questions/7946187/point-and-ellipse-rotated-position-test-algorithm\n  const angle = toRadians(rotation || 0);\n  const cosAngle = Math.cos(angle);\n  const sinAngle = Math.sin(angle);\n  const a = Math.pow(cosAngle * (p.x - centerX) + sinAngle * (p.y - centerY), 2);\n  const b = Math.pow(sinAngle * (p.x - centerX) - cosAngle * (p.y - centerY), 2);\n  return (a / Math.pow(xRadius + hitSize, 2)) + (b / Math.pow(yRadius + hitSize, 2)) <= 1.0001;\n}\n\nclass PointAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y, x2, y2, width} = this.getProps(['x', 'y', 'x2', 'y2', 'width'], useFinalPosition);\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      return inPointRange({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), width / 2, hitSize);\n    }\n    const limit = axis === 'y' ? {start: y, end: y2, value: mouseY} : {start: x, end: x2, value: mouseX};\n    return inLimit(limit, hitSize);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const borderWidth = options.borderWidth;\n    if (options.radius < 0.1) {\n      return;\n    }\n    ctx.save();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    drawPoint(ctx, this, this.centerX, this.centerY);\n    if (stroke && !isImageOrCanvas(options.pointStyle)) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n    options.borderWidth = borderWidth;\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    return properties;\n  }\n}\n\nPointAnnotation.id = 'pointAnnotation';\n\nPointAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  pointStyle: 'circle',\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPointAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nclass PolygonAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    if (axis !== 'x' && axis !== 'y') {\n      return this.options.radius >= 0.1 && this.elements.length > 1 && pointIsInPolygon(this.elements, mouseX, mouseY, useFinalPosition);\n    }\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    const axisPoints = this.elements.map((point) => axis === 'y' ? point.bY : point.bX);\n    const start = Math.min(...axisPoints);\n    const end = Math.max(...axisPoints);\n    return rotatedPoint[axis] >= start && rotatedPoint[axis] <= end;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {elements, options} = this;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    let first = true;\n    for (const el of elements) {\n      if (first) {\n        ctx.moveTo(el.x, el.y);\n        first = false;\n      } else {\n        ctx.lineTo(el.x, el.y);\n      }\n    }\n    ctx.closePath();\n    ctx.fill();\n    // If no border, don't draw it\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    const {sides, rotation} = options;\n    const elements = [];\n    const angle = (2 * PI) / sides;\n    let rad = rotation * RAD_PER_DEG;\n    for (let i = 0; i < sides; i++, rad += angle) {\n      const elProps = buildPointElement(properties, options, rad);\n      elProps.initProperties = initAnimationProperties(chart, properties, options);\n      elements.push(elProps);\n    }\n    properties.elements = elements;\n    return properties;\n  }\n}\n\nPolygonAnnotation.id = 'polygonAnnotation';\n\nPolygonAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  point: {\n    radius: 0\n  },\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  sides: 3,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPolygonAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nfunction buildPointElement({centerX, centerY}, {radius, borderWidth, hitTolerance}, rad) {\n  const hitSize = (borderWidth + hitTolerance) / 2;\n  const sin = Math.sin(rad);\n  const cos = Math.cos(rad);\n  const point = {x: centerX + sin * radius, y: centerY - cos * radius};\n  return {\n    type: 'point',\n    optionScope: 'point',\n    properties: {\n      x: point.x,\n      y: point.y,\n      centerX: point.x,\n      centerY: point.y,\n      bX: centerX + sin * (radius + hitSize),\n      bY: centerY - cos * (radius + hitSize)\n    }\n  };\n}\n\nfunction pointIsInPolygon(points, x, y, useFinalPosition) {\n  let isInside = false;\n  let A = points[points.length - 1].getProps(['bX', 'bY'], useFinalPosition);\n  for (const point of points) {\n    const B = point.getProps(['bX', 'bY'], useFinalPosition);\n    if ((B.bY > y) !== (A.bY > y) && x < (A.bX - B.bX) * (y - B.bY) / (A.bY - B.bY) + B.bX) {\n      isInside = !isInside;\n    }\n    A = B;\n  }\n  return isInside;\n}\n\nconst annotationTypes = {\n  box: BoxAnnotation,\n  doughnutLabel: DoughnutLabelAnnotation,\n  ellipse: EllipseAnnotation,\n  label: LabelAnnotation,\n  line: LineAnnotation,\n  point: PointAnnotation,\n  polygon: PolygonAnnotation\n};\n\n/**\n * Register fallback for annotation elements\n * For example lineAnnotation options would be looked through:\n * - the annotation object (options.plugins.annotation.annotations[id])\n * - element options (options.elements.lineAnnotation)\n * - element defaults (defaults.elements.lineAnnotation)\n * - annotation plugin defaults (defaults.plugins.annotation, this is what we are registering here)\n */\nObject.keys(annotationTypes).forEach(key => {\n  defaults.describe(`elements.${annotationTypes[key].id}`, {\n    _fallback: 'plugins.annotation.common'\n  });\n});\n\nconst directUpdater = {\n  update: Object.assign\n};\n\nconst hooks$1 = eventHooks.concat(elementHooks);\nconst resolve = (value, optDefs) => isObject(optDefs) ? resolveObj(value, optDefs) : value;\n\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").UpdateMode } UpdateMode\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\n/**\n * @param {string} prop\n * @returns {boolean}\n */\nconst isIndexable = (prop) => prop === 'color' || prop === 'font';\n\n/**\n * Resolve the annotation type, checking if is supported.\n * @param {string} [type=line] - annotation type\n * @returns {string} resolved annotation type\n */\nfunction resolveType(type = 'line') {\n  if (annotationTypes[type]) {\n    return type;\n  }\n  console.warn(`Unknown annotation type: '${type}', defaulting to 'line'`);\n  return 'line';\n}\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n * @param {UpdateMode} mode\n */\nfunction updateElements(chart, state, options, mode) {\n  const animations = resolveAnimations(chart, options.animations, mode);\n\n  const annotations = state.annotations;\n  const elements = resyncElements(state.elements, annotations);\n\n  for (let i = 0; i < annotations.length; i++) {\n    const annotationOptions = annotations[i];\n    const element = getOrCreateElement(elements, i, annotationOptions.type);\n    const resolver = annotationOptions.setContext(getContext(chart, element, elements, annotationOptions));\n    const properties = element.resolveElementProperties(chart, resolver);\n\n    properties.skip = toSkip(properties);\n\n    if ('elements' in properties) {\n      updateSubElements(element, properties.elements, resolver, animations);\n      // Remove the sub-element definitions from properties, so the actual elements\n      // are not overwritten by their definitions\n      delete properties.elements;\n    }\n\n    if (!defined(element.x)) {\n      // If the element is newly created, assing the properties directly - to\n      // make them readily awailable to any scriptable options. If we do not do this,\n      // the properties retruned by `resolveElementProperties` are available only\n      // after options resolution.\n      Object.assign(element, properties);\n    }\n\n    Object.assign(element, properties.initProperties);\n    properties.options = resolveAnnotationOptions(resolver);\n\n    animations.update(element, properties);\n  }\n}\n\nfunction toSkip(properties) {\n  return isNaN(properties.x) || isNaN(properties.y);\n}\n\nfunction resolveAnimations(chart, animOpts, mode) {\n  if (mode === 'reset' || mode === 'none' || mode === 'resize') {\n    return directUpdater;\n  }\n  return new Animations(chart, animOpts);\n}\n\nfunction updateSubElements(mainElement, elements, resolver, animations) {\n  const subElements = mainElement.elements || (mainElement.elements = []);\n  subElements.length = elements.length;\n  for (let i = 0; i < elements.length; i++) {\n    const definition = elements[i];\n    const properties = definition.properties;\n    const subElement = getOrCreateElement(subElements, i, definition.type, definition.initProperties);\n    const subResolver = resolver[definition.optionScope].override(definition);\n    properties.options = resolveAnnotationOptions(subResolver);\n    animations.update(subElement, properties);\n  }\n}\n\nfunction getOrCreateElement(elements, index, type, initProperties) {\n  const elementClass = annotationTypes[resolveType(type)];\n  let element = elements[index];\n  if (!element || !(element instanceof elementClass)) {\n    element = elements[index] = new elementClass();\n    Object.assign(element, initProperties);\n  }\n  return element;\n}\n\nfunction resolveAnnotationOptions(resolver) {\n  const elementClass = annotationTypes[resolveType(resolver.type)];\n  const result = {};\n  result.id = resolver.id;\n  result.type = resolver.type;\n  result.drawTime = resolver.drawTime;\n  Object.assign(result,\n    resolveObj(resolver, elementClass.defaults),\n    resolveObj(resolver, elementClass.defaultRoutes));\n  for (const hook of hooks$1) {\n    result[hook] = resolver[hook];\n  }\n  return result;\n}\n\nfunction resolveObj(resolver, defs) {\n  const result = {};\n  for (const prop of Object.keys(defs)) {\n    const optDefs = defs[prop];\n    const value = resolver[prop];\n    if (isIndexable(prop) && isArray(value)) {\n      result[prop] = value.map((item) => resolve(item, optDefs));\n    } else {\n      result[prop] = resolve(value, optDefs);\n    }\n  }\n  return result;\n}\n\nfunction getContext(chart, element, elements, annotation) {\n  return element.$context || (element.$context = Object.assign(Object.create(chart.getContext()), {\n    element,\n    get elements() {\n      return elements.filter((el) => el && el.options);\n    },\n    id: annotation.id,\n    type: 'annotation'\n  }));\n}\n\nfunction resyncElements(elements, annotations) {\n  const count = annotations.length;\n  const start = elements.length;\n\n  if (start < count) {\n    const add = count - start;\n    elements.splice(start, 0, ...new Array(add));\n  } else if (start > count) {\n    elements.splice(count, start - count);\n  }\n  return elements;\n}\n\nvar version = \"3.1.0\";\n\nconst chartStates = new Map();\nconst isNotDoughnutLabel = annotation => annotation.type !== 'doughnutLabel';\nconst hooks = eventHooks.concat(elementHooks);\n\nvar annotation = {\n  id: 'annotation',\n\n  version,\n\n  beforeRegister() {\n    requireVersion('chart.js', '4.0', Chart.version);\n  },\n\n  afterRegister() {\n    Chart.register(annotationTypes);\n  },\n\n  afterUnregister() {\n    Chart.unregister(annotationTypes);\n  },\n\n  beforeInit(chart) {\n    chartStates.set(chart, {\n      annotations: [],\n      elements: [],\n      visibleElements: [],\n      listeners: {},\n      listened: false,\n      moveListened: false,\n      hooks: {},\n      hooked: false,\n      hovered: []\n    });\n  },\n\n  beforeUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    const annotations = state.annotations = [];\n\n    let annotationOptions = options.annotations;\n    if (isObject(annotationOptions)) {\n      Object.keys(annotationOptions).forEach(key => {\n        const value = annotationOptions[key];\n        if (isObject(value)) {\n          value.id = key;\n          annotations.push(value);\n        }\n      });\n    } else if (isArray(annotationOptions)) {\n      annotations.push(...annotationOptions);\n    }\n    verifyScaleOptions(annotations.filter(isNotDoughnutLabel), chart.scales);\n  },\n\n  afterDataLimits(chart, args) {\n    const state = chartStates.get(chart);\n    adjustScaleRange(chart, args.scale, state.annotations.filter(isNotDoughnutLabel).filter(a => a.display && a.adjustScaleRange));\n  },\n\n  afterUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    updateListeners(chart, state, options);\n    updateElements(chart, state, options, args.mode);\n    state.visibleElements = state.elements.filter(el => !el.skip && el.options.display);\n    updateHooks(chart, state, options);\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    draw(chart, 'beforeDatasetsDraw', options.clip);\n  },\n\n  afterDatasetsDraw(chart, _args, options) {\n    draw(chart, 'afterDatasetsDraw', options.clip);\n  },\n\n  beforeDatasetDraw(chart, _args, options) {\n    draw(chart, _args.index, options.clip);\n  },\n\n  beforeDraw(chart, _args, options) {\n    draw(chart, 'beforeDraw', options.clip);\n  },\n\n  afterDraw(chart, _args, options) {\n    draw(chart, 'afterDraw', options.clip);\n  },\n\n  beforeEvent(chart, args, options) {\n    const state = chartStates.get(chart);\n    if (handleEvent(state, args.event, options)) {\n      args.changed = true;\n    }\n  },\n\n  afterDestroy(chart) {\n    chartStates.delete(chart);\n  },\n\n  getAnnotations(chart) {\n    const state = chartStates.get(chart);\n    return state ? state.elements : [];\n  },\n\n  // only for testing\n  _getAnnotationElementsAtEventForMode(visibleElements, event, options) {\n    return getElements(visibleElements, event, options);\n  },\n\n  defaults: {\n    animations: {\n      numbers: {\n        properties: ['x', 'y', 'x2', 'y2', 'width', 'height', 'centerX', 'centerY', 'pointX', 'pointY', 'radius'],\n        type: 'number'\n      },\n      colors: {\n        properties: ['backgroundColor', 'borderColor'],\n        type: 'color'\n      }\n    },\n    clip: true,\n    interaction: {\n      mode: undefined,\n      axis: undefined,\n      intersect: undefined\n    },\n    common: {\n      drawTime: 'afterDatasetsDraw',\n      init: false,\n      label: {\n      }\n    }\n  },\n\n  descriptors: {\n    _indexable: false,\n    _scriptable: (prop) => !hooks.includes(prop) && prop !== 'init',\n    annotations: {\n      _allKeys: false,\n      _fallback: (prop, opts) => `elements.${annotationTypes[resolveType(opts.type)].id}`\n    },\n    interaction: {\n      _fallback: true\n    },\n    common: {\n      label: {\n        _indexable: isIndexable,\n        _fallback: true\n      },\n      _indexable: isIndexable\n    }\n  },\n\n  additionalOptionScopes: ['']\n};\n\nfunction draw(chart, caller, clip) {\n  const {ctx, chartArea} = chart;\n  const state = chartStates.get(chart);\n\n  if (clip) {\n    clipArea(ctx, chartArea);\n  }\n\n  const drawableElements = getDrawableElements(state.visibleElements, caller).sort((a, b) => a.element.options.z - b.element.options.z);\n  for (const item of drawableElements) {\n    drawElement(ctx, chartArea, state, item);\n  }\n\n  if (clip) {\n    unclipArea(ctx);\n  }\n}\n\nfunction getDrawableElements(elements, caller) {\n  const drawableElements = [];\n  for (const el of elements) {\n    if (el.options.drawTime === caller) {\n      drawableElements.push({element: el, main: true});\n    }\n    if (el.elements && el.elements.length) {\n      for (const sub of el.elements) {\n        if (sub.options.display && sub.options.drawTime === caller) {\n          drawableElements.push({element: sub});\n        }\n      }\n    }\n  }\n  return drawableElements;\n}\n\nfunction drawElement(ctx, chartArea, state, item) {\n  const el = item.element;\n  if (item.main) {\n    invokeHook(state, el, 'beforeDraw');\n    el.draw(ctx, chartArea);\n    invokeHook(state, el, 'afterDraw');\n  } else {\n    el.draw(ctx, chartArea);\n  }\n}\n\nexport { annotation as default };\n"],"names":["crcTable","n","c","k","initialCrc","updateCrc","currentCrc","data","length","crc","checkCrc","buffer","crcLength","chunkName","expectedCrc","readUint32","actualCrc","Uint8Array","byteOffset","offset","Error","unfilterNone","currentLine","newLine","bytesPerLine","i","unfilterSub","bytesPerPixel","unfilterUp","prevLine","unfilterAverage","unfilterPaeth","paethPredictor","a","b","p","pa","Math","abs","pb","pc","applyUnfilter","filterType","passLineBytes","uint16","Uint16Array","uint8","osIsLittleEndian","decodeInterlaceAdam7","params","width","height","channels","depth","passes","x","y","xStep","yStep","ceil","resultData","passIndex","pass","passWidth","passHeight","subarray","set","outputX","outputY","uint16Data","swap16","val","empty","decodeInterlaceNull","newData","pngSignature","of","checkSignature","hasPngSignature","readBytes","array","textChunkName","NULL","latin1Decoder","TextDecoder","validateKeyword","keyword","validateLatin1","latin1Regex","text","test","decodetEXt","readKeyword","readLatin1","mark","readByte","end","reset","decode","skip","ColorType","UNKNOWN","GREYSCALE","TRUECOLOUR","INDEXED_COLOUR","GREYSCALE_ALPHA","TRUECOLOUR_ALPHA","CompressionMethod","DEFLATE","FilterMethod","ADAPTIVE","InterlaceMethod","NO_INTERLACE","ADAM7","DisposeOpType","NONE","BACKGROUND","PREVIOUS","BlendOpType","SOURCE","OVER","IOBuffer","_checkCrc","_inflator","_png","_apng","_end","_hasPalette","_palette","_hasTransparency","_transparency","_compressionMethod","_filterMethod","_interlaceMethod","_colorType","_isAnimated","_numberOfFrames","_numberOfPlays","_frames","_writingDataChunks","constructor","options","super","this","numberOfFrames","numberOfPlays","frames","setBigEndian","type","readChars","decodeChunk","decodeImage","decodeApng","decodeApngChunk","decodeApngImage","decodeIHDR","decodePLTE","decodeIDAT","decodetRNS","decodeiCCP","decodepHYs","pushDataToFrame","decodeACTL","decodeFCTL","decodeFDAT","image","checkBitDepth","readUint8","colorType","sequenceNumber","xOffset","yOffset","delayNumber","readUint16","delayDenominator","disposeOp","blendOp","push","RangeError","l","palette","dataLength","dataOffset","err","alpha","name","compressionMethod","compressedProfile","iccEmbeddedProfile","profile","ppuX","ppuY","unitSpecifier","resolution","unit","newFrame","frame","at","transparency","prevFrame","disposeFrame","addFrameDataToCanvas","imageFrame","row","col","index","channel","maxValue","calculatePixelIndices","frameIndex","sourceAlpha","foregroundValue","value","floor","result","lastFrame","ResolutionUnitSpecifier","decodePng","decoder","isConstructor","tryToString","$TypeError","TypeError","module","exports","argument","wellKnownSymbol","create","defineProperty","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","configurable","key","charAt","S","unicode","fails","METHOD_NAME","method","call","aCallable","toObject","IndexedObject","lengthOfArrayLike","REDUCE_EMPTY","createMethod","IS_RIGHT","that","callbackfn","argumentsLength","memo","O","self","left","right","uncurryThis","slice","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","next","done","from","error","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","MATCH","regexp","error1","error2","F","Object","getPrototypeOf","makeBuiltIn","target","descriptor","get","getter","setter","f","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","documentCreateElement","classList","DOMTokenListPrototype","userAgent","Pebble","ENVIRONMENT","globalThis","classof","userAgentStartsWith","string","Bun","version","Deno","process","window","document","defineBuiltIn","regexpExec","createNonEnumerableProperty","SPECIES","RegExpPrototype","RegExp","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","methods","nativeMethod","str","arg2","forceStringMethod","$exec","String","NATIVE_BIND","FunctionPrototype","Function","apply","Reflect","bind","arguments","fn","classofRaw","getMethod","isNullOrUndefined","Iterators","it","anObject","getIteratorMethod","usingIterator","iteratorMethod","replace","stringSlice","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","m","symbols","match","ch","capture","console","getBuiltIn","isCallable","inspectSource","noop","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","sham","isObject","isRegExp","isArrayIteratorMethod","isPrototypeOf","getIterator","iteratorClose","Result","stopped","ResultPrototype","iterable","unboundFunction","iterator","iterFn","step","AS_ENTRIES","IS_RECORD","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","IteratorPrototype","createPropertyDescriptor","setToStringTag","returnThis","IteratorConstructor","NAME","ENUMERABLE_NEXT","TO_STRING_TAG","$","IS_PURE","FunctionName","createIteratorConstructor","setPrototypeOf","IteratorsCore","PROPER_FUNCTION_NAME","PROPER","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","keys","proto","forced","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","notify","toggle","node","promise","then","safeGetBuiltIn","macrotask","Queue","IS_IOS","IS_IOS_PEBBLE","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","Promise","microtask","queue","flush","parent","domain","exit","head","enter","resolve","nextTick","createTextNode","observe","characterData","add","PromiseCapability","C","reject","$$resolve","$$reject","activeXDocument","definePropertiesModule","enumBugKeys","hiddenKeys","html","sharedKey","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","contentWindow","open","NullProtoObject","ActiveXObject","Properties","DESCRIPTORS","V8_PROTOTYPE_DEFINE_BUG","definePropertyModule","toIndexedObject","objectKeys","defineProperties","props","hasOwn","CORRECT_PROTOTYPE_GETTER","$Object","ObjectPrototype","internalObjectKeys","NativePromiseConstructor","isForced","V8_VERSION","NativePromisePrototype","SUBCLASSING","NATIVE_PROMISE_REJECTION_EVENT","PromiseRejectionEvent","FORCED_PROMISE_CONSTRUCTOR","PROMISE_CONSTRUCTOR_SOURCE","GLOBAL_CORE_JS_PROMISE","FakePromise","CONSTRUCTOR","REJECTION_EVENT","newPromiseCapability","promiseCapability","checkCorrectnessOfIteration","all","tail","item","entry","R","toString","regexpFlags","stickyHelpers","shared","getInternalState","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeReplace","nativeExec","patchedExec","indexOf","UPDATES_LAST_INDEX_WRONG","re1","re2","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","group","state","raw","groups","sticky","source","charsAdded","strCopy","multiline","input","global","hasIndices","ignoreCase","dotAll","unicodeSets","regExpFlags","$RegExp","MISSED_STICKY","getOwnPropertyDescriptor","defineBuiltInAccessor","CONSTRUCTOR_NAME","Constructor","TAG","STATIC","aConstructor","defaultConstructor","toIntegerOrInfinity","requireObjectCoercible","charCodeAt","CONVERT_TO_STRING","$this","pos","first","second","size","codeAt","whitespaces","non","ltrim","rtrim","TYPE","start","trim","$location","defer","port","arraySlice","createElement","validateArgumentsLength","setImmediate","clear","clearImmediate","Dispatch","MessageChannel","counter","ONREADYSTATECHANGE","location","run","id","runner","eventListener","event","globalPostMessageDefer","postMessage","protocol","host","handler","args","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","passed","required","$indexOf","arrayMethodIsStrict","nativeIndexOf","NEGATIVE_ZERO","searchElement","fromIndex","addToUnscopables","InternalStateModule","defineIterator","createIterResultObject","ARRAY_ITERATOR","setInternalState","getterFor","iterated","kind","Arguments","$reduce","CHROME_VERSION","CHROME_BUG","reduce","isArray","nativeReverse","reverse","newPromiseCapabilityModule","perform","iterate","PROMISE_STATICS_INCORRECT_ITERATION","stat","capability","$promiseResolve","remaining","alreadyCalled","real","onRejected","unsafe","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","setSpecies","anInstance","speciesConstructor","task","hostReportErrors","PromiseConstructorDetection","PROMISE","NATIVE_PROMISE_SUBCLASSING","getInternalPromiseState","PromiseConstructor","PromisePrototype","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","isThenable","callReaction","reaction","exited","ok","fail","rejection","onHandleUnhandled","isReject","notified","reactions","onUnhandled","reason","initEvent","facade","IS_UNHANDLED","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","wrap","race","r","capabilityReject","promiseResolve","PromiseConstructorWrapper","CHECK_WRAPPER","$toString","getRegExpFlags","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","pattern","toLength","notARegExp","correctIsRegExpLogic","min","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","writable","endsWith","searchString","endPosition","len","search","stringIndexOf","includes","fixRegExpWellKnownSymbolLogic","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","matcher","rx","res","fullUnicode","A","matchStr","getSubstitution","REPLACE","max","concat","maybeToString","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_SUPPORTS_NAMED_GROUPS","_","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","j","replacerArgs","MAX_UINT32","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","split","BUGGY","SPLIT","nativeSplit","internalSplit","separator","limit","splitter","unicodeMatching","lim","q","e","z","startsWith","$trim","forcedStringTrimMethod","DOMIterables","ArrayIteratorMethods","ArrayValues","handlePrototype","CollectionPrototype","COLLECTION_NAME","interaction","modes","point","visibleElements","filterElements","intersect","nearest","getNearestItem","axis","getElements","mode","inRangeByAxis","element","inRange","getPointByAxis","center","filter","minDistance","Number","POSITIVE_INFINITY","nearestItems","getCenterPoint","evenPoint","distance","sort","_index","rotated","angle","cos","sin","cx","cy","isOlderPart","act","req","EPSILON","clamp","to","inLimit","hitSize","clampAll","obj","inPointRange","radius","pow","inBoxRange","x2","y2","borderWidth","hitTolerance","inRangeX","inRangeY","inLabelRange","rect","rotation","rotPoint","getElementCenterPoint","useFinalPosition","centerX","centerY","getProps","requireVersion","pkg","ver","strict","parts","parseInt","isPercentString","s","toPercent","parseFloat","toPositivePercent","boxAppering","defaultInitAnimation","box","properties","doughnutLabel","ellipse","label","line","polygon","getRelativePosition","getSize","positivePercent","calculateTextAlignment","textAlign","measureLabelRectangle","labelSize","xAdjust","yAdjust","padding","hasPadding","positionObj","toPosition","calculateLabelPosition$1","defaultValue","shouldFit","fitRatio","autoFit","toFonts","optFont","font","fonts","map","lineHeight","isBoundToPoint","xValue","yValue","adjust","initAnimationProperties","chart","initAnim","init","applyDefault","execCallback","loadHooks","hooks","hooksContainer","activated","forEach","hook","widthCache","Map","notRadius","isNaN","fontsKey","prev","isImageOrCanvas","translate","ctx","rotate","setBorderStyle","lineCap","borderCapStyle","setLineDash","borderDash","lineDashOffset","borderDashOffset","lineJoin","borderJoinStyle","lineWidth","strokeStyle","borderColor","setShadowStyle","shadowColor","backgroundShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","measureLabelSize","strokeWidth","textStrokeWidth","lines","mapKey","join","_measureText","has","calculateLabelSize","drawBox","save","stroke","fillStyle","backgroundColor","beginPath","w","h","borderRadius","closePath","fill","borderShadowColor","restore","drawLabel","globalAlpha","getOpacity","opacity","drawImage","labels","optColor","color","colors","textBaseline","setTextStrokeStyle","applyLabelDecoration","applyLabelContent","miterLimit","textStrokeColor","drawPoint","pointStyle","rad","drawPointStyle","cornerRadius","arc","moveTo","lineTo","PI","SQRT1_2","count","measureText","lhs","lh","strokeText","fillText","elementValue","positions","drawCallout","pointX","pointY","callout","calloutPosition","resolveCalloutPosition","isPointInRange","separatorStart","separatorEnd","getCalloutSeparatorCoord","sideStart","sideEnd","getCalloutSideCoord","margin","rotatedPoint","getCalloutSeparatorAdjust","side","getCalloutSideAdjust","resolveCalloutAutoPosition","xPoints","yPoints","limitedLineScale","xScaleID","startProp","endProp","yScaleID","scaleValue","scale","fallback","parse","getPixelForValue","retrieveScaleID","scales","scaleID","axes","getDimensionByScale","getChartPoint","chartArea","xScale","yScale","top","resolveBoxProperties","bottom","xDim","getChartDimensionByScale","xMin","xMax","yDim","yMin","yMax","resolvePointProperties","adjustCenterX","adjustCenterY","getChartCircle","resolveLineProperties","area","resolveFullLineProperties","resolveLimitedLineProperties","resolveBoxAndLabelProperties","initProperties","elements","optionScope","resolveLabelElementProperties$1","NaN","endValue","isHorizontal","scaleId","dim","calculateX","calculatePosition","calculateY","boxOpts","labelOpts","padStart","padEnd","availableSize","moveHooks","eventHooks","updateListeners","listened","listeners","moveListened","annotations","scope","click","handleEvent","handleMoveEvents","handleClickEvents","previous","hovered","context","changed","dispatchMoveEvents","checkElements","$context","elementHooks","updateHooks","hooked","invokeHook","callbackHook","adjustScaleRange","range","getScaleLimits","changeScaleLimit","handleTickRangeOptions","verifyScaleOptions","annotation","verifyScaleIDs","suggestedLimit","scaleLimitDefined","scaleOptions","verifyProperties","warn","prop","scaleIDOption","limits","NEGATIVE_INFINITY","updateLimits","BoxAnnotation","mouseX","mouseY","draw","resolveElementProperties","defaults","drawTime","family","weight","defaultRoutes","descriptors","_fallback","DoughnutLabelAnnotation","drawBackground","_fitRatio","meta","getDatasetMeta","controllerMeta","getControllerMeta","getFitRatio","boxSize","getSortedVisibleDatasetMetas","controller","isControllerVisible","innerRadius","circumference","autoHide","hidden","getDataVisibility","offsetX","offsetY","square","space","spacing","_radius","_counterclockwise","angles","getAngles","_centerX","_centerY","hypo","sqrt","yk2","r2","delta","_startAngle","_endAngle","LabelAnnotation","visible","_visible","getLabelSize","hBorderWidth","pointInLine","p1","p2","t","interpolateX","interpolateY","sqr","v","rangeLimit","coordInCurve","cp","pointInCurve","coordAngleInCurve","angleInCurve","atan2","LineAnnotation","path","mx","currentDevicePixelRatio","my","isPointInStroke","isOnLabel","epsilon","intersects","inAxisRange","curve","drawCurve","startOpts","endOpts","startAdjust","endAdjust","getArrowHeads","drawArrowHead","inside","isLineInArea","limitLineToArea","getControlPoint","labelProperties","resolveLabelElementProperties","arrowHeadsDefaults","limitPointToArea","x1","y1","dx","dy","lenSq","xx","yy","textSize","calculateLabelPosition","calculateAutoRotation","sizes","rotatedSize","calculateT","pt","xCoordinateSizes","yCoordinateSizes","adjustLabelCoordinate","spaceAround","calculateTAdjust","lineSize","lineW","lineH","coordinate","labelSizes","halfSize","arrowStartOpts","arrowHeads","arrowEndOpts","getLineAdjust","arrowOpts","arrowOffsetX","controlPoint","drawArrowHeadOnCurve","startAngle","endAngle","ps","pe","Path2D","quadraticCurveTo","assign","EllipseAnnotation","pointInEllipse","xRadius","yRadius","cosAngle","sinAngle","PointAnnotation","PolygonAnnotation","pointIsInPolygon","axisPoints","bY","bX","el","sides","elProps","buildPointElement","points","isInside","B","annotationTypes","describe","directUpdater","update","hooks$1","optDefs","resolveObj","isIndexable","resolveType","updateElements","animations","resolveAnimations","resyncElements","annotationOptions","getOrCreateElement","resolver","setContext","getContext","toSkip","updateSubElements","resolveAnnotationOptions","animOpts","mainElement","subElements","definition","subElement","subResolver","override","elementClass","defs","splice","chartStates","isNotDoughnutLabel","beforeRegister","afterRegister","register","afterUnregister","unregister","beforeInit","beforeUpdate","afterDataLimits","afterUpdate","beforeDatasetsDraw","_args","clip","afterDatasetsDraw","beforeDatasetDraw","beforeDraw","afterDraw","beforeEvent","afterDestroy","delete","getAnnotations","_getAnnotationElementsAtEventForMode","numbers","common","_indexable","_scriptable","_allKeys","opts","additionalOptionScopes","caller","drawableElements","getDrawableElements","drawElement","main","sub"],"sourceRoot":""}