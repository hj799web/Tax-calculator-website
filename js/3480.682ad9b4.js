"use strict";(self["webpackChunkTaxCalculator"]=self["webpackChunkTaxCalculator"]||[]).push([[3480],{53480:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});t(44114);var o=t(6934),a=t(94621),r=t(75044);const i={class:"spending-panel"};var s={__name:"SpendingPanel",setup(e){const n=(0,a.W)(),t=(0,o.EW)((()=>({...n.expandedGroups,otherCategories:!0,governmentOperations:!0}))),s=["healthcare","education","seniors","childrenFamilies","indigenousServices","employmentInsurance","defensePublicSafety"],c=(0,o.EW)((()=>s.map((e=>n.spendingCategories[e])).filter(Boolean))),u=(0,o.EW)((()=>{const e=[],t=n.spendingCategories.governmentOperations,o=n.spendingCategories.loansInvestments;return t?.isGroup&&e.push({id:t.id,name:t.name,description:t.description,baseAmount:g(t)}),o?.isGroup&&e.push({id:o.id,name:o.name,description:o.description,baseAmount:g(o)}),e})),p=(0,o.EW)((()=>{const e=n.spendingCategories.governmentOperations;return e&&e.children?Object.values(e.children).slice().sort(((e,n)=>(e.name||"").localeCompare(n.name||""))):[]})),d=(0,o.EW)((()=>{const e={},t=n=>{e[n.id]=Number(100*(n.adjustmentFactor||1))};for(const[,o]of Object.entries(n.spendingCategories))if(o?.isGroup&&o?.children)for(const e of Object.values(o.children))t(e);else o&&!o.isGroup&&t(o);return e}));function l(e){const t=n.spendingCategories[e];return t&&t.children?Object.values(t.children):[]}function g(e){return e?.children?Object.values(e.children).reduce(((e,n)=>e+Number(n.baseAmount||0)),0):0}const m=(0,o.EW)((()=>{const e=n.taxExpenditures||{};return Object.values(e).reduce(((e,n)=>e+Number(n?.netAmount??n?.baseAmount??0)),0)}));function v(e,t){const o=Number(t)/100;isFinite(o)&&n.updateSpendingFactor(e,o)}function h(e,t){const o=Number(t)/100;isFinite(o)&&n.updateGroupSpendingFactor(e,o)}function f(){const e=n.spendingCategories.governmentOperations;if(e?.children)for(const t of Object.values(e.children))n.updateSpendingFactor(t.id,1)}function x(){const e=n.spendingCategories.loansInvestments;if(e?.children)for(const t of Object.values(e.children))n.updateSpendingFactor(t.id,1)}return(e,a)=>((0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(r.A,{"main-categories":c.value,"other-categories-groups":u.value,"sorted-gov-ops-children":p.value,"spending-factors":d.value,"auto-balance-active":(0,o.R1)(n).autoBalanceActive,"expanded-groups":t.value,"total-main-categories":(0,o.R1)(n).mainCategoriesSpending,"total-other-categories":(0,o.R1)(n).otherCategoriesTotal,"total-gov-ops":(0,o.R1)(n).governmentOperationsSpending,"total-spending":(0,o.R1)(n).totalSpending,"tax-expenditures":(0,o.R1)(n).taxExpenditures,"total-tax-expenditures":m.value,"tax-expenditure-revenue-impact":(0,o.R1)(n).taxExpenditureRevenueImpact,"get-group-children":l,onUpdateSpendingFactor:v,onUpdateGroupSpendingFactor:h,onToggleGroupExpansion:(0,o.R1)(n).toggleGroupExpansion,onResetGovOps:f,onResetOtherCategories:x},null,8,["main-categories","other-categories-groups","sorted-gov-ops-children","spending-factors","auto-balance-active","expanded-groups","total-main-categories","total-other-categories","total-gov-ops","total-spending","tax-expenditures","total-tax-expenditures","tax-expenditure-revenue-impact","onToggleGroupExpansion"])]))}},c=t(66262);const u=(0,c.A)(s,[["__scopeId","data-v-2055a8fa"]]);var p=u}}]);
//# sourceMappingURL=3480.682ad9b4.js.map