{"version":3,"file":"js/3071.9a172182.js","mappings":"soBAqDA,MAAM,EAAEA,IAAMC,EAAAA,EAAAA,MACRC,EAAWA,CAACC,EAAKC,EAAW,MAChC,MAAMC,EAAQL,EAAEG,GAChB,OAAOE,IAAUF,EAAMC,EAAWC,CAAK,EAGnCC,EAAOC,EAEPC,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAASC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,KAGXC,GAAQC,EAAAA,EAAAA,KAAS,KACrB,MAAMC,EAAO,GA2Cb,OAxCAC,OAAOC,OAAOR,EAAOS,gBAAkB,CAAC,GAAGC,SAASC,IAC7CA,GAAQA,EAAIC,IAAOD,EAAIE,MAC5BP,EAAKQ,KAAK,CACRrB,IAAK,WAAWkB,EAAIC,KACpBA,GAAID,EAAIC,GACRC,KAAMF,EAAIE,KACVE,MAAO,UACPC,KAAM,UACNC,QAASC,OAAOP,EAAIQ,MAAQ,IAC5B,IAIJZ,OAAOC,OAAOR,EAAOoB,oBAAsB,CAAC,GAAGV,SAASW,IACjDA,IACDA,EAAIC,SAAWD,EAAIE,SACrBhB,OAAOC,OAAOa,EAAIE,UAAUb,SAASc,IAC9BA,GAAUA,EAAMZ,IAAOY,EAAMX,MAClCP,EAAKQ,KAAK,CACRrB,IAAK,YAAY+B,EAAMZ,KACvBA,GAAIY,EAAMZ,GACVC,KAAMW,EAAMX,KACZE,MAAOM,EAAIR,MAAQ,WACnBG,KAAM,WACNC,QAASC,OAAOM,EAAMC,kBAAoB,IAC1C,IAEKJ,EAAIT,IAAMS,EAAIR,MACvBP,EAAKQ,KAAK,CACRrB,IAAK,YAAY4B,EAAIT,KACrBA,GAAIS,EAAIT,GACRC,KAAMQ,EAAIR,KACVE,MAAO,WACPC,KAAM,WACNC,QAASC,OAAOG,EAAII,kBAAoB,KAE5C,IAIKnB,EAAKoB,MAAK,CAACC,EAAGC,IAAOD,EAAEX,OAASY,EAAEZ,KAAOW,EAAEd,KAAKgB,cAAcD,EAAEf,MAAQc,EAAEX,KAAKa,cAAcD,EAAEZ,OAAO,IAGzGc,GAAgBzB,EAAAA,EAAAA,KAAS,KAC7B,MAAM0B,EAAIjC,EAAYH,MAAMqC,OAAOC,cACnC,OAAKF,EACE3B,EAAMT,MAAMuC,QAAQC,GACzBA,EAAEtB,KAAKoB,cAAcG,SAASL,IAC9BI,EAAEpB,MAAMkB,cAAcG,SAASL,IAC/BI,EAAEnB,KAAKiB,cAAcG,SAASL,KAJjB3B,EAAMT,KAKpB,IAGH,SAAS0C,EAAUC,GAEjBpC,EAASqC,UAAUD,EAAK1B,GAAI0B,EAAKtB,KACnC,CAEA,SAASwB,EAASF,GAEhB1C,EAAK,YAAa0C,EAAKtB,KAAMsB,EAAK1B,GACpC,C,o3CC7HA,MAAM6B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://my-new-project/./src/domains/budget/components/ItemsPlanList.vue","webpack://my-new-project/./src/domains/budget/components/ItemsPlanList.vue?9dce"],"sourcesContent":["<template>\n  <div class=\"items-plan-list\">\n    <div class=\"search-bar\">\n      <input v-model=\"searchQuery\" :placeholder=\"i18nText('itemsPlanList.searchPlaceholder', 'Search items...')\" />\n    </div>\n\n    <div class=\"items-grid\">\n      <div v-for=\"item in filteredItems\" :key=\"item.key\" :class=\"['item-card', item.type]\">\n        <div class=\"item-header\">\n          <div class=\"left\">\n            <span class=\"icon material-icons\" aria-hidden=\"true\">{{ item.type === 'revenue' ? 'paid' : 'account_balance' }}</span>\n            <span class=\"name\">{{ item.name }}</span>\n          </div>\n          <span class=\"badge\">{{ item.badge }}</span>\n        </div>\n        <div class=\"item-controls\">\n          <label>{{ item.type === 'revenue' ? i18nText('itemsPlanList.labels.currentRate', 'Current rate (%)') : i18nText('itemsPlanList.labels.currentFactor', 'Current factor (Ã—)') }}</label>\n          <input\n            v-if=\"item.type === 'revenue'\"\n            type=\"number\"\n            step=\"0.1\"\n            :value=\"item.current\"\n            disabled\n          />\n          <input\n            v-else\n            type=\"number\"\n            step=\"0.01\"\n            :value=\"item.current\"\n            disabled\n          />\n        </div>\n        <div class=\"item-actions\">\n          <button class=\"btn\" @click=\"resetItem(item)\">{{ i18nText('itemsPlanList.buttons.reset', 'Reset') }}</button>\n          <button class=\"btn primary\" @click=\"planItem(item)\">{{ i18nText('itemsPlanList.buttons.plan', 'Plan') }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"filteredItems.length === 0\" class=\"empty\">\n      {{ i18nText('itemsPlanList.empty', 'No items match your search criteria.') }}\n    </div>\n  </div>\n  \n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport { useBudgetSimulatorStore } from '@/domains/budget/store/budgetSimulator.js';\nimport { useMultiYearSettingsStore } from '@/domains/budget/store/multiYearSettings.js';\nimport { useI18n } from '@/i18n';\n\n// i18n setup\nconst { t } = useI18n();\nconst i18nText = (key, fallback = '') => {\n  const value = t(key);\n  return value === key ? fallback : value;\n};\n\nconst emit = defineEmits(['open-plan']);\n\nconst searchQuery = ref('');\nconst budget = useBudgetSimulatorStore();\nconst planning = useMultiYearSettingsStore();\n\n// Build a unified item list from revenue sources and spending categories (including grouped children)\nconst items = computed(() => {\n  const list = [];\n\n  // Revenue items\n  Object.values(budget.revenueSources || {}).forEach((src) => {\n    if (!src || !src.id || !src.name) return;\n    list.push({\n      key: `revenue:${src.id}`,\n      id: src.id,\n      name: src.name,\n      badge: 'Revenue',\n      type: 'revenue',\n      current: Number(src.rate ?? 0),\n    });\n  });\n\n  // Spending items (flatten groups)\n  Object.values(budget.spendingCategories || {}).forEach((cat) => {\n    if (!cat) return;\n    if (cat.isGroup && cat.children) {\n      Object.values(cat.children).forEach((child) => {\n        if (!child || !child.id || !child.name) return;\n        list.push({\n          key: `spending:${child.id}`,\n          id: child.id,\n          name: child.name,\n          badge: cat.name || 'Spending',\n          type: 'spending',\n          current: Number(child.adjustmentFactor ?? 1),\n        });\n      });\n    } else if (cat.id && cat.name) {\n      list.push({\n        key: `spending:${cat.id}`,\n        id: cat.id,\n        name: cat.name,\n        badge: 'Spending',\n        type: 'spending',\n        current: Number(cat.adjustmentFactor ?? 1),\n      });\n    }\n  });\n\n  // Sort by type then name for consistency\n  return list.sort((a, b) => (a.type === b.type ? a.name.localeCompare(b.name) : a.type.localeCompare(b.type)));\n});\n\nconst filteredItems = computed(() => {\n  const q = searchQuery.value.trim().toLowerCase();\n  if (!q) return items.value;\n  return items.value.filter((i) =>\n    i.name.toLowerCase().includes(q) ||\n    i.badge.toLowerCase().includes(q) ||\n    i.type.toLowerCase().includes(q)\n  );\n});\n\nfunction resetItem(item) {\n  // Clear any multi-year plan for this item\n  planning.clearPlan(item.id, item.type);\n}\n\nfunction planItem(item) {\n  // Ask parent host to open the planning modal for this item\n  emit('open-plan', item.type, item.id);\n}\n</script>\n\n<style scoped>\n.items-plan-list { display: grid; gap: 12px; }\n.search-bar input { width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 10px; }\n.items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; }\n.item-card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px; background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,.04); }\n.item-card.revenue { border-left: 4px solid #1d4ed8; }\n.item-card.spending { border-left: 4px solid #047857; }\n\n.item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }\n.item-header .left { display: inline-flex; align-items: center; gap: 8px; min-width: 0; }\n.icon { font-size: 20px; color: #6b7280; }\n.name { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n.badge { background: #eef2ff; color: #3730a3; padding: 2px 8px; border-radius: 999px; font-size: .75rem; }\n\n.item-controls { display: grid; gap: 4px; margin-bottom: 8px; }\n.item-controls label { font-size: .85rem; color: #6b7280; }\n.item-controls input { padding: 6px 8px; border: 1px solid #d1d5db; border-radius: 6px; }\n\n.item-actions { display: flex; gap: 8px; }\n.empty { text-align: center; color: #6b7280; font-style: italic; padding: 20px; }\n\n.btn {\n  padding: 6px 12px;\n  border: 1px solid #3b82f6;\n  border-radius: 6px;\n  background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n  color: #374151;\n  font-weight: 500;\n  font-size: 0.8rem;\n  cursor: pointer;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 1px 4px rgba(107, 114, 128, 0.1);\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  position: relative;\n  overflow: hidden;\n}\n\n.btn.primary {\n  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n  color: #fff;\n  border-color: #1d4ed8;\n}\n\n.btn.primary:hover {\n  background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);\n  transform: translateY(-0.5px);\n  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n}\n\n.btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.4s;\n}\n\n.btn:hover {\n  background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);\n  box-shadow: 0 2px 8px rgba(107, 114, 128, 0.15);\n  transform: translateY(-0.5px);\n  border-color: #6b7280;\n}\n\n.btn:hover::before {\n  left: 100%;\n}\n\n.btn:active {\n  transform: translateY(0);\n  box-shadow: 0 1px 4px rgba(107, 114, 128, 0.1);\n}\n</style>\n","import script from \"./ItemsPlanList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ItemsPlanList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ItemsPlanList.vue?vue&type=style&index=0&id=2fb33e8b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2fb33e8b\"]])\n\nexport default __exports__"],"names":["t","useI18n","i18nText","key","fallback","value","emit","__emit","searchQuery","ref","budget","useBudgetSimulatorStore","planning","useMultiYearSettingsStore","items","computed","list","Object","values","revenueSources","forEach","src","id","name","push","badge","type","current","Number","rate","spendingCategories","cat","isGroup","children","child","adjustmentFactor","sort","a","b","localeCompare","filteredItems","q","trim","toLowerCase","filter","i","includes","resetItem","item","clearPlan","planItem","__exports__"],"sourceRoot":""}