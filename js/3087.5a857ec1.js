"use strict";(self["webpackChunkTaxCalculator"]=self["webpackChunkTaxCalculator"]||[]).push([[3087],{83087:function(e,s,t){t.r(s),t.d(s,{default:function(){return M}});var l=t(6934),a=t(32837),o=t(57028),i=t(62948),n=t(94621),c=t(16166),r=t(9516);const u={class:"sentiment-panel"},v={class:"controls"},m={class:"chart"},p={class:"group-tabs"},d={class:"segments"},k={class:"seg-col"},g={class:"seg-block"},b={class:"seg-subtitle"},L=["title"],_={class:"seg-block"},C={class:"seg-subtitle"},h=["title"],x={class:"seg-block full-list"},f={class:"seg-subtitle"},T=["title"],R={class:"seg-col"},y={class:"seg-block"},A={class:"seg-subtitle"},F=["title"],E={class:"seg-block"},I={class:"seg-subtitle"},X=["title"],j={class:"seg-block full-list"},P={class:"seg-subtitle"},N=["title"],W={class:"seg-col"},K={class:"seg-block"},S={class:"seg-subtitle"},w=["title"],D={class:"seg-block"},G={class:"seg-subtitle"},$=["title"],z={class:"seg-block full-list"},B={class:"seg-subtitle"},O=["title"];var U={__name:"SentimentPanel",setup(e){const s=(0,n.W)(),t=(0,c.v)(),{t:U}=(0,i.s9)(),Z=(0,l.KR)("provinces"),H=(0,l.EW)((()=>{const e=s.revenueSources||{},t=(s,t)=>Number(e[s]?.[t]||0);return{revenueMix:{personalIncomeTax:t("personalIncomeTax","rate"),corporateIncomeTax:t("corporateIncomeTax","rate"),gst:t("gst","rate"),carbonPricing:t("carbonPricing","rate"),exciseTaxes:t("exciseTaxes","rate"),eiPremiums:t("eiPremiums","rate"),customsDuties:t("customsDuties","rate"),crownProfits:t("crownProfits","rate"),nonTaxRevenue:t("nonTaxRevenue","rate"),resourceRoyalties:t("resourceRoyalties","rate"),personalIncomeTaxAmount:t("personalIncomeTax","adjustedAmount"),corporateIncomeTaxAmount:t("corporateIncomeTax","adjustedAmount"),gstAmount:t("gst","adjustedAmount"),carbonPricingAmount:t("carbonPricing","adjustedAmount"),exciseTaxesAmount:t("exciseTaxes","adjustedAmount"),eiPremiumsAmount:t("eiPremiums","adjustedAmount"),customsDutiesAmount:t("customsDuties","adjustedAmount"),crownProfitsAmount:t("crownProfits","adjustedAmount"),nonTaxRevenueAmount:t("nonTaxRevenue","adjustedAmount"),resourceRoyaltiesAmount:t("resourceRoyalties","adjustedAmount")},fiscalIndicators:{deficit:Number(s.totalSpending||0)-Number(s.totalRevenue||0),surplus:Number(s.totalRevenue||0)-Number(s.totalSpending||0),debtToGdpRatio:100*q(s.fiscalIndicators?.debt,s.fiscalIndicators?.gdp)}}})),M=(0,l.EW)((()=>{const e=(0,r.aS)(H.value,s.badges||[],s.activePreset||null,t.sensitivity)||{};return{provinces:e.provinces||{},demographics:e.demographics||{},sectors:e.sectors||{},fiscalChaos:e.fiscalChaos||!1,activeTriggersByGroup:e.activeTriggersByGroup||null}}));function q(e,s){const t=Number(e||0),l=Number(s||0);return l?t/l:0}function J(e,s=3,t=!1){const l=Object.entries(e||{}).filter((([,e])=>"number"===typeof e));return l.sort(((e,s)=>t?e[1]-s[1]:s[1]-e[1])),l.slice(0,s)}function Q(e){const s=(0,r.HS)(Number(e)||0);return{"--chip-color":s,color:s,borderColor:s}}function V(e){const s=Number(e)-3,t=s>0?"+":"";return`${t}${s.toFixed(1)}`}function Y(e){const s=Number(e);return s>3.05?"delta-pos":s<2.95?"delta-neg":"delta-neutral"}function ee(e){return String(e||"").normalize("NFD").replace(/[\u0300-\u036f']/g,"").replace(/[^A-Za-z0-9]+/g," ").trim().split(" ").map(((e,s)=>{const t=e.toLowerCase();return 0===s?t:t.charAt(0).toUpperCase()+t.slice(1)})).join("")}function se(e){const s=String(e||""),t=s.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/\s+/g," ").trim();return t?t.split(" ").map((e=>e?e.charAt(0).toUpperCase()+e.slice(1):"")).join(" ").trim():""}function te(e,s){const t=ee(s),l=`simulator.sentiment.groups.${e}.${t}`,a=U(l);return a===l?se(s):a}function le(e,s,t){return U("simulator.sentiment.tooltips.score",{label:te(e,s),score:Number(t).toFixed(2),delta:V(t)})}function ae(e){return Object.entries(e||{}).filter((([,e])=>"number"===typeof e)).sort(((e,s)=>s[1]-e[1]))}return(e,s)=>((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",v,[(0,l.bF)(a.A)]),(0,l.Lk)("div",m,[(0,l.bF)(o["default"],{"external-tab":Z.value},null,8,["external-tab"])]),(0,l.Lk)("div",p,[(0,l.Lk)("button",{class:(0,l.C4)({active:"provinces"===Z.value}),onClick:s[0]||(s[0]=e=>Z.value="provinces")},(0,l.v_)((0,l.R1)(U)("simulator.sentiment.tabs.provinces")),3),(0,l.Lk)("button",{class:(0,l.C4)({active:"demographics"===Z.value}),onClick:s[1]||(s[1]=e=>Z.value="demographics")},(0,l.v_)((0,l.R1)(U)("simulator.sentiment.tabs.demographics")),3),(0,l.Lk)("button",{class:(0,l.C4)({active:"sectors"===Z.value}),onClick:s[2]||(s[2]=e=>Z.value="sectors")},(0,l.v_)((0,l.R1)(U)("simulator.sentiment.tabs.sectors")),3)]),(0,l.Lk)("div",d,[(0,l.bo)((0,l.Lk)("div",k,[(0,l.Lk)("h4",null,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.headers.regions")),1),(0,l.Lk)("div",g,[(0,l.Lk)("div",b,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.top")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.provinces,3,!1),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"p-top-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("provinces",e,s)},(0,l.v_)(s.toFixed(1)),13,L),(0,l.eW)(" "+(0,l.v_)(te("provinces",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",_,[(0,l.Lk)("div",C,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.bottom")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.provinces,3,!0),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"p-btm-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("provinces",e,s)},(0,l.v_)(s.toFixed(1)),13,h),(0,l.eW)(" "+(0,l.v_)(te("provinces",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",f,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.allRegions")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ae(M.value.provinces),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"p-all-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("provinces",e,s)},(0,l.v_)(s.toFixed(1)),13,T),(0,l.eW)(" "+(0,l.v_)(te("provinces",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])])],512),[[l.aG,"provinces"===Z.value]]),(0,l.bo)((0,l.Lk)("div",R,[(0,l.Lk)("h4",null,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.headers.demographics")),1),(0,l.Lk)("div",y,[(0,l.Lk)("div",A,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.top")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.demographics,3,!1),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"d-top-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("demographics",e,s)},(0,l.v_)(s.toFixed(1)),13,F),(0,l.eW)(" "+(0,l.v_)(te("demographics",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",E,[(0,l.Lk)("div",I,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.bottom")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.demographics,3,!0),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"d-btm-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("demographics",e,s)},(0,l.v_)(s.toFixed(1)),13,X),(0,l.eW)(" "+(0,l.v_)(te("demographics",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",j,[(0,l.Lk)("div",P,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.allDemographics")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ae(M.value.demographics),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"d-all-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("demographics",e,s)},(0,l.v_)(s.toFixed(1)),13,N),(0,l.eW)(" "+(0,l.v_)(te("demographics",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])])],512),[[l.aG,"demographics"===Z.value]]),(0,l.bo)((0,l.Lk)("div",W,[(0,l.Lk)("h4",null,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.headers.sectors")),1),(0,l.Lk)("div",K,[(0,l.Lk)("div",S,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.top")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.sectors,3,!1),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"s-top-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("sectors",e,s)},(0,l.v_)(s.toFixed(1)),13,w),(0,l.eW)(" "+(0,l.v_)(te("sectors",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",D,[(0,l.Lk)("div",G,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.bottom")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(J(M.value.sectors,3,!0),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"s-btm-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("sectors",e,s)},(0,l.v_)(s.toFixed(1)),13,$),(0,l.eW)(" "+(0,l.v_)(te("sectors",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])]),(0,l.Lk)("div",z,[(0,l.Lk)("div",B,(0,l.v_)((0,l.R1)(U)("simulator.sentiment.sections.allSectors")),1),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(ae(M.value.sectors),(([e,s])=>((0,l.uX)(),(0,l.CE)("li",{key:"s-all-"+e},[(0,l.Lk)("span",{class:"chip",style:(0,l.Tr)(Q(s)),title:le("sectors",e,s)},(0,l.v_)(s.toFixed(1)),13,O),(0,l.eW)(" "+(0,l.v_)(te("sectors",e))+" ",1),(0,l.Lk)("span",{class:(0,l.C4)(["delta",Y(s)])},(0,l.v_)(V(s)),3)])))),128))])])],512),[[l.aG,"sectors"===Z.value]])])]))}},Z=t(66262);const H=(0,Z.A)(U,[["__scopeId","data-v-59917407"]]);var M=H}}]);
//# sourceMappingURL=3087.5a857ec1.js.map