"use strict";(self["webpackChunkTaxCalculator"]=self["webpackChunkTaxCalculator"]||[]).push([[9345],{29766:function(e,t,n){n.d(t,{uL:function(){return o},zV:function(){return c},pE:function(){return a},oX:function(){return u}});n(44114);const i={provinces:{Alberta:{baselineScore:2.8,deficitSensitivity:.065307,debtRatioSensitivity:.074637},Saskatchewan:{baselineScore:2.9,deficitSensitivity:.018659,debtRatioSensitivity:.026656},Manitoba:{baselineScore:3,deficitSensitivity:.026123,debtRatioSensitivity:.055978},BritishColumbia:{baselineScore:2.9,deficitSensitivity:.12495,debtRatioSensitivity:.12495},Ontario:{baselineScore:3,deficitSensitivity:.035715,debtRatioSensitivity:.030613},Quebec:{baselineScore:3.2,deficitSensitivity:.0833,debtRatioSensitivity:.0833},NovaScotia:{baselineScore:3.8,deficitSensitivity:.04165,debtRatioSensitivity:.04165},NewBrunswick:{baselineScore:3.6,deficitSensitivity:.05831,debtRatioSensitivity:.020409},"Prince Edward Island":{baselineScore:3.7,deficitSensitivity:.04165,debtRatioSensitivity:.04165},"Newfoundland and Labrador":{baselineScore:3.5,deficitSensitivity:.0833,debtRatioSensitivity:.0833},Yukon:{baselineScore:3.4,deficitSensitivity:.04165,debtRatioSensitivity:.04165},"Northwest Territories":{baselineScore:3.5,deficitSensitivity:.04165,debtRatioSensitivity:.04165},Nunavut:{baselineScore:3.6,deficitSensitivity:.04165,debtRatioSensitivity:.04165}},demographics:{youth:{baselineScore:3.5,deficitSensitivity:.1715,debtRatioSensitivity:.196},seniors:{baselineScore:3,deficitSensitivity:.14406,debtRatioSensitivity:.12005},families:{baselineScore:3,deficitSensitivity:.21,debtRatioSensitivity:.21},workers:{baselineScore:2.9,deficitSensitivity:.28,debtRatioSensitivity:.21},students:{baselineScore:3.4,deficitSensitivity:.098,debtRatioSensitivity:.1029},urban:{baselineScore:3.2,deficitSensitivity:.14,debtRatioSensitivity:.14},rural:{baselineScore:2.4,deficitSensitivity:.35,debtRatioSensitivity:.28},indigenous:{baselineScore:3,deficitSensitivity:.07,debtRatioSensitivity:.07},techWorkers:{baselineScore:3.1,deficitSensitivity:.07203,debtRatioSensitivity:.04802},smallBusinessOwners:{baselineScore:2.2,deficitSensitivity:.42,debtRatioSensitivity:.35},newImmigrants:{baselineScore:3,deficitSensitivity:.14,debtRatioSensitivity:.14},unionizedWorkers:{baselineScore:3,deficitSensitivity:.21,debtRatioSensitivity:.21},renters:{baselineScore:2.9,deficitSensitivity:.14,debtRatioSensitivity:.14},veterans:{baselineScore:2.7,deficitSensitivity:.35,debtRatioSensitivity:.28},indigenousPeoples:{baselineScore:3.3,deficitSensitivity:.07,debtRatioSensitivity:.07}},sectors:{business:{baselineScore:2.5,deficitSensitivity:.343,debtRatioSensitivity:.294},manufacturing:{baselineScore:2.6,deficitSensitivity:.42,debtRatioSensitivity:.35},technology:{baselineScore:2.8,deficitSensitivity:.28,debtRatioSensitivity:.21},environment:{baselineScore:3.2,deficitSensitivity:.14,debtRatioSensitivity:.14},healthcare:{baselineScore:3,deficitSensitivity:.21,debtRatioSensitivity:.21},defense:{baselineScore:2.4,deficitSensitivity:.35,debtRatioSensitivity:.28},education:{baselineScore:3.1,deficitSensitivity:.21,debtRatioSensitivity:.21},energy:{baselineScore:2.3,deficitSensitivity:.42,debtRatioSensitivity:.35},publicSector:{baselineScore:3.3,deficitSensitivity:.14,debtRatioSensitivity:.14},tourism:{baselineScore:2.9,deficitSensitivity:.21,debtRatioSensitivity:.21},agriculture:{baselineScore:2.6,deficitSensitivity:.35,debtRatioSensitivity:.28},indigenous:{baselineScore:3.3,deficitSensitivity:.07,debtRatioSensitivity:.07},finance:{baselineScore:2.6,deficitSensitivity:.441,debtRatioSensitivity:.294},realEstate:{baselineScore:2.7,deficitSensitivity:.35,debtRatioSensitivity:.28},creativeIndustries:{baselineScore:3.2,deficitSensitivity:.2,debtRatioSensitivity:.2},veteransServices:{baselineScore:2.8,deficitSensitivity:.4,debtRatioSensitivity:.3}}},r=.1,s=1.8,a=1.2,o=2,c=3;function d(e,t){const n={};for(const[i,r]of Object.entries(e)){const e=t?.[i]||{};n[i]={...r,baselineScore:e.baselineScore??3,deficitSensitivity:e.deficitSensitivity??0,debtRatioSensitivity:e.debtRatioSensitivity??0}}return n}const u={updateIntervals:{quick:500,normal:1e3,detailed:2e3},impactThresholds:{low:.1,medium:.3,high:.5},demographicWeights:{age:.3,income:.3,region:.2,sector:.2},revenueWeights:{personalIncomeTax:.3,corporateIncomeTax:.2,gst:.15,otherTaxes:.35},spendingWeights:{healthcare:.25,education:.2,infrastructure:.15,socialServices:.2,other:.2},ageGroupFactors:{youth:{education:.4,socialServices:.3,healthcare:.2,other:.1},workingAge:{personalIncomeTax:.3,healthcare:.3,infrastructure:.2,other:.2},seniors:{healthcare:.4,socialServices:.4,other:.2}},incomeLevelFactors:{low:{gst:.4,socialServices:.4,other:.2},middle:{personalIncomeTax:.4,healthcare:.3,other:.3},high:{corporateIncomeTax:.4,personalIncomeTax:.3,other:.3}},colors:{positive:{light:"hsl(120, 70%, 75%)",medium:"hsl(120, 70%, 60%)",dark:"hsl(120, 70%, 45%)"},negative:{light:"hsl(0, 70%, 75%)",medium:"hsl(0, 70%, 60%)",dark:"hsl(0, 70%, 45%)"},neutral:{light:"hsl(200, 70%, 75%)",medium:"hsl(200, 70%, 60%)",dark:"hsl(200, 70%, 45%)"}},emojis:{veryPositive:"üòä",positive:"üôÇ",neutral:"üòê",negative:"üôÅ",veryNegative:"üò¢"},labels:{veryPositive:"Very Positive",positive:"Positive",neutral:"Neutral",negative:"Negative",veryNegative:"Very Negative"},provinces:d({Ontario:{weight:.38,triggers:{"revenueMix.corporateTax":{max:13*s,score:2},"budgetItems.economicDevelopment":{min:10*r,score:2},"budgetItems.infrastructure":{min:20*r,score:2},"budgetItems.healthcare":{min:90*r,score:1},"budgetItems.education":{min:22*r,score:1},"budgetItems.housing":{min:8*r,score:2},"budgetItems.childrenAndFamilies":{min:18*r,score:1},"budgetItems.deficit":{max:.04,score:-2},"budgetItems.environmentAndClimateChange":{min:7*r,score:1},"revenueMix.carbonPricing":{max:.9*s,score:1}}},Quebec:{weight:.23,triggers:{"budgetItems.childrenAndFamilies":{min:30*r,score:5},"budgetItems.healthcare":{min:95*r,score:2},"budgetItems.education":{min:24*r,score:2},"budgetItems.culturalPrograms":{min:4*r,score:4},"budgetItems.environmentAndClimateChange":{min:10*r,score:4},"revenueMix.carbonPricing":{min:1.2*r,score:3},"revenueMix.corporateTax":{min:15*r,score:2},"budgetItems.deficit":{max:.06,score:-1},"budgetItems.immigration":{min:5*r,score:2}}},BritishColumbia:{weight:.14,triggers:{"budgetItems.environmentAndClimateChange":{min:12*r,score:5},"revenueMix.carbonPricing":{min:1.4*r,score:4},"budgetItems.indigenousServices":{min:12*r,score:4},"budgetItems.housing":{min:10*r,score:4},"budgetItems.transit":{min:10*r,score:4},"budgetItems.economicDevelopment":{min:7*r,score:2},"budgetItems.deficit":{max:.05,score:-1},"budgetItems.naturalResources":{min:8*r,score:2}}},Alberta:{weight:.18,triggers:{"revenueMix.corporateTax":{max:12*s,score:3},"budgetItems.economicDevelopment":{min:10*r,score:3},"budgetItems.infrastructure":{min:15*r,score:2},"revenueMix.carbonPricing":[{max:.01,score:9},{max:.6*s,score:2},{min:2*r,score:-25}],"budgetItems.naturalResources":{min:10*r,score:2},"budgetItems.deficit":{max:.03,score:-3},"budgetItems.healthcare":{min:85*r,score:1},"budgetItems.education":{min:18*r,score:1},"budgetItems.agriculture":{min:8*r,score:2}}},Manitoba:{weight:.05,triggers:{"budgetItems.agriculture":{min:7*r,score:3},"budgetItems.infrastructure":{min:10*r,score:2},"budgetItems.indigenousServices":{min:10*r,score:2},"budgetItems.healthcare":{min:90*r,score:2},"budgetItems.education":{min:20*r,score:1},"budgetItems.deficit":{max:.05,score:-1},"budgetItems.housing":{min:7*r,score:1}}},Saskatchewan:{weight:.03,triggers:{"budgetItems.agriculture":{min:8*r,score:7},"budgetItems.economicDevelopment":{min:7*r,score:3},"budgetItems.infrastructure":{min:10*r,score:3},"revenueMix.carbonPricing":[{max:.05,score:3},{max:.6*s,score:2},{min:2*r,score:-5}],"budgetItems.deficit":{max:.03,score:-2},"revenueMix.corporateTax":{max:13*s,score:5},"budgetItems.healthcare":{min:90*r,score:1},"budgetItems.education":{min:17*r,score:1}}},NovaScotia:{weight:.03,triggers:{"budgetItems.healthcare":{min:110*r,score:4},"budgetItems.supportForSeniors":{min:80*r,score:4},"budgetItems.fisheries":{min:3*r,score:3},"budgetItems.infrastructure":{min:7*r,score:2},"budgetItems.deficit":{max:.06,score:-1},"budgetItems.housing":{min:6*r,score:1}}},NewBrunswick:{weight:.02,triggers:{"budgetItems.healthcare":{min:105*r,score:4},"budgetItems.supportForSeniors":{min:80*r,score:4},"budgetItems.fisheries":{min:2*r,score:3},"budgetItems.economicDevelopment":{min:6*r,score:2},"budgetItems.deficit":{max:.06,score:-1},"budgetItems.culturalPrograms":{min:2*r,score:1}}},Nunavut:{weight:.005,triggers:{"budgetItems.indigenousServices":{min:25*r,score:5},"budgetItems.infrastructure":{min:15*r,score:3},"budgetItems.housing":{min:10*r,score:3},"budgetItems.healthcare":{min:90*r,score:4},"budgetItems.education":{min:20*r,score:3},"budgetItems.defense":{min:20*r,score:2}}},"Prince Edward Island":{weight:.01,triggers:{"budgetItems.agriculture":{min:5*r,score:3},"budgetItems.fisheries":{min:2*r,score:3},"budgetItems.tourism":{min:2*r,score:2},"budgetItems.healthcare":{min:90*r,score:2},"budgetItems.deficit":{max:.07,score:-1},"budgetItems.infrastructure":{min:3*r,score:1}}},"Newfoundland and Labrador":{weight:.02,triggers:{"budgetItems.fisheries":{min:3*r,score:4},"budgetItems.infrastructure":{min:8*r,score:2},"budgetItems.healthcare":{min:100*r,score:3},"budgetItems.supportForSeniors":{min:75*r,score:2},"budgetItems.deficit":{max:.08,score:-1},"budgetItems.naturalResources":{min:8*r,score:3},"budgetItems.childrenAndFamilies":{min:7*r,score:1}}},"Northwest Territories":{weight:.005,triggers:{"budgetItems.indigenousServices":{min:18*r,score:4},"budgetItems.infrastructure":{min:12*r,score:3},"budgetItems.housing":{min:7*r,score:2},"budgetItems.healthcare":{min:80*r,score:3},"budgetItems.defense":{min:18*r,score:2},"budgetItems.naturalResources":{min:7*r,score:3}}},Yukon:{weight:.005,triggers:{"budgetItems.indigenousServices":{min:15*r,score:4},"budgetItems.infrastructure":{min:12*r,score:3},"budgetItems.healthcare":{min:85*r,score:3},"budgetItems.environmentAndClimateChange":{min:8*r,score:4},"budgetItems.tourism":{min:3*r,score:2},"budgetItems.naturalResources":{min:5*r,score:1}}}},i.provinces),demographics:d({youth:{weight:.15,triggers:{"budgetItems.education":{min:25*r,score:5},"budgetItems.skillsDevelopment":{min:8*r,score:4},"budgetItems.loansInvestments.studentLoans":{min:5*r,score:4},"budgetItems.environmentAndClimateChange":{min:12*r,score:4},"revenueMix.carbonPricing":{min:1.5*r,score:3},"budgetItems.housing":{min:15*r,score:5},"budgetItems.transit":{min:10*r,score:4},"budgetItems.digitalGovernment":{min:5*r,score:3},"budgetItems.cybersecurity":{min:4*r,score:3},"budgetItems.mentalHealth":{min:7*r,score:4},"revenueMix.wealthTax":{min:.5*r,score:3}}},seniors:{weight:.2,triggers:{"budgetItems.healthcare":{min:110*r,score:5},"budgetItems.supportForSeniors":{min:85*r,score:5},"budgetItems.mentalHealth":{min:10*r,score:3},"budgetItems.housing":{min:8*r,score:4},"budgetItems.transit":{min:8*r,score:3},"revenueMix.personalIncomeTaxCap":{max:20*s,score:4},"taxExpenditures.personalTaxCredits":{min:15*r,score:4},"budgetItems.socialServices.elderAbuse":{min:2*r,score:3},"budgetItems.deficit":{max:.04,score:-2}}},families:{weight:.25,triggers:{"budgetItems.childrenAndFamilies":{min:30*r,score:5},"budgetItems.childcare":{min:15*r,score:5},"budgetItems.healthcare":{min:105*r,score:4},"budgetItems.education":{min:25*r,score:4},"budgetItems.housing":{min:10*r,score:5},"budgetItems.transit":{min:7*r,score:3},"taxExpenditures.personalTaxCreditsIncrease":{min:10*r,score:4}}},workers:{weight:.25,triggers:{"budgetItems.economicDevelopment":{min:8*r,score:4},"budgetItems.infrastructure":{min:15*r,score:4},"revenueMix.personalIncomeTaxCap":{max:20*s,score:4},"revenueMix.eiPremiums":[{max:1.3*s,score:4},{min:2*r,score:-4}],"budgetItems.skillsDevelopment":{min:7*r,score:4},"budgetItems.scienceAndInnovation":{min:6*r,score:3},"budgetItems.transit":{min:8*r,score:3},"budgetItems.housing":{min:8*r,score:4}}},students:{weight:.1,triggers:{"budgetItems.education":{min:30*r,score:5},"budgetItems.scienceAndInnovation":{min:8*r,score:4},"budgetItems.loansInvestments.studentLoans":{min:5*r,score:5},"taxExpenditures.studentTaxCredits":{min:15*r,score:5},"budgetItems.housing":{min:8*r,score:5},"budgetItems.transit":{min:8*r,score:4},"budgetItems.digitalGovernment":{min:5*r,score:3},"budgetItems.mentalHealth":{min:6*r,score:4}}},urban:{weight:.65,triggers:{"budgetItems.transit":{min:12*r,score:5},"budgetItems.infrastructure":{min:15*r,score:4},"budgetItems.housing":{min:12*r,score:5},"budgetItems.immigration":{min:6*r,score:3},"budgetItems.environmentAndClimateChange":{min:10*r,score:4},"revenueMix.carbonPricing":{min:1.2*r,score:3},"budgetItems.digitalGovernment":{min:5*r,score:4},"budgetItems.publicSafety":{min:10*r,score:3}}},rural:{weight:.35,triggers:{"budgetItems.agriculture":{min:8*r,score:5},"budgetItems.naturalResources":{min:7*r,score:4},"budgetItems.infrastructure":{min:15*r,score:5},"budgetItems.digitalGovernment":{min:6*r,score:5},"revenueMix.carbonPricing":[{max:.7*s,score:4},{max:.01,score:2}],"budgetItems.healthcare":{min:100*r,score:5},"budgetItems.economicDevelopment":{min:8*r,score:4}}},indigenousPeoples:{weight:.05,triggers:{"budgetItems.indigenousServices":{min:18*r,score:5},"budgetItems.indigenousOperations":{min:12*r,score:5},"budgetItems.housing":{min:10*r,score:5},"budgetItems.infrastructure":{min:12*r,score:4},"budgetItems.healthcare":{min:100*r,score:5},"budgetItems.education":{min:25*r,score:5},"budgetItems.environmentAndClimateChange":{min:10*r,score:4},"budgetItems.economicDevelopment":{min:8*r,score:4}}},techWorkers:{weight:.08,triggers:{"budgetItems.scienceAndInnovation":{min:10*r,score:5},"budgetItems.digitalGovernment":{min:6*r,score:4},"budgetItems.skillsDevelopment":{min:8*r,score:4},"budgetItems.education":{min:15*r,score:3},"revenueMix.corporateTax":{max:15*s,score:4},"taxExpenditures.corporateTaxExpenditures.adjustmentPercent":{min:12*r,score:4},"budgetItems.cybersecurity":{min:5*r,score:5},"budgetItems.housing":{min:12*r,score:5},"budgetItems.immigration":{min:5*r,score:4}}},smallBusinessOwners:{weight:.1,triggers:{"revenueMix.corporateTax":{max:12*s,score:5},"taxExpenditures.corporateTaxExpenditures.adjustmentPercent":{min:15*r,score:5},"revenueMix.eiPremiums":[{max:1.2*s,score:4},{min:1.8*r,score:-3}],"budgetItems.economicDevelopment":{min:8*r,score:5},"budgetItems.digitalGovernment":{min:5*r,score:4},"budgetItems.infrastructure":{min:10*r,score:4},"budgetItems.loansInvestments.businessLoans":{min:5*r,score:5}}},newImmigrants:{weight:.07,triggers:{"budgetItems.immigration":{min:6*r,score:5},"budgetItems.skillsDevelopment":{min:8*r,score:5},"budgetItems.housing":{min:12*r,score:5},"budgetItems.healthcare":{min:95*r,score:5},"budgetItems.childrenAndFamilies":{min:25*r,score:4},"budgetItems.education":{min:20*r,score:4},"budgetItems.economicDevelopment":{min:6*r,score:4},"budgetItems.publicSafety":{min:8*r,score:3}}},unionizedWorkers:{weight:.12,triggers:{"budgetItems.laborPrograms":{min:5*r,score:5},"budgetItems.publicSafety":{min:12*r,score:4},"budgetItems.infrastructure":{min:18*r,score:5},"budgetItems.manufacturing":{min:10*r,score:5},"revenueMix.corporateTax":{min:16*r,score:4},"revenueMix.wealthTax":{min:.5*r,score:3},"budgetItems.skillsDevelopment":{min:7*r,score:4},"revenueMix.eiPremiums":[{max:1.3*s,score:3},{min:1.8*r,score:-3}]}},renters:{weight:.15,triggers:{"budgetItems.housing":{min:15*r,score:5},"taxExpenditures.renterTaxCredits.adjustmentPercent":{min:12*r,score:5},"budgetItems.infrastructure":{min:12*r,score:4},"budgetItems.transit":{min:10*r,score:5},"revenueMix.wealthTax":{min:.6*r,score:4},"budgetItems.childrenAndFamilies":{min:22*r,score:4},"budgetItems.publicSafety":{min:6*r,score:3},"budgetItems.economicDevelopment":{min:6*r,score:3}}},veterans:{weight:.05,triggers:{"budgetItems.veteransAffairs":{min:8*r,score:5},"budgetItems.mentalHealth":{min:6*r,score:5},"budgetItems.healthcare":{min:100*r,score:5},"budgetItems.housing":{min:8*r,score:4},"budgetItems.supportForSeniors":{min:70*r,score:4},"budgetItems.defense":{min:25*r,score:4},"budgetItems.skillsDevelopment":{min:6*r,score:4},"taxExpenditures.personalTaxCredits":{min:10*r,score:4}}}},i.demographics),sectors:d({business:{weight:.3,triggers:{"revenueMix.corporateTax":[{max:13*s,score:5},{min:20*r,score:-4}],"budgetItems.economicDevelopment":{min:8*r,score:4},"budgetItems.digitalGovernment":{min:5*r,score:4},"budgetItems.infrastructure":{min:12*r,score:4},"budgetItems.skillsDevelopment":{min:7*r,score:3},"budgetItems.deficit":{max:.04,score:-3},"budgetItems.trade":{min:6*r,score:4},"budgetItems.internationalAssistance":{min:5*r,score:3}}},environment:{weight:.15,triggers:{"budgetItems.environmentAndClimateChange":{min:15*r,score:5},"revenueMix.carbonPricing":[{min:1.5*r,score:5},{max:.01,score:-5}],"budgetItems.transit":{min:12*r,score:4},"budgetItems.infrastructure":{min:12*r,score:4},"budgetItems.scienceAndInnovation":{min:8*r,score:4},"budgetItems.naturalResources":{min:8*r,score:3},"budgetItems.indigenousServices":{min:10*r,score:4},"budgetItems.publicSafety":{min:6*r,score:3}}},healthcare:{weight:.2,triggers:{"budgetItems.healthcare":[{min:110*r,score:5},{min:90*r,score:3},{max:70*s,score:-4}],"budgetItems.scienceAndInnovation":[{min:8*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"taxExpenditures.healthTaxCredits":[{min:12*r,score:4},{min:8*r,score:2},{max:4*s,score:-2}],"budgetItems.supportForSeniors":[{min:80*r,score:4},{min:60*r,score:2},{max:40*s,score:-3}],"budgetItems.childrenAndFamilies":[{min:25*r,score:4},{min:20*r,score:2},{max:15*s,score:-2}],"budgetItems.digitalGovernment":[{min:6*r,score:4},{min:4*r,score:2},{max:2*s,score:-2}]}},defense:{weight:.1,triggers:{"budgetItems.defense":{min:30*r,score:5},"budgetItems.cybersecurity":{min:4*r,score:5},"budgetItems.publicSafety":{min:15*r,score:4},"budgetItems.borderSecurity":{min:10*r,score:5},"budgetItems.diplomaticRepresentation":{min:8*r,score:4},"budgetItems.internationalDevelopment":{min:7*r,score:3},"budgetItems.veteransAffairs":{min:8*r,score:4},"budgetItems.mentalHealth":{min:6*r,score:4}}},education:{weight:.1,triggers:{"budgetItems.education":[{min:30*r,score:5},{min:25*r,score:3},{max:20*s,score:-3}],"budgetItems.skillsDevelopment":[{min:7*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"budgetItems.childrenAndFamilies":[{min:25*r,score:4},{min:20*r,score:2},{max:15*s,score:-2}],"budgetItems.scienceAndInnovation":[{min:8*r,score:4},{min:6*r,score:2},{max:4*s,score:-2}],"budgetItems.digitalGovernment":[{min:6*r,score:4},{min:4*r,score:2},{max:2*s,score:-2}],"budgetItems.loansInvestments.studentLoans":[{min:5*r,score:5},{min:3*r,score:3},{max:1*s,score:-3}]}},energy:{weight:.1,triggers:{"budgetItems.environmentAndClimateChange":[{min:10*r,score:5},{min:7*r,score:3},{max:4*s,score:-3}],"budgetItems.economicDevelopment":[{min:10*r,score:4},{min:7*r,score:2},{max:4*s,score:-2}],"revenueMix.carbonPricing":[{max:.5*s,score:5},{max:.8*s,score:2},{min:1.2*r,score:-4}],"budgetItems.scienceAndInnovation":[{min:9*r,score:5},{min:6*r,score:3},{max:4*s,score:-2}],"budgetItems.infrastructure":[{min:15*r,score:5},{min:10*r,score:3},{max:7*s,score:-3}],"revenueMix.corporateTax":[{max:13*s,score:4},{max:15*s,score:2},{min:17*r,score:-3}]}},tourism:{weight:.05,triggers:{"budgetItems.tourism":{min:3*r,score:5},"budgetItems.culturalPrograms":{min:4*r,score:5},"budgetItems.infrastructure":{min:10*r,score:4},"budgetItems.transit":{min:8*r,score:4},"budgetItems.environmentAndClimateChange":{min:6*r,score:4},"budgetItems.naturalResources":{min:5*r,score:3},"budgetItems.indigenousServices":{min:8*r,score:4},"budgetItems.digitalGovernment":{min:4*r,score:3}}},agriculture:{weight:.1,triggers:{"budgetItems.agriculture":[{min:10*r,score:5},{min:7*r,score:3},{max:4*s,score:-3}],"revenueMix.carbonPricing":[{max:.5*s,score:5},{max:.8*s,score:2},{min:1.2*r,score:-4}],"budgetItems.infrastructure":[{min:12*r,score:5},{min:8*r,score:3},{max:5*s,score:-3}],"budgetItems.environmentAndClimateChange":[{min:8*r,score:4},{min:5*r,score:2},{max:3*s,score:-2}],"budgetItems.scienceAndInnovation":[{min:7*r,score:4},{min:5*r,score:2},{max:3*s,score:-2}],"budgetItems.internationalAssistance":[{min:6*r,score:4},{min:4*r,score:2},{max:2*s,score:-2}]}},indigenous:{weight:.07,triggers:{"budgetItems.indigenousServices":{min:12*r,score:5},"budgetItems.indigenousOperations":{min:8*r,score:5},"budgetItems.healthcare":{min:100*r,score:5},"budgetItems.education":{min:25*r,score:5},"budgetItems.housing":{min:8*r,score:5},"budgetItems.infrastructure":{min:10*r,score:4},"budgetItems.environmentAndClimateChange":{min:10*r,score:4},"budgetItems.naturalResources":{min:7*r,score:4},"budgetItems.economicDevelopment":{min:8*r,score:4},"budgetItems.skillsDevelopment":{min:6*r,score:4}}},technology:{weight:.1,triggers:{"budgetItems.scienceAndInnovation":[{min:8*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"budgetItems.digitalGovernment":[{min:6*r,score:5},{min:4*r,score:3},{max:2*s,score:-3}],"taxExpenditures.corporateTaxExpenditures.adjustmentPercent":[{min:15*r,score:5},{min:10*r,score:3},{max:5*s,score:-2}],"budgetItems.skillsDevelopment":[{min:8*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"budgetItems.cybersecurity":[{min:5*r,score:5},{min:3*r,score:3},{max:1*s,score:-4}],"revenueMix.corporateTax":[{max:13*s,score:5},{max:15*s,score:3},{min:18*r,score:-3}],"budgetItems.immigration":[{min:6*r,score:4},{min:4*r,score:2},{max:2*s,score:-2}]}},finance:{weight:.12,triggers:{"revenueMix.corporateTax":[{max:13*s,score:5},{min:20*r,score:-4}],"budgetItems.economicDevelopment":{min:8*r,score:4},"budgetItems.digitalGovernment":{min:6*r,score:4},"budgetItems.cybersecurity":{min:6*r,score:5},"budgetItems.internationalAssistance":{min:6*r,score:4},"budgetItems.trade":{min:5*r,score:4},"taxExpenditures.corporateTaxExpenditures.adjustmentPercent":{min:12*r,score:5},"budgetItems.deficit":{max:.03,score:-3},"budgetItems.infrastructure":{min:10*r,score:3}}},realEstate:{weight:.1,triggers:{"budgetItems.housing":[{min:15*r,score:5},{max:5*r,score:-3}],"budgetItems.infrastructure":{min:15*r,score:5},"budgetItems.transit":{min:10*r,score:4},"revenueMix.corporateTax":{max:14*s,score:4},"taxExpenditures.homeownerTaxCredits":{min:12*r,score:4},"budgetItems.economicDevelopment":{min:8*r,score:4},"budgetItems.digitalGovernment":{min:5*r,score:3},"budgetItems.environmentAndClimateChange":{min:6*r,score:3},"budgetItems.publicSafety":{min:8*r,score:3}}},creativeIndustries:{weight:.05,triggers:{"budgetItems.culturalPrograms":[{min:8*r,score:5},{min:5*r,score:3},{max:3*s,score:-3}],"budgetItems.tourism":[{min:5*r,score:5},{min:3*r,score:3},{max:2*s,score:-2}],"budgetItems.digitalGovernment":[{min:6*r,score:4},{min:4*r,score:2},{max:2*s,score:-2}],"budgetItems.skillsDevelopment":[{min:7*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"taxExpenditures.corporateTaxExpenditures.adjustmentPercent":[{min:15*r,score:5},{min:10*r,score:3},{max:5*s,score:-2}],"budgetItems.indigenousServices":[{min:7*r,score:4},{min:5*r,score:2},{max:3*s,score:-2}],"budgetItems.education":[{min:25*r,score:4},{min:20*r,score:2},{max:15*s,score:-2}]}},manufacturing:{weight:.15,triggers:{"revenueMix.corporateTax":[{max:12*s,score:5},{max:14*s,score:3},{min:16*r,score:-3}],"budgetItems.economicDevelopment":[{min:12*r,score:5},{min:8*r,score:3},{max:5*s,score:-2}],"budgetItems.infrastructure":[{min:15*r,score:5},{min:10*r,score:3},{max:7*s,score:-3}],"revenueMix.carbonPricing":[{max:.5*s,score:5},{max:.8*s,score:2},{min:1.2*r,score:-4}],"budgetItems.scienceAndInnovation":[{min:9*r,score:5},{min:6*r,score:3},{max:4*s,score:-2}],"budgetItems.skillsDevelopment":[{min:7*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"budgetItems.trade":[{min:8*r,score:4},{min:5*r,score:2},{max:3*s,score:-2}]}},veteransServices:{weight:.05,triggers:{"budgetItems.veteransAffairs":{min:8*r,score:5},"budgetItems.healthcare":{min:100*r,score:5},"budgetItems.supportForSeniors":{min:70*r,score:4},"budgetItems.housing":{min:8*r,score:5},"budgetItems.mentalHealth":{min:6*r,score:5},"budgetItems.skillsDevelopment":{min:5*r,score:4},"budgetItems.economicDevelopment":{min:6*r,score:4},"taxExpenditures.personalTaxCredits":{min:10*r,score:4},"budgetItems.culturalPrograms":{min:4*r,score:3}}},publicSector:{weight:.1,triggers:{"budgetItems.publicAdministration":[{min:15*r,score:5},{min:10*r,score:3},{max:7*s,score:-3}],"budgetItems.digitalGovernment":[{min:8*r,score:5},{min:5*r,score:3},{max:3*s,score:-3}],"revenueMix.personalIncomeTaxRevenue":[{min:20*r,score:5},{min:15*r,score:3},{max:10*s,score:-3}],"budgetItems.skillsDevelopment":[{min:7*r,score:5},{min:5*r,score:3},{max:3*s,score:-2}],"budgetItems.cybersecurity":[{min:5*r,score:5},{min:3*r,score:3},{max:1*s,score:-4}],"budgetItems.mentalHealth":[{min:8*r,score:4},{min:5*r,score:2},{max:3*s,score:-2}],"budgetItems.deficit":[{max:.02,score:4},{max:.04,score:2},{min:.06,score:-3}]}}},i.sectors)}},12964:function(e,t,n){n.r(t),n.d(t,{PRECEDENCE_LEVELS:function(){return r},SENTIMENT_PRECEDENCE_RULES:function(){return a},TRIGGER_PATHS:function(){return s},explainPrecedence:function(){return m},getHighestPrecedenceLevel:function(){return u},getPrecedenceLevel:function(){return o},getPrecedenceOverride:function(){return l},hasAbsolutePrecedence:function(){return d},hasPrecedenceOverBadges:function(){return c}});const i=!0,r={NORMAL:0,HIGH:10,ABSOLUTE:20},s={CARBON_PRICING:"revenueMix.carbonPricing",CARBON_PRICING_HIGH:"revenueMix.carbonPricing.high"},a={[s.CARBON_PRICING_HIGH]:{level:r.ABSOLUTE,appliesTo:{provinces:["Alberta","Saskatchewan"]},minValue:.4,description:"High carbon tax rates have an absolute negative effect in Alberta and Saskatchewan"},[s.CARBON_PRICING]:{level:r.ABSOLUTE,appliesTo:{provinces:["Alberta","Saskatchewan"]},description:"Carbon pricing has an absolute negative effect in Alberta and Saskatchewan"},"revenueMix.carbonTax.high":{level:r.ABSOLUTE,appliesTo:{provinces:["Alberta","Saskatchewan"]},description:"[LEGACY] High carbon tax rates have an absolute negative effect in Alberta and Saskatchewan"},"revenueMix.carbonTax":{level:r.ABSOLUTE,appliesTo:{provinces:["Saskatchewan","Alberta"]},description:"[LEGACY] Carbon tax has an absolute negative effect in Saskatchewan and Alberta"}};function o(e,t,n){i&&console.log(`Evaluating trigger "${e}" for ${t} (${n})...`);const s=a[e];if(!s)return i&&console.log(`  No special rule found for "${e}". Defaulting to normal precedence.`),r.NORMAL;if(s.appliesTo?.[n]?.includes(t)){if(i){const n=Object.keys(r).find((e=>r[e]===s.level));console.log(`  Trigger "${e}" has ${n} precedence for ${t}.`)}return s.level}return i&&console.log(`  Trigger "${e}" does not apply to ${t}. Defaulting to normal precedence.`),r.NORMAL}function c(e,t,n){const i=o(e,t,n);return i>=r.HIGH}function d(e,t,n){return e.some((e=>o(e,t,n)===r.ABSOLUTE))}function u(e,t,n){let i=r.NORMAL;for(const r of e){const e=o(r,t,n);i=Math.max(i,e)}return i}function m(e,t,n){const i=a[e];if(!i)return`"${e}" has normal precedence (no special rules).`;if(!i.appliesTo?.[n]?.includes(t))return`"${e}" has normal precedence for ${t} (rule doesn't apply).`;const s=Object.keys(r).find((e=>r[e]===i.level));return`"${e}" has ${s} precedence for ${t}: ${i.description}`}const l=(e,t,n,r)=>{const s=Object.entries(a).filter((([i,s])=>!!(s.appliesTo&&s.appliesTo[n]&&s.appliesTo[n].includes(t))&&(i===e||(!!e.startsWith(i+".")||!(!i.startsWith(e+".")||!(void 0!==s.minValue&&r>=s.minValue||void 0!==s.maxValue&&r<=s.maxValue)))))).map((([e,t])=>({path:e,...t})));if(0===s.length)return null;s.sort(((e,t)=>t.level-e.level));const o=s[0];return i&&console.log(`[PRECEDENCE] ‚ö° Applying override rule for ${o.path} to ${t} with level ${o.level}`),o}},72259:function(e,t,n){n.d(t,{A:function(){return L}});n(44114);var i=n(6934),r=n(29766);const s={class:"sentiment-group-selector"},a=["value"],o=["value"],c=["value"],d=["value"],u=["value"],m=["value"];var l={__name:"SentimentGroupSelector",props:{provinces:{type:Array,default:()=>[]},sectors:{type:Array,default:()=>[]},demographics:{type:Array,default:()=>[]}},emits:["update"],setup(e,{emit:t}){const n=t,l=Object.keys(r.oX.provinces),g=Object.keys(r.oX.sectors),p=Object.keys(r.oX.demographics);function v(e){const t=e.target.value?[e.target.value]:[];n("update",{provinces:t,sectors:[],demographics:[]})}function b(e){const t=e.target.value?[e.target.value]:[];n("update",{provinces:[],sectors:t,demographics:[]})}function y(e){const t=e.target.value?[e.target.value]:[];n("update",{provinces:[],sectors:[],demographics:t})}return(t,n)=>((0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("label",null,[n[4]||(n[4]=(0,i.eW)(" Province(s): ")),(0,i.Lk)("select",{value:e.provinces[0]||"",onChange:n[0]||(n[0]=e=>v(e))},[n[3]||(n[3]=(0,i.Lk)("option",{value:""},"-- None --",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,i.R1)(l),(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,i.v_)(e),9,o)))),128))],40,a)]),(0,i.Lk)("label",null,[n[6]||(n[6]=(0,i.eW)(" Sector(s): ")),(0,i.Lk)("select",{value:e.sectors[0]||"",onChange:n[1]||(n[1]=e=>b(e))},[n[5]||(n[5]=(0,i.Lk)("option",{value:""},"-- None --",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,i.R1)(g),(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,i.v_)(e),9,d)))),128))],40,c)]),(0,i.Lk)("label",null,[n[8]||(n[8]=(0,i.eW)(" Demographic(s): ")),(0,i.Lk)("select",{value:e.demographics[0]||"",onChange:n[2]||(n[2]=e=>y(e))},[n[7]||(n[7]=(0,i.Lk)("option",{value:""},"-- None --",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,i.R1)(p),(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,i.v_)(e),9,m)))),128))],40,u)])]))}},g=n(66262);const p=(0,g.A)(l,[["__scopeId","data-v-01ebbcc0"]]);var v=p,b=n(94621),y=n(62948);const h=["aria-label"],f={class:"pill-content"},I=["aria-label"],S={key:1},x={class:"score-label"},C={key:0,class:"fiscal-warning-text"},E={key:0},k={key:1},T={class:"label"},w={key:0,class:"hint"},N={key:2,class:"collapsed-indicator"},R={key:0,class:"selection-summary"};var D={__name:"CollapsibleSentimentBanner",props:{emoji:{type:String,default:"üòä"},score:{type:[Number,String],default:3},label:{type:String,default:"Neutral"},selectedGroups:{type:Object,default:()=>({provinces:[],sectors:[],demographics:[]})},fiscalChaos:{type:Boolean,default:!1}},emits:["update:selectedGroups"],setup(e,{emit:t}){const{t:n}=(0,y.s9)(),r=(0,b.W)(),s=e,a=t,o=(0,i.KR)(!1),c=(0,i.KR)(!1),d=(0,i.KR)(Number(s.score)),u=(0,i.KR)(0),m=(0,i.KR)(!1);let l=null;function g(e,t){const n=500,i=30,r=Math.round(n/(1e3/i));let s=e,a=0;const o=(t-e)/r;function c(){a++,s+=o,o>0&&s>=t||o<0&&s<=t||a>=r?d.value=t:(d.value=s,requestAnimationFrame(c))}c()}(0,i.wB)((()=>Number(s.score)),((e,t)=>{isNaN(e)||(g(t,e),u.value=+(e-t).toFixed(1),0!==u.value&&(m.value=!0,D(u.value>0?"up":"down"),l&&clearTimeout(l),l=setTimeout((()=>{m.value=!1}),1500)))}));const p=(0,i.KR)("");function D(e){p.value="warning"===e?"banner-pulse-warning":"up"===e?"banner-pulse-up":"banner-pulse-down",setTimeout((()=>{p.value=""}),600)}const A=()=>{o.value=!o.value},L=(0,i.EW)((()=>s.selectedGroups)),M=(0,i.EW)((()=>{const e=r.revenueSources;return!!e&&(e.personalIncomeTax?.adjustedAmount>315||e.personalIncomeTax?.adjustedAmount<90?(console.log("[FiscalChaos] Direct detection: Personal Income Tax out of bounds",e.personalIncomeTax?.adjustedAmount),!0):e.corporateIncomeTax?.adjustedAmount>135||e.corporateIncomeTax?.adjustedAmount<36?(console.log("[FiscalChaos] Direct detection: Corporate Income Tax out of bounds",e.corporateIncomeTax?.adjustedAmount),!0):e.gst?.adjustedAmount>90||e.gst?.adjustedAmount<27?(console.log("[FiscalChaos] Direct detection: GST out of bounds",e.gst?.adjustedAmount),!0):(console.log("[FiscalChaos] Direct detection: No fiscal chaos detected"),!1))}));function P(){c.value||!o.value?(c.value=!1,o.value=!0):(c.value=!0,o.value=!1)}function H(e){a("update:selectedGroups",e)}(0,i.wB)(M,((e,t)=>{e&&!t&&console.log("[FiscalChaos] Initial detection, ensuring visibility")})),(0,i.wB)(M,(e=>{console.log(`[FiscalChaos] Direct detection state: ${e}`),e&&(o.value=!0,D("warning"),console.log("[FiscalChaos] Warning banner expanded due to direct fiscal chaos detection"),(0,i.dY)((()=>{console.log("[FiscalChaos] DOM updated after nextTick")})))}),{immediate:!0}),(0,i.wB)((()=>s.fiscalChaos),(e=>{console.log(`[FiscalChaos] Banner received fiscal chaos state from props: ${e}`),!0===e&&(o.value=!0,D("warning"))}),{immediate:!0});const F=(0,i.EW)((()=>{const e=s.selectedGroups.provinces,t=s.selectedGroups.sectors,n=s.selectedGroups.demographics;let i=[];return e.length&&i.push(`Provinces: ${e.join(", ")}`),t.length&&i.push(`Sectors: ${t.join(", ")}`),n.length&&i.push(`Demographics: ${n.join(", ")}`),i.length?i.join(" | "):""}));return(t,r)=>((0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)(["sentiment-banner",p.value,{expanded:o.value&&!c.value,collapsed:c.value,"fiscal-warning":M.value}]),tabindex:"0",onKeyup:(0,i.jR)(A,["enter"]),onClick:P,role:"button","aria-label":(0,i.R1)(n)("sentiment.showPublicSentimentDetails","Show public sentiment details")},[(0,i.Lk)("span",f,[M.value?((0,i.uX)(),(0,i.CE)("span",{key:0,class:"emoji","aria-label":e.label},"üö®",8,I)):(0,i.Q3)("",!0),c.value?((0,i.uX)(),(0,i.CE)("span",N,"Show")):((0,i.uX)(),(0,i.CE)("span",S,[(0,i.Lk)("span",x,[M.value?((0,i.uX)(),(0,i.CE)("span",C,(0,i.v_)((0,i.R1)(n)("sentiment.fiscalChaosWarning","FISCAL CHAOS WARNING!")),1)):(0,i.Q3)("",!0),(0,i.bF)(i.eB,{name:"score-fade",mode:"out-in"},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.CE)("span",{class:"score",key:d.value},(0,i.v_)(d.value.toFixed(1)),1))])),_:1}),(0,i.bF)(i.eB,{name:"delta-fade"},{default:(0,i.k6)((()=>[m.value?((0,i.uX)(),(0,i.CE)("span",{class:(0,i.C4)(["score-delta",u.value>0?"delta-up":"delta-down"]),key:u.value},[u.value>0?((0,i.uX)(),(0,i.CE)("span",E,"‚ñ≤ +"+(0,i.v_)(u.value.toFixed(1)),1)):u.value<0?((0,i.uX)(),(0,i.CE)("span",k,"‚ñº "+(0,i.v_)(u.value.toFixed(1)),1)):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0)])),_:1}),(0,i.Lk)("span",T,(0,i.v_)(e.label),1)]),o.value?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("span",w,"Click to personalize"))]))]),(0,i.bF)(i.eB,{name:"fade-expand"},{default:(0,i.k6)((()=>[o.value&&!c.value?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"expanded-content",onClick:r[0]||(r[0]=(0,i.D$)((()=>{}),["stop"]))},[(0,i.bF)(v,{provinces:L.value.provinces,sectors:L.value.sectors,demographics:L.value.demographics,onUpdate:H,style:{"margin-top":"0.7em"}},null,8,["provinces","sectors","demographics"]),F.value?((0,i.uX)(),(0,i.CE)("span",R,(0,i.v_)(F.value),1)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)])),_:1})],42,h))}};const A=(0,g.A)(D,[["__scopeId","data-v-296c4fca"]]);var L=A},57028:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});n(44114);var i=n(6934),r=n(94621),s=n(16166),a=n(60029),o=n(62948),c=n(9516),d=n(47154);const u={provinces:{Ontario:{factors:[{category:"revenue",name:"Corporate Tax",description:"Economic competitiveness and business climate"},{category:"spending",name:"Economic Development",description:"Support for innovation hubs and job creation"},{category:"spending",name:"Infrastructure",description:"Transit, highways, and broadband development"},{category:"spending",name:"Children and Families",description:"Child and family benefits"},{category:"spending",name:"Healthcare",description:"Healthcare funding and services"}]},Quebec:{factors:[{category:"spending",name:"Children and Families",description:"Universal childcare and family benefits"},{category:"spending",name:"Healthcare",description:"Public healthcare and French-language services"},{category:"spending",name:"Education",description:"Post-secondary and CEGEP funding"},{category:"spending",name:"Cultural Programs",description:"Arts, heritage, and French-language media"},{category:"spending",name:"Environment and Climate Change",description:"Climate action and environmental protection"},{category:"revenue",name:"Carbon Pricing",description:"Carbon pricing and environmental policy"},{category:"revenue",name:"Corporate Tax",description:"Tax policy and business environment"},{category:"spending",name:"Immigration",description:"French-language integration and immigrant support"}]},BritishColumbia:{factors:[{category:"spending",name:"Environment and Climate Change",description:"Environmental protection and climate action"},{category:"spending",name:"Housing",description:"Housing affordability and development"},{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Infrastructure",description:"Transit and urban development"},{category:"revenue",name:"Carbon Pricing",description:"Carbon pricing and environmental policy"}]},Alberta:{factors:[{category:"revenue",name:"Corporate Tax",description:"Business competitiveness and investment"},{category:"spending",name:"Economic Development",description:"Energy sector and economic growth"},{category:"spending",name:"Infrastructure",description:"Highways and resource infrastructure"},{category:"revenue",name:"Carbon Pricing",description:"Carbon tax and energy policy"},{category:"spending",name:"Natural Resources",description:"Energy and resource development"}]},Manitoba:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Indigenous Services",description:"Indigenous community support"},{category:"spending",name:"Agriculture",description:"Agricultural support and development"},{category:"spending",name:"Infrastructure",description:"Rural infrastructure development"}]},Saskatchewan:{factors:[{category:"spending",name:"Agriculture",description:"Agricultural support and development"},{category:"spending",name:"Natural Resources",description:"Resource sector development"},{category:"spending",name:"Infrastructure",description:"Rural infrastructure development"},{category:"revenue",name:"Carbon Pricing",description:"Energy and resource policy"}]},NovaScotia:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Economic Development",description:"Maritime economy support"},{category:"spending",name:"Infrastructure",description:"Port and coastal infrastructure"},{category:"spending",name:"Environment and Climate Change",description:"Coastal protection"}]},NewBrunswick:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Economic Development",description:"Maritime economy support"},{category:"spending",name:"Infrastructure",description:"Port and coastal infrastructure"},{category:"spending",name:"Education",description:"Bilingual education support"}]},NewfoundlandandLabrador:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Economic Development",description:"Maritime economy support"},{category:"spending",name:"Natural Resources",description:"Offshore resource development"},{category:"spending",name:"Infrastructure",description:"Port and coastal infrastructure"}]},PrinceEdwardIsland:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Economic Development",description:"Maritime economy support"},{category:"spending",name:"Agriculture",description:"Agricultural support"},{category:"spending",name:"Infrastructure",description:"Island infrastructure development"}]},Yukon:{factors:[{category:"spending",name:"Indigenous Services",description:"Indigenous community support"},{category:"spending",name:"Natural Resources",description:"Resource development"},{category:"spending",name:"Infrastructure",description:"Northern infrastructure development"},{category:"spending",name:"Environment and Climate Change",description:"Northern climate action"}]},NorthwestTerritories:{factors:[{category:"spending",name:"Indigenous Services",description:"Indigenous community support"},{category:"spending",name:"Natural Resources",description:"Resource development"},{category:"spending",name:"Infrastructure",description:"Northern infrastructure development"},{category:"spending",name:"Environment and Climate Change",description:"Northern climate action"}]},Nunavut:{factors:[{category:"spending",name:"Indigenous Services",description:"Indigenous community support"},{category:"spending",name:"Infrastructure",description:"Northern infrastructure development"},{category:"spending",name:"Healthcare",description:"Northern healthcare services"},{category:"spending",name:"Education",description:"Northern education support"}]}},demographics:{youth:{factors:[{category:"spending",name:"Education",description:"Post-secondary education and accessibility"},{category:"spending",name:"Skills Development",description:"Job training and upskilling"},{category:"spending",name:"Environment and Climate Change",description:"Climate action and green jobs"},{category:"revenue",name:"Carbon Pricing",description:"Environmental policy"},{category:"spending",name:"Housing",description:"Housing affordability"},{category:"spending",name:"Digital Government",description:"Online services and digital access"},{category:"revenue",name:"Wealth Tax",description:"Wealth redistribution"},{category:"spending",name:"Student Loans",description:"Student debt and financial support"}]},students:{factors:[{category:"spending",name:"Education",description:"Education funding and research"},{category:"spending",name:"Science and Innovation",description:"Research opportunities"},{category:"revenue",name:"Student Tax Credits",description:"Tax credits for students"},{category:"spending",name:"Student Loans",description:"Loan forgiveness and support"},{category:"spending",name:"Housing",description:"Student housing support"},{category:"spending",name:"Digital Government",description:"Digital infrastructure"},{category:"spending",name:"Transit",description:"Affordable transit"},{category:"spending",name:"Mental Health",description:"Student mental health support"}]},techWorkers:{factors:[{category:"spending",name:"Science and Innovation",description:"R&D funding"},{category:"spending",name:"Digital Government",description:"Digital transformation"},{category:"spending",name:"Skills Development",description:"Tech training"},{category:"spending",name:"Education",description:"STEM education"},{category:"revenue",name:"Corporate Tax",description:"Competitive tax rates"},{category:"revenue",name:"Corporate Tax Expenditures",description:"Startup incentives"},{category:"spending",name:"Cybersecurity",description:"Digital security"},{category:"spending",name:"Housing",description:"Tech hub housing"},{category:"spending",name:"Immigration",description:"Talent attraction"}]},smallBusinessOwners:{factors:[{category:"revenue",name:"Corporate Tax",description:"Business tax rates"},{category:"revenue",name:"GST",description:"Sales tax impact"},{category:"spending",name:"Economic Development",description:"Business support programs"},{category:"spending",name:"Skills Development",description:"Workforce training"},{category:"spending",name:"Digital Government",description:"Digital services"},{category:"spending",name:"Infrastructure",description:"Business infrastructure"}]},newImmigrants:{factors:[{category:"spending",name:"Immigration",description:"Immigration services"},{category:"spending",name:"Skills Development",description:"Job training"},{category:"spending",name:"Housing",description:"Housing support"},{category:"spending",name:"Education",description:"Education access"},{category:"spending",name:"Healthcare",description:"Healthcare access"},{category:"spending",name:"Language Training",description:"Language support"}]},unionizedWorkers:{factors:[{category:"spending",name:"Skills Development",description:"Workforce training"},{category:"spending",name:"Healthcare",description:"Healthcare benefits"},{category:"spending",name:"Pensions",description:"Pension security"},{category:"spending",name:"Public Safety",description:"Workplace safety"},{category:"spending",name:"Economic Development",description:"Job security"}]},renters:{factors:[{category:"spending",name:"Housing",description:"Rental support"},{category:"revenue",name:"GST",description:"Sales tax impact"},{category:"spending",name:"Transit",description:"Affordable transit"},{category:"spending",name:"Healthcare",description:"Healthcare access"},{category:"spending",name:"Education",description:"Education access"}]},veterans:{factors:[{category:"spending",name:"Veterans Affairs",description:"Veterans programs"},{category:"spending",name:"Mental Health",description:"PTSD/mental health support"},{category:"spending",name:"Healthcare",description:"Healthcare access"},{category:"spending",name:"Housing",description:"Veterans housing"},{category:"spending",name:"Support for Seniors",description:"Aging veterans support"},{category:"spending",name:"Defense",description:"Military support"},{category:"spending",name:"Skills Development",description:"Civilian transition"},{category:"revenue",name:"Personal Tax Credits",description:"Veterans tax credits"}]},indigenousPeoples:{factors:[{category:"spending",name:"Indigenous Services",description:"Indigenous programs"},{category:"spending",name:"Healthcare",description:"Healthcare access"},{category:"spending",name:"Education",description:"Education support"},{category:"spending",name:"Housing",description:"Housing support"},{category:"spending",name:"Environment and Climate Change",description:"Environmental protection"},{category:"spending",name:"Cultural Programs",description:"Cultural preservation"}]},rural:{factors:[{category:"spending",name:"Infrastructure",description:"Rural infrastructure development"},{category:"spending",name:"Agriculture",description:"Agricultural support"},{category:"spending",name:"Healthcare",description:"Rural healthcare access"},{category:"spending",name:"Broadband",description:"Rural internet connectivity"},{category:"spending",name:"Natural Resources",description:"Resource sector support"},{category:"spending",name:"Education",description:"Rural education access"},{category:"spending",name:"Public Safety",description:"Rural emergency services"}]},urban:{factors:[{category:"spending",name:"Transit",description:"Public transit and transportation"},{category:"spending",name:"Infrastructure",description:"Urban infrastructure development"},{category:"spending",name:"Housing",description:"Housing affordability"},{category:"spending",name:"Environment and Climate Change",description:"Air quality and climate action"},{category:"revenue",name:"Carbon Pricing",description:"Environmental policy"},{category:"spending",name:"Digital Government",description:"Smart cities and digital services"},{category:"spending",name:"Immigration",description:"Settlement services"},{category:"spending",name:"Public Safety",description:"Urban safety and security"}]},workers:{factors:[{category:"spending",name:"Skills Development",description:"Job training and upskilling"},{category:"spending",name:"Healthcare",description:"Healthcare benefits"},{category:"spending",name:"Economic Development",description:"Job creation"},{category:"spending",name:"Infrastructure",description:"Workplace infrastructure"},{category:"spending",name:"Public Safety",description:"Workplace safety"},{category:"revenue",name:"Personal Income Tax Revenue",description:"Tax burden"}]},families:{factors:[{category:"spending",name:"Children and Families",description:"Family support programs"},{category:"spending",name:"Healthcare",description:"Family healthcare"},{category:"spending",name:"Education",description:"Education access"},{category:"spending",name:"Housing",description:"Family housing"},{category:"spending",name:"Child Care",description:"Child care support"},{category:"revenue",name:"Family Tax Credits",description:"Family tax benefits"}]},seniors:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare services and accessibility"},{category:"spending",name:"Support for Seniors",description:"Senior care and support programs"},{category:"spending",name:"Housing",description:"Senior housing and accessibility"},{category:"spending",name:"Mental Health",description:"Mental health services"},{category:"spending",name:"Pensions",description:"Pension security and support"},{category:"spending",name:"Public Safety",description:"Senior safety and security"}]}},sectors:{business:{factors:[{category:"revenue",name:"Corporate Tax",description:"Business competitiveness"},{category:"spending",name:"Skills Development",description:"Workforce development"},{category:"spending",name:"Economic Development",description:"Business growth"},{category:"spending",name:"Infrastructure",description:"Business infrastructure"},{category:"spending",name:"Digital Government",description:"Digital services"},{category:"revenue",name:"Carbon Pricing",description:"Environmental compliance"}]},environment:{factors:[{category:"spending",name:"Environment and Climate Change",description:"Climate programs"},{category:"revenue",name:"Carbon Pricing",description:"Environmental policy"},{category:"spending",name:"Transit",description:"Public transit"},{category:"spending",name:"Infrastructure",description:"Green infrastructure"},{category:"spending",name:"Science and Innovation",description:"Clean tech research"},{category:"spending",name:"Indigenous Services",description:"Indigenous stewardship"},{category:"spending",name:"Natural Resources",description:"Conservation programs"}]},healthcare:{factors:[{category:"spending",name:"Healthcare",description:"Healthcare funding"},{category:"spending",name:"Science and Innovation",description:"Medical research"},{category:"revenue",name:"Health Tax Credits",description:"Health benefits"},{category:"spending",name:"Support for Seniors",description:"Senior care"},{category:"spending",name:"Children and Families",description:"Family health"},{category:"spending",name:"Digital Government",description:"Health records"}]},defense:{factors:[{category:"spending",name:"Defense",description:"Military funding"},{category:"spending",name:"Diplomatic Representation",description:"International presence"},{category:"spending",name:"International Development",description:"Global stability"},{category:"spending",name:"Cybersecurity",description:"Digital defense"},{category:"spending",name:"Public Safety",description:"Domestic security"},{category:"spending",name:"Border Security",description:"Border protection"}]},education:{factors:[{category:"spending",name:"Education",description:"Education funding"},{category:"spending",name:"Skills Development",description:"Training programs"},{category:"spending",name:"Children and Families",description:"Early education"},{category:"spending",name:"Science and Innovation",description:"Research funding"},{category:"spending",name:"Digital Government",description:"Digital learning"},{category:"spending",name:"Student Loans",description:"Student support"}]},technology:{factors:[{category:"spending",name:"Science and Innovation",description:"R&D funding"},{category:"spending",name:"Digital Government",description:"Digital transformation"},{category:"revenue",name:"Corporate Tax Expenditures",description:"Startup incentives"},{category:"spending",name:"Skills Development",description:"Talent development"},{category:"spending",name:"Cybersecurity",description:"Security focus"},{category:"revenue",name:"Corporate Tax",description:"Tax competitiveness"},{category:"spending",name:"Immigration",description:"Talent attraction"}]},finance:{factors:[{category:"revenue",name:"Corporate Tax",description:"Tax competitiveness"},{category:"spending",name:"Economic Development",description:"Economic stability"},{category:"spending",name:"Digital Government",description:"Digital infrastructure"},{category:"spending",name:"Cybersecurity",description:"Financial security"},{category:"spending",name:"International Assistance",description:"Global markets"},{category:"revenue",name:"Corporate Tax Expenditures",description:"Investment incentives"},{category:"spending",name:"Deficit",description:"Fiscal responsibility"},{category:"spending",name:"Infrastructure",description:"Economic infrastructure"}]},realEstate:{factors:[{category:"spending",name:"Housing",description:"Housing investment"},{category:"spending",name:"Infrastructure",description:"Community development"},{category:"revenue",name:"Corporate Tax",description:"Development climate"},{category:"revenue",name:"Homeowner Tax Credits",description:"Homeowner incentives"},{category:"spending",name:"Economic Development",description:"Urban development"},{category:"spending",name:"Environment and Climate Change",description:"Sustainability"},{category:"spending",name:"Transit",description:"Transit infrastructure"},{category:"spending",name:"Digital Government",description:"Digital infrastructure"}]},creativeIndustries:{factors:[{category:"spending",name:"Cultural Programs",description:"Arts funding"},{category:"spending",name:"Tourism",description:"Tourism support"},{category:"spending",name:"Digital Government",description:"Digital support"},{category:"spending",name:"Skills Development",description:"Skills support"},{category:"revenue",name:"Corporate Tax Expenditures",description:"Industry incentives"},{category:"spending",name:"Indigenous Services",description:"Indigenous arts"},{category:"spending",name:"Education",description:"Arts education"}]},manufacturing:{factors:[{category:"revenue",name:"Corporate Tax",description:"Tax competitiveness"},{category:"spending",name:"Economic Development",description:"Industry support"},{category:"spending",name:"Infrastructure",description:"Manufacturing infrastructure"},{category:"revenue",name:"Carbon Pricing",description:"Environmental costs"},{category:"spending",name:"Science and Innovation",description:"Innovation support"},{category:"spending",name:"Skills Development",description:"Training support"},{category:"spending",name:"Trade",description:"Trade support"}]},publicSector:{factors:[{category:"spending",name:"Public Administration",description:"Service funding"},{category:"spending",name:"Digital Government",description:"Modernization"},{category:"revenue",name:"Personal Income Tax Revenue",description:"Revenue base"},{category:"spending",name:"Skills Development",description:"Training"},{category:"spending",name:"Cybersecurity",description:"Security"},{category:"spending",name:"Mental Health",description:"Mental health support"},{category:"spending",name:"Deficit",description:"Fiscal management"}]},energy:{factors:[{category:"spending",name:"Natural Resources",description:"Energy sector development"},{category:"revenue",name:"Carbon Pricing",description:"Environmental policy"},{category:"spending",name:"Environment and Climate Change",description:"Climate action"},{category:"spending",name:"Science and Innovation",description:"Energy research"},{category:"spending",name:"Infrastructure",description:"Energy infrastructure"},{category:"revenue",name:"Corporate Tax",description:"Energy sector taxation"}]},tourism:{factors:[{category:"spending",name:"Economic Development",description:"Tourism promotion"},{category:"spending",name:"Infrastructure",description:"Tourism infrastructure"},{category:"spending",name:"Cultural Programs",description:"Cultural attractions"},{category:"spending",name:"Environment and Climate Change",description:"Natural attractions"},{category:"spending",name:"Immigration",description:"Tourism workforce"},{category:"spending",name:"Digital Government",description:"Digital tourism services"}]},agriculture:{factors:[{category:"spending",name:"Agriculture",description:"Agricultural support"},{category:"spending",name:"Infrastructure",description:"Rural infrastructure"},{category:"spending",name:"Environment and Climate Change",description:"Sustainable farming"},{category:"revenue",name:"Carbon Pricing",description:"Agricultural emissions policy"},{category:"spending",name:"Science and Innovation",description:"Agricultural research"},{category:"spending",name:"Skills Development",description:"Agricultural training"}]},indigenous:{factors:[{category:"spending",name:"Indigenous Services",description:"Indigenous community support"},{category:"spending",name:"Healthcare",description:"Indigenous healthcare services"},{category:"spending",name:"Education",description:"Indigenous education support"},{category:"spending",name:"Natural Resources",description:"Resource stewardship"},{category:"spending",name:"Housing",description:"Indigenous housing support"},{category:"spending",name:"Cultural Programs",description:"Cultural preservation"},{category:"spending",name:"Infrastructure",description:"Community infrastructure"}]},veteransServices:{factors:[{category:"spending",name:"Veterans Affairs",description:"Veterans programs"},{category:"spending",name:"Mental Health",description:"PTSD/mental health support"},{category:"spending",name:"Healthcare",description:"Healthcare access"},{category:"spending",name:"Housing",description:"Veterans housing"},{category:"spending",name:"Support for Seniors",description:"Aging veterans support"},{category:"spending",name:"Skills Development",description:"Civilian transition"},{category:"revenue",name:"Personal Tax Credits",description:"Veterans tax credits"}]}}};var m=n(14171),l=n(2404),g=n.n(l),p=n(38221),v=n.n(p);const b={class:"radar-sentiment-container"},y={class:"radar-header"},h={class:"radar-title-row"},f={class:"radar-title"},I=["title"],S={class:"scenario-label"},x={class:"scenario-icon"},C={key:0,class:"view-toggle"},E={class:"toggle-switch"},k={class:"toggle-label"},T={class:"overall-sentiment"},w=["title"],N={style:{"font-size":"0.85em","font-weight":"600"}},R={class:"sentiment-score"},D=["title"],A={class:"score-label"},L={class:"radar-tabs"},M=["onClick"],P={class:"radar-chart-container"},H={class:"sentiment-details"},F={key:0,class:"provinces-grid"},B=["title"],_={class:"entity-score-bar"},G=["title"],W={class:"entity-score"},O=["title"],j={class:"entity-emoji"},X={key:0,class:"impact-banner"},$={class:"impact-header"},U={class:"impact-category"},V={class:"impact-description"},Q={key:1},K={class:"entity-name"},Y={class:"entity-score-bar"},z=["title"],J={class:"entity-score"},Z=["title"],q={class:"entity-emoji"},ee={key:0,class:"impact-banner"},te={class:"impact-header"},ne={class:"impact-category"},ie={class:"impact-description"},re={key:0,class:"error-message"};var se={__name:"RadarSentiment",props:{budgetData:{type:Object,default:null}},setup(e){const{t:t}=(0,o.s9)(),n=e,l=(0,r.W)(),p=(0,s.v)(),se=(0,i.KR)(null),ae=(0,i.KR)(null),oe=(0,i.KR)(!1),ce=(0,i.KR)(!1),de=(0,i.KR)("provinces");(0,i.wB)((()=>n.externalTab),(e=>{e&&("provinces"!==e&&"demographics"!==e&&"sectors"!==e||(de.value=e))}));const ue=(0,i.KR)("");let me=!1,le=null,ge=null;function pe(e="unknown"){if(ae.value)try{console.log(`[SENTIMENT][${e}] Attempting to destroy chart. radarChart.value:`,se.value),ae.value.destroy(),ae.value=null,console.log(`[SENTIMENT][${e}] Chart destroyed safely`)}catch(t){console.error(`[SENTIMENT][${e}] Error destroying chart:`,t),ae.value=null}else console.log(`[SENTIMENT][${e}] No chartInstance to destroy.`)}(0,i.hi)((()=>{me=!0,oe.value=!1,le&&(clearTimeout(le),le=null),ge&&(ge.disconnect(),ge=null),pe()}));const ve=(0,i.EW)((()=>[{id:"provinces",label:t("simulator.sentiment.tabs.provinces")},{id:"demographics",label:t("simulator.sentiment.tabs.demographics")},{id:"sectors",label:t("simulator.sentiment.tabs.sectors")}])),be=(0,i.KR)(!1),ye=(0,i.EW)((()=>l.activePreset)),he=(0,i.EW)((()=>ye.value&&a.m[ye.value]?a.m[ye.value]:null)),fe=(0,i.EW)((()=>he.value?he.value.label:"")),Ie=(0,i.EW)((()=>{if(!he.value)return"";const e=he.value.label.match(/^(\S+)/);return e?e[1]:""})),Se=(0,i.EW)((()=>he.value?he.value.description:"")),xe=(0,i.EW)((()=>{const e={overall:p.overall,regions:p.regions,demographics:p.demographics,sectors:p.sectors};console.log("[SENTIMENT] Computing scores with sensitivity settings:",e);const t=n.budgetData||l.budgetData;return be.value?(0,c.aS)(t,l.badges,null,e):(0,c.aS)(t,l.badges,ye.value,e)})),Ce=v()((()=>{console.log("[SENTIMENT] Sensitivity settings changed, updating chart"),ae.value&&Oe()}),100),Ee=(0,i.EW)((()=>!!xe.value.fiscalChaos));function ke(e){if(!he.value||be.value)return!1;const t=he.value[de.value];return t&&Math.abs(t[e]||0)>=.5}function Te(e){if(!he.value||be.value)return!1;const t=he.value[de.value];return t&&void 0!==t[e]}function we(e){if(!he.value)return"";const t=he.value[de.value];if(!t||void 0===t[e])return"";const n=t[e];return n>.5?"very-positive":n>0?"positive":n<-.5?"very-negative":n<0?"negative":""}function Ne(e){if(!he.value)return"";const n=he.value[de.value];if(!n||void 0===n[e])return"";const i=n[e],r=i>0?"positive":"negative",s=Math.abs(i)>.5?"strong":"moderate",a=`${i>0?"+":""}${i.toFixed(1)}`;return t("simulator.sentiment.radar.scenarioImpactText",{intensity:t(`simulator.sentiment.radar.intensity.${s}`),direction:t(`simulator.sentiment.radar.direction.${r}`),value:a})}(0,i.wB)((()=>[l.lastRevenueSourceUpdate,l.lastTaxExpenditureUpdate,l.lastBadgeUpdate,l.activePreset,l.lastSentimentUpdate]),(()=>{console.log("%c[SENTIMENT DEBUG] Recalculating sentiment due to store update","color: #8e44ad;"),(0,i.dY)((()=>{if(Oe(),ye.value){const e=document.querySelector(".radar-chart-container");e&&(e.classList.add("scenario-change-animation"),setTimeout((()=>{e.classList.remove("scenario-change-animation")}),1e3))}}))})),(0,i.wB)((()=>[p.overall,p.regions,p.demographics,p.sectors]),(()=>{console.log("%c[SENTIMENT DEBUG] Sensitivity settings changed, debouncing update","color: #2ecc71;"),Ce()}));const Re=(0,i.EW)((()=>{if(!xe.value||!xe.value[de.value])return{};if("provinces"===de.value){const e={Alberta:["Alberta"],"British Columbia":["British Columbia","BritishColumbia"],Manitoba:["Manitoba"],"New Brunswick":["New Brunswick","NewBrunswick"],"Newfoundland and Labrador":["Newfoundland and Labrador","NewfoundlandAndLabrador"],"Northwest Territories":["Northwest Territories","NorthwestTerritories"],"Nova Scotia":["Nova Scotia","NovaScotia"],Nunavut:["Nunavut"],Ontario:["Ontario"],"Prince Edward Island":["Prince Edward Island"],Quebec:["Quebec"],Saskatchewan:["Saskatchewan"],Yukon:["Yukon"]},t={};return Object.entries(e).forEach((([e,n])=>{let i=!1;for(const r of n)if(void 0!==xe.value[de.value][r]){t[e]=xe.value[de.value][r],i=!0;break}i||(t[e]=3)})),t}return xe.value[de.value]})),De=(0,i.EW)((()=>xe.value.overall)),Ae=(0,i.EW)((()=>(0,c.UG)(De.value))),Le=(0,i.EW)((()=>(0,c.HS)(De.value))),Me=(0,i.EW)((()=>(0,c.G1)(De.value))),Pe=(0,i.Kh)({overall:De.value,provinces:{},sectors:{},demographics:{}}),He=(0,i.EW)((()=>{const e=De.value-(Pe.overall??De.value);return e})),Fe=(0,i.EW)((()=>{const e=de.value,t=xe.value[e],n=Pe[e]||{},i={};for(const r in t)i[r]=t[r]-(n[r]??t[r]);return i}));function Be(e,t=2){const n=Number(e);if(!Number.isFinite(n))return"0.00";const i=Math.abs(n).toFixed(t);return n>0?`+${i}`:n<0?`-${i}`:i}function _e(e,n){if("provinces"===e){const e={Alberta:"sentiment.provinces.alberta","British Columbia":"sentiment.provinces.britishColumbia",Manitoba:"sentiment.provinces.manitoba","New Brunswick":"sentiment.provinces.newBrunswick","Newfoundland and Labrador":"sentiment.provinces.newfoundlandAndLabrador","Northwest Territories":"sentiment.provinces.northwestTerritories","Nova Scotia":"sentiment.provinces.novaScotia",Nunavut:"sentiment.provinces.nunavut",Ontario:"sentiment.provinces.ontario","Prince Edward Island":"sentiment.provinces.princeEdwardIsland",Quebec:"sentiment.provinces.quebec",Saskatchewan:"sentiment.provinces.saskatchewan",Yukon:"sentiment.provinces.yukon"},i=e[n];if(i)return t(i,n)}if("demographics"===e||"sectors"===e){const i=n.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toLowerCase():e.toUpperCase())).replace(/\s+/g,""),r=`sentiment.${e}.${i}`,s=t(r,n);if(s!==r)return s}return n}function Ge(e,t=de.value){return _e(t,e)}function We(e,n){if("Newfoundland and Labrador"===e)return t("sentiment.newfoundlandAndLabrador","Newfoundland and Labrador");if("provinces"===n){const t={Alberta:["Alberta"],"British Columbia":["British Columbia","BritishColumbia"],Manitoba:["Manitoba"],"New Brunswick":["New Brunswick","NewBrunswick"],"Newfoundland and Labrador":["Newfoundland and Labrador","NewfoundlandAndLabrador"],"Northwest Territories":["Northwest Territories","NorthwestTerritories"],"Nova Scotia":["Nova Scotia","NovaScotia"],Nunavut:["Nunavut"],Ontario:["Ontario"],"Prince Edward Island":["Prince Edward Island"],Quebec:["Quebec"],Saskatchewan:["Saskatchewan"],Yukon:["Yukon"]},i=t[e]||[e];for(const e of i)if(u[n]?.[e]?.factors)return e}const i=[e,e.toLowerCase().replace(/\s+(.)/g,((e,t)=>t.toUpperCase())),e.replace(/\s+/g,""),e.replace(/\s+/g,"").replace(/^./,(e=>e.toLowerCase()))];for(const t of i)if(u[n]?.[t]?.factors)return t;return e}function Oe(){if(ce.value)return void console.warn("[SENTIMENT][updateChart] Update already in progress, skipping");if(ce.value=!0,console.log("[SENTIMENT][updateChart] Updating chart with sensitivity settings:",p.overall,p.regions,p.demographics,p.sectors),me||!se.value||!oe.value)return console.warn("[SENTIMENT][updateChart] Component not ready, skipping chart update"),void(ce.value=!1);if(!document.body.contains(se.value))return void console.warn("[SENTIMENT][updateChart] Canvas not in DOM, skipping chart update");if(0===se.value.offsetWidth||0===se.value.offsetHeight)return void console.warn("[SENTIMENT][updateChart] Canvas has zero width or height, skipping chart update");if(!xe.value||!xe.value[de.value])return void console.warn("[SENTIMENT][updateChart] No valid sentiment data for tab:",de.value);let e;je();try{if(e=se.value.getContext("2d"),!e)return void console.warn("[SENTIMENT][updateChart] Could not get canvas context")}catch(v){return void(0,m.H4)(v,(e=>ue.value=e))}ae.value&&pe("updateChart-before-create");const r=Re.value;if(!r||0===Object.keys(r).length)return void console.warn("[SENTIMENT][updateChart] No entities to display for tab:",de.value);const s=Object.keys(r).map((e=>Ge(e,de.value))),a=Object.values(r),o=a.map((e=>(0,c.HS)(e))),g={responsive:!0,maintainAspectRatio:!1,events:["mousemove","mouseout","click","touchstart","touchmove"],animation:{duration:0},hover:{animationDuration:0},interaction:{mode:"nearest",intersect:!1},responsiveAnimationDuration:0,scales:{r:{beginAtZero:!0,suggestedMin:1,suggestedMax:5,ticks:{stepSize:1}}},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"nearest",intersect:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#2d3748",bodyColor:"#4a5568",borderColor:"#e2e8f0",borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,callbacks:{title:e=>e[0].label,label:e=>{const i=e.raw,r=e.label;if(void 0===i||null===i)return t("simulator.sentiment.radar.tooltip.noData");try{const e=We(r,de.value),s=u[de.value]?.[e]?.factors;if(!s)return t("simulator.sentiment.radar.tooltip.scoreWithLabel",{score:i.toFixed(1),label:(0,c.UG)(i)});const a=[t("simulator.sentiment.radar.tooltip.scoreWithLabel",{score:i.toFixed(1),label:(0,c.UG)(i)}),"",t("simulator.sentiment.radar.tooltip.impactFactors")];return s.forEach((e=>{const i=n.budgetData||l.budgetData;let r=0,s=0;"revenue"===e.category?(r=i?.revenueSources?.[e.name]?.adjustmentFactor||1,s=100*(r-1)):"spending"===e.category&&(r=i?.spendingCategories?.[e.name]?.adjustmentFactor||1,s=100*(r-1));const o=Math.abs(s)>.1?` (${s>0?"+":""}${s.toFixed(1)}%)`:"";a.push(t("simulator.sentiment.radar.tooltip.factorLine",{name:e.name,description:e.description,impact:o}))})),a}catch(s){return(0,m.H4)(s,(e=>ue.value=e)),t("simulator.sentiment.radar.tooltip.scoreOnly",{score:Number(i).toFixed(1)})}}}}}};(0,i.dY)((()=>{try{if(ae.value)try{ae.value.data.labels=s,ae.value.data.datasets[0].data=a,ae.value.data.datasets[0].pointBackgroundColor=o,ae.value.data.datasets[0].pointHoverBorderColor=o,ae.value.options=g,ae.value.update("none"),console.log("[SENTIMENT][updateChart] Updated existing chart")}catch(v){(0,m.H4)(v,(e=>ue.value=e)),pe("error-during-update")}else console.log("[SENTIMENT][updateChart] Creating new chart instance"),ae.value=new d.Ay(e,{type:"radar",data:{labels:s,datasets:[{label:t("simulator.sentiment.radar.datasetLabel"),data:a,backgroundColor:"rgba(66, 153, 225, 0.2)",borderColor:"#4299E1",pointBackgroundColor:o,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:o,pointRadius:6,pointHoverRadius:10,pointHitRadius:16}]},options:{responsive:!0,maintainAspectRatio:!1,events:["mousemove","mouseout","click","touchstart","touchmove"],animation:{duration:0},hover:{animationDuration:0,mode:"nearest",intersect:!0},responsiveAnimationDuration:0,scales:{r:{beginAtZero:!0,suggestedMin:1,suggestedMax:5,ticks:{stepSize:1}}},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"nearest",intersect:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#2d3748",bodyColor:"#4a5568",borderColor:"#e2e8f0",borderWidth:1,padding:12,boxPadding:6,usePointStyle:!0,callbacks:{title:e=>e[0].label,label:e=>{const i=e.raw,r=e.label;if(void 0===i||null===i)return t("simulator.sentiment.radar.tooltip.noData");try{const e=We(r,de.value),s=u[de.value]?.[e]?.factors;if(!s)return t("simulator.sentiment.radar.tooltip.scoreWithLabel",{score:i.toFixed(1),label:(0,c.UG)(i)});const a=[t("simulator.sentiment.radar.tooltip.scoreWithLabel",{score:i.toFixed(1),label:(0,c.UG)(i)}),"",t("simulator.sentiment.radar.tooltip.impactFactors")];return s.forEach((e=>{const i=n.budgetData||l.budgetData;let r=0,s=0;"revenue"===e.category?(r=i?.revenueSources?.[e.name]?.adjustmentFactor||1,s=100*(r-1)):"spending"===e.category&&(r=i?.spendingCategories?.[e.name]?.adjustmentFactor||1,s=100*(r-1));const o=Math.abs(s)>.1?` (${s>0?"+":""}${s.toFixed(1)}%)`:"";a.push(t("simulator.sentiment.radar.tooltip.factorLine",{name:e.name,description:e.description,impact:o}))})),a}catch(s){return(0,m.H4)(s,(e=>ue.value=e)),t("simulator.sentiment.radar.tooltip.scoreOnly",{score:Number(i).toFixed(1)})}}}}}}})}catch(v){(0,m.H4)(v,(e=>ue.value=e)),pe("error-during-update")}finally{ce.value=!1}}))}function je(){!ge&&se.value&&(ge=new MutationObserver((()=>{if(me)return ge.disconnect(),void(ge=null);se.value&&!document.body.contains(se.value)&&(console.warn("[SENTIMENT] Canvas removed from DOM, cleaning up chart"),pe())})),ge.observe(document.body,{childList:!0,subtree:!0}))}(0,i.wB)([De,de,xe],((e,t)=>{const[n,i,r]=t;"undefined"!==typeof n&&(Pe.overall=n),i&&r&&r[i]&&(Pe[i]={...r[i]})}),{immediate:!0}),(0,i.wB)(se,((e,t)=>{console.log("[SENTIMENT][radarChart watcher] newCanvas:",e,"oldCanvas:",t),t&&t!==e&&ae.value&&document.body.contains(t)&&(ae.value.destroy(),ae.value=null)}));let Xe=null;const $e=v()(Oe,200);function Ue(e){const t=u[de.value]?.[e]?.factors;if(!t)return null;const i={},r=n.budgetData||l.budgetData,s=r?.revenueSources||{},a=r?.spendingCategories||{};for(const n of t){let e=0,t=0;"revenue"===n.category?(e=s[n.name]?.adjustmentFactor||1,t=100*(e-1)):"spending"===n.category&&(e=a[n.name]?.adjustmentFactor||1,t=100*(e-1)),Math.abs(t)>.1&&(i[n.name]={impact:t/100,description:n.description})}return Object.keys(i).length>0?i:null}function Ve(e){return e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim()}function Qe(e){return`${e.toFixed(1)}%`}return(0,i.wB)([de,xe],(([e,t],[n])=>{if(oe.value)return e!==n?(console.log("[SENTIMENT] Tab changed from",n,"to",e),void Oe()):void(Xe&&g()(Xe,t)||($e(),Xe=JSON.parse(JSON.stringify(t))));Xe=null}),{deep:!0}),(0,i.sV)((()=>{setTimeout((()=>{me||(oe.value=!0)}))})),(0,i.wB)([se,oe],(([e,t])=>{e&&t&&!me&&Oe()})),(0,i.hi)((()=>{if(oe.value=!1,ae.value){try{se.value&&document.body.contains(se.value)?(ae.value.destroy(),console.log("[SENTIMENT] Chart destroyed on unmount")):console.warn("[SENTIMENT] Chart destroy skipped: canvas not in DOM")}catch(e){(0,m.H4)(e,(e=>ue.value=e))}ae.value=null}})),(e,n)=>((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",y,[(0,i.Lk)("div",h,[(0,i.Lk)("h3",f,(0,i.v_)((0,i.R1)(t)("simulator.sentiment.radar.title")),1),ye.value?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"scenario-badge",title:Se.value},[(0,i.Lk)("span",S,(0,i.v_)((0,i.R1)(t)("simulator.sentiment.radar.scenarioImpact",{label:fe.value})),1),(0,i.Lk)("span",x,(0,i.v_)(Ie.value),1)],8,I)):(0,i.Q3)("",!0)]),ye.value?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.Lk)("label",E,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>be.value=e),type:"checkbox"},null,512),[[i.lH,be.value]]),n[1]||(n[1]=(0,i.Lk)("span",{class:"toggle-slider"},null,-1))]),(0,i.Lk)("span",k,(0,i.v_)((0,i.R1)(t)(be.value?"simulator.sentiment.radar.toggle.base":"simulator.sentiment.radar.toggle.scenario")),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",T,[(0,i.Lk)("div",{class:"sentiment-emoji",style:(0,i.Tr)({color:Le.value})},(0,i.v_)(Me.value),5),Ee.value?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"fiscal-chaos-indicator",title:(0,i.R1)(t)("sentiment.fiscalChaosDetected","Fiscal chaos detected!"),style:{"margin-left":"0.5em",color:"#e53e3e","font-size":"1.4em",display:"flex","align-items":"center"}},[n[2]||(n[2]=(0,i.Lk)("span",{style:{"margin-right":"0.2em"}},"!",-1)),(0,i.Lk)("span",N,(0,i.v_)((0,i.R1)(t)("sentiment.fiscalChaos","Fiscal Chaos")),1)],8,w)):(0,i.Q3)("",!0),(0,i.Lk)("div",R,[(0,i.Lk)("span",{class:"score-value",style:(0,i.Tr)({color:Le.value})},(0,i.v_)(De.value.toFixed(1)),5),Math.abs(He.value)>.01?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["score-delta",He.value>0?"delta-up":"delta-down"]),title:He.value>0?(0,i.R1)(t)("simulator.sentiment.radar.delta.increased"):(0,i.R1)(t)("simulator.sentiment.radar.delta.decreased"),style:{"margin-left":"0.3em"}},(0,i.v_)(Be(He.value)),11,D)):(0,i.Q3)("",!0),(0,i.Lk)("span",A,(0,i.v_)(Ae.value),1)])])]),(0,i.Lk)("div",L,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(ve.value,(e=>((0,i.uX)(),(0,i.CE)("button",{key:e.id,class:(0,i.C4)(["tab-button",{active:de.value===e.id}]),onClick:t=>de.value=e.id},(0,i.v_)(e.label),11,M)))),128))]),(0,i.Lk)("div",P,[(0,i.Lk)("canvas",{ref_key:"radarChart",ref:se},null,512)]),(0,i.Lk)("div",H,["provinces"===de.value?((0,i.uX)(),(0,i.CE)("div",F,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Re.value,((e,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:(0,i.C4)(["entity-row",{"pulse-animation":ke(n)}])},[(0,i.Lk)("div",{class:"entity-name",title:Ge(n)},(0,i.v_)(Ge(n)),9,B),(0,i.Lk)("div",_,[(0,i.Lk)("div",{class:"score-fill",style:(0,i.Tr)({width:e/5*100+"%",backgroundColor:(0,i.R1)(c.HS)(e)})},null,4),Te(n)?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,i.C4)(["scenario-impact-indicator",we(n)]),title:Ne(n)},null,10,G)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",W,[(0,i.Lk)("span",{style:(0,i.Tr)({color:(0,i.R1)(c.HS)(e)})},(0,i.v_)(e.toFixed(1)),5),Fe.value&&Math.abs(Fe.value[n])>.01?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["score-delta",Fe.value[n]>0?"delta-up":"delta-down"]),title:Fe.value[n]>0?(0,i.R1)(t)("simulator.sentiment.radar.delta.increased"):(0,i.R1)(t)("simulator.sentiment.radar.delta.decreased")},(0,i.v_)(Be(Fe.value[n])),11,O)):(0,i.Q3)("",!0),(0,i.Lk)("span",j,(0,i.v_)((0,i.R1)(c.G1)(e)),1)]),Ue(n)?((0,i.uX)(),(0,i.CE)("div",X,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ue(n),((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"impact-item"},[(0,i.Lk)("div",$,[(0,i.Lk)("span",U,(0,i.v_)(Ve(t))+":",1),(0,i.Lk)("span",{class:(0,i.C4)(["impact-value",e.impact>0?"positive":"negative"])},(0,i.v_)(e.impact>0?"+":"")+(0,i.v_)(Qe(100*e.impact)),3)]),(0,i.Lk)("div",V,(0,i.v_)(e.description),1)])))),128))])):(0,i.Q3)("",!0)],2)))),128))])):((0,i.uX)(),(0,i.CE)("div",Q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Re.value,((e,n)=>((0,i.uX)(),(0,i.CE)("div",{key:n,class:(0,i.C4)(["entity-row",{"pulse-animation":ke(n)}])},[(0,i.Lk)("div",K,(0,i.v_)(Ge(n)),1),(0,i.Lk)("div",Y,[(0,i.Lk)("div",{class:"score-fill",style:(0,i.Tr)({width:e/5*100+"%",backgroundColor:(0,i.R1)(c.HS)(e)})},null,4),Te(n)?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,i.C4)(["scenario-impact-indicator",we(n)]),title:Ne(n)},null,10,z)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",J,[(0,i.Lk)("span",{style:(0,i.Tr)({color:(0,i.R1)(c.HS)(e)})},(0,i.v_)(e.toFixed(1)),5),Fe.value&&Math.abs(Fe.value[n])>.01?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["score-delta",Fe.value[n]>0?"delta-up":"delta-down"]),title:Fe.value[n]>0?(0,i.R1)(t)("simulator.sentiment.radar.delta.increased"):(0,i.R1)(t)("simulator.sentiment.radar.delta.decreased")},(0,i.v_)(Be(Fe.value[n])),11,Z)):(0,i.Q3)("",!0),(0,i.Lk)("span",q,(0,i.v_)((0,i.R1)(c.G1)(e)),1)]),Ue(n)?((0,i.uX)(),(0,i.CE)("div",ee,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Ue(n),((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"impact-item"},[(0,i.Lk)("div",te,[(0,i.Lk)("span",ne,(0,i.v_)(Ve(t))+":",1),(0,i.Lk)("span",{class:(0,i.C4)(["impact-value",e.impact>0?"positive":"negative"])},(0,i.v_)(e.impact>0?"+":"")+(0,i.v_)(Qe(100*e.impact)),3)]),(0,i.Lk)("div",ie,(0,i.v_)(e.description),1)])))),128))])):(0,i.Q3)("",!0)],2)))),128))]))]),ue.value?((0,i.uX)(),(0,i.CE)("div",re,(0,i.v_)(ue.value),1)):(0,i.Q3)("",!0)]))}},ae=n(66262);const oe=(0,ae.A)(se,[["__scopeId","data-v-dbbfb9b8"]]);var ce=oe},32837:function(e,t,n){n.d(t,{A:function(){return S}});var i=n(6934),r=n(62948),s=n(16166),a=n(18373),o=n(86226);const c={class:"sentiment-sensitivity-control"},d={class:"slider-group"},u={for:"overall-sensitivity"},m={class:"category-sliders"},l={class:"slider-group"},g={for:"regions-sensitivity"},p={class:"slider-group"},v={for:"demographics-sensitivity"},b={class:"slider-group"},y={for:"sectors-sensitivity"};var h={__name:"SentimentSensitivityControl",setup(e){const t=(0,s.v)(),{t:n}=(0,r.s9)(),h=(0,i.KR)(!1),f=(0,a.yZ)((e=>{h.value=!0;try{t.setSensitivity("overall",e)}finally{h.value=!1}}),200),I=(0,a.yZ)((e=>{h.value=!0;try{t.setSensitivity("regions",e)}finally{h.value=!1}}),200),S=(0,a.yZ)((e=>{h.value=!0;try{t.setSensitivity("demographics",e)}finally{h.value=!1}}),200),x=(0,a.yZ)((e=>{h.value=!0;try{t.setSensitivity("sectors",e)}finally{h.value=!1}}),200),C=(0,i.EW)({get:()=>t.sensitivity.overall,set:e=>t.setSensitivity("overall",e)}),E=(0,i.EW)({get:()=>t.sensitivity.regions,set:e=>t.setSensitivity("regions",e)}),k=(0,i.EW)({get:()=>t.sensitivity.demographics,set:e=>t.setSensitivity("demographics",e)}),T=(0,i.EW)({get:()=>t.sensitivity.sectors,set:e=>t.setSensitivity("sectors",e)});function w(){console.log("[SENSITIVITY DEBUG] Setting overall to:",C.value),f(C.value)}function N(){console.log("[SENSITIVITY DEBUG] Setting regions to:",E.value),I(E.value)}function R(){console.log("[SENSITIVITY DEBUG] Setting demographics to:",k.value),S(k.value)}function D(){console.log("[SENSITIVITY DEBUG] Setting sectors to:",T.value),x(T.value)}function A(){t.resetAll()}return(e,t)=>((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(o.A,{show:h.value,message:(0,i.R1)(n)("simulator.sentiment.sensitivity.loading"),size:"small",variant:"inline"},null,8,["show","message"]),(0,i.Lk)("h3",null,(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.title")),1),(0,i.Lk)("div",d,[(0,i.Lk)("label",u,(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.overall")),1),(0,i.bo)((0,i.Lk)("input",{id:"overall-sensitivity",type:"range",min:"0.5",max:"2",step:"0.01","onUpdate:modelValue":t[0]||(t[0]=e=>C.value=e),onInput:w},null,544),[[i.Jo,C.value,void 0,{number:!0}]]),(0,i.Lk)("span",null,(0,i.v_)(C.value.toFixed(2)),1)]),(0,i.Lk)("button",{onClick:A},(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.reset")),1),(0,i.Lk)("div",m,[(0,i.Lk)("div",l,[(0,i.Lk)("label",g,(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.regions")),1),(0,i.bo)((0,i.Lk)("input",{id:"regions-sensitivity",type:"range",min:"0.5",max:"2",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=e=>E.value=e),onInput:N},null,544),[[i.Jo,E.value,void 0,{number:!0}]]),(0,i.Lk)("span",null,(0,i.v_)(E.value.toFixed(2)),1)]),(0,i.Lk)("div",p,[(0,i.Lk)("label",v,(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.demographics")),1),(0,i.bo)((0,i.Lk)("input",{id:"demographics-sensitivity",type:"range",min:"0.5",max:"2",step:"0.01","onUpdate:modelValue":t[2]||(t[2]=e=>k.value=e),onInput:R},null,544),[[i.Jo,k.value,void 0,{number:!0}]]),(0,i.Lk)("span",null,(0,i.v_)(k.value.toFixed(2)),1)]),(0,i.Lk)("div",b,[(0,i.Lk)("label",y,(0,i.v_)((0,i.R1)(n)("simulator.sentiment.sensitivity.sectors")),1),(0,i.bo)((0,i.Lk)("input",{id:"sectors-sensitivity",type:"range",min:"0.5",max:"2",step:"0.01","onUpdate:modelValue":t[3]||(t[3]=e=>T.value=e),onInput:D},null,544),[[i.Jo,T.value,void 0,{number:!0}]]),(0,i.Lk)("span",null,(0,i.v_)(T.value.toFixed(2)),1)])])]))}},f=n(66262);const I=(0,f.A)(h,[["__scopeId","data-v-4fd05374"]]);var S=I}}]);
//# sourceMappingURL=common-09a63d0a.626873f7.js.map