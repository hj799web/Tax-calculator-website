{"version":3,"file":"js/common-692181e2.ab20a327.js","mappings":"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","sources":["webpack://my-new-project/./src/features.js","webpack://my-new-project/./src/presets.js","webpack://my-new-project/./src/utils/debounceUtils.js","webpack://my-new-project/./src/utils/partyBudgets.js","webpack://my-new-project/./src/views/FinanceMinisterSimulator.vue","webpack://my-new-project/./src/views/FinanceMinisterSimulator.vue?38f9"],"sourcesContent":["// Global feature flags for incremental rollouts\nexport const FEATURES = {\n  // Gate all multi-year planning logic and UI\n  MULTI_YEAR_PLANNING: true,\n  // Gate the new banner-driven panel navigation\n  PANEL_NAV: true,\n};\n","// Change tracking is now handled by the store itself\n\n/**\n * Budget Presets for Fiscal Insights Budget Simulator\n * \n * Each preset contains:\n * - label: Display name with emoji\n * - description: Political/economic philosophy explanation\n * - revenue: Values mapped to revenue categories\n * - spending: Values mapped to spending categories (keys standardized)\n * - taxExpenditures: Adjustments for tax expenditures\n */\nexport const budgetPresets = {\n  balancedBudget: {\n    label: \"⚖️ Balanced Budget\",\n    description:\n      \"A fiscally responsible approach that balances revenues and expenditures while maintaining essential services. This preset is designed to earn the 'Fiscal Hawk' and 'Centrist Pragmatist' badges.\",\n    revenue: {\n      personalIncomeTax: 21.5,    // Increased from 21 to ensure sufficient revenue\n      corporateIncomeTax: 15.5,   // Increased from 15 to ensure sufficient revenue\n      gst: 5,\n      exciseTaxes: 2.7,\n      carbonPricing: 1.2,\n      eiPremiums: 1.35,\n      customsDuties: 1,\n      crownProfits: 2.8,\n      nonTaxRevenue: 3.2,\n      resourceRoyalties: 1.1\n    },\n    spending: {\n      healthcare: 0.95,           // Slightly reduced to help balance\n      education: 0.95,            // Slightly reduced to help balance\n      childrenAndFamilies: 0.95,  // Slightly reduced to help balance\n      supportForSeniors: 0.95,    // Slightly reduced to help balance\n      indigenousServices: 0.95,   // Slightly reduced to help balance\n      defense: 0.95,              // Slightly reduced to help balance\n      scienceAndInnovation: 0.95, // Slightly reduced to help balance\n      infrastructure: 0.95,       // Slightly reduced to help balance\n      digitalGovernment: 0.95,    // Slightly reduced to help balance\n      environmentAndClimateChange: 0.95, // Slightly reduced to help balance\n      carbonPricing: 0.95,        // Slightly reduced to help balance\n      agriculture: 0.95,          // Slightly reduced to help balance\n      internationalDevelopment: 0.95, // Slightly reduced to help balance\n      culturalPrograms: 0.95,     // Slightly reduced to help balance\n      transit: 0.95,              // Slightly reduced to help balance\n      economicDevelopment: 0.95,  // Slightly reduced to help balance\n      indigenousOperations: 0.95, // Slightly reduced to help balance\n      diplomaticRepresentation: 0.95, // Slightly reduced to help balance\n      loansInvestments: {\n        studentLoans: 0.95,\n        agricultureLoans: 0.95,\n        internationalDevelopment: 0.95,\n        businessInnovation: 0.95,\n        defenseSector: 0.95,\n        economicDevelopment: 0.95\n      },\n      governmentOperations: {\n        transportationInfrastructure: 0.95,\n        environmentalPrograms: 0.95,\n        publicSafetyEmergency: 0.95,\n        governmentBuildings: 0.95,\n        researchInnovation: 0.95,\n        digitalGovernment: 0.95,\n        federalEmployeeSalaries: 0.95,\n        legalJusticeSystem: 0.95,\n        indigenousServicesOps: 0.95,\n        culturalPrograms: 0.95,\n        scientificResearch: 0.95,\n        diplomaticRepresentation: 0.95\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: -5,     // Reduced tax credits to help balance\n      corporateTaxExpenditures: -5, // Reduced tax credits to help balance\n      gstExpenditures: -5,        // Reduced tax credits to help balance\n      taxDeferrals: -5            // Reduced tax deferrals to help balance\n    }\n  },\n\n  austerityPlan: {\n    label: \"🔻 Austerity Plan\",\n    description:\n      \"A fiscally conservative approach focused on deficit reduction through spending cuts and moderate tax adjustments. This preset is designed to earn the 'Austerity Champion' and 'Surplus Architect' badges.\",\n    revenue: {\n      personalIncomeTax: 20.5, // Increased from 20 (+0.5)\n      corporateIncomeTax: 14.5, // Increased from 14 (+0.5)\n      gst: 5,\n      exciseTaxes: 2.6,\n      carbonPricing: 0.8,\n      eiPremiums: 1.3,\n      customsDuties: 1.1,\n      crownProfits: 2.7,\n      nonTaxRevenue: 3.5,\n      resourceRoyalties: 1.2\n    },\n    spending: {\n      healthcare: 0.8,\n      education: 0.85,\n      childrenAndFamilies: 0.75,\n      supportForSeniors: 0.9,\n      indigenousServices: 0.85,\n      defense: 0.95,\n      scienceAndInnovation: 0.9,\n      infrastructure: 0.9,\n      digitalGovernment: 0.85,\n      environmentAndClimateChange: 0.9,\n      carbonPricing: 0.9,\n      agriculture: 0.8,\n      internationalDevelopment: 0.7,\n      culturalPrograms: 0.9,\n      transit: 0.9,\n      economicDevelopment: 0.8,\n      indigenousOperations: 0.8,\n      diplomaticRepresentation: 0.8,\n      loansInvestments: {\n        studentLoans: 0.8,\n        agricultureLoans: 0.8,\n        internationalDevelopment: 0.7,\n        businessInnovation: 0.9,\n        defenseSector: 0.9,\n        economicDevelopment: 0.8\n      },\n      governmentOperations: {\n        transportationInfrastructure: 0.8,\n        environmentalPrograms: 0.7,\n        publicSafetyEmergency: 0.9,\n        governmentBuildings: 0.8,\n        researchInnovation: 0.8,\n        digitalGovernment: 0.85,\n        federalEmployeeSalaries: 0.8,\n        legalJusticeSystem: 0.9,\n        indigenousServicesOps: 0.8,\n        culturalPrograms: 0.7,\n        scientificResearch: 0.8,\n        diplomaticRepresentation: 0.8\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: -20,\n      corporateTaxExpenditures: -10,\n      gstExpenditures: -15,\n      taxDeferrals: -10\n    }\n  },\n\n  progressiveExpansion: {\n    label: \"🌿 Green Growth Stimulus\",\n    description:\n      \"An economic growth-focused approach that uses strategic deficits to stimulate the economy while staying under the $50B deficit threshold. This preset is designed to earn the 'Stimulus Commander' and 'Stimulus Engineer' badges.\",\n    revenue: {\n      personalIncomeTax: 23, // Increased from 22.5 (+0.5)\n      corporateIncomeTax: 17, // Increased from 16.5 (+0.5)\n      gst: 5.2,\n      exciseTaxes: 3.3, // Increased from 3.2 (+0.1)\n      carbonPricing: 2.3, // Increased from 2.2 (+0.1)\n      eiPremiums: 1.45,\n      customsDuties: 1.2,\n      crownProfits: 2.7,\n      nonTaxRevenue: 3.2,\n      resourceRoyalties: 1.4\n    },\n    spending: {\n      healthcare: 1.05,\n      education: 1.05,\n      childrenAndFamilies: 1.05,\n      supportForSeniors: 1,\n      indigenousServices: 1.1,\n      defense: 1,\n      scienceAndInnovation: 1.05,\n      infrastructure: 1.25, // Reduced from 1.3 (-0.05)\n      digitalGovernment: 1.1,\n      environmentAndClimateChange: 1.1,\n      carbonPricing: 1.05,\n      agriculture: 1.05,\n      internationalDevelopment: 1.1,\n      culturalPrograms: 1.05,\n      transit: 1.05,\n      economicDevelopment: 1.1,\n      indigenousOperations: 1.05,\n      diplomaticRepresentation: 1.05,\n      loansInvestments: {\n        studentLoans: 1.1,\n        agricultureLoans: 1.2,\n        internationalDevelopment: 1.1,\n        businessInnovation: 1.2,\n        defenseSector: 0.9,\n        economicDevelopment: 1.1\n      },\n      governmentOperations: {\n        transportationInfrastructure: 1.2,\n        environmentalPrograms: 1.4, // Reduced from 1.5 (-0.1)\n        publicSafetyEmergency: 1.1,\n        governmentBuildings: 1.1,\n        researchInnovation: 1.2, // Reduced from 1.3 (-0.1)\n        digitalGovernment: 1.1,\n        federalEmployeeSalaries: 1,\n        legalJusticeSystem: 1,\n        indigenousServicesOps: 1.1,\n        culturalPrograms: 1,\n        scientificResearch: 1.3,\n        diplomaticRepresentation: 1.1\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: 8,\n      corporateTaxExpenditures: -8,\n      gstExpenditures: 3,\n      taxDeferrals: -8\n    }\n  },\n\n  businessFriendly: {\n    label: \"💼 Business-Friendly Budget\",\n    description:\n      \"A pro-business approach that reduces corporate taxes and regulations to stimulate economic growth and job creation. This preset is designed to earn the 'Corporate Catalyst' and 'Business Friendly' badges.\",\n    revenue: {\n      personalIncomeTax: 20,\n      corporateIncomeTax: 11.5, // Reduced from 13.5 to be more business-friendly\n      gst: 5,\n      exciseTaxes: 2.5,\n      carbonPricing: 0, // Eliminated carbon tax to be truly business-friendly\n      eiPremiums: 1.4,\n      customsDuties: 0.9,\n      crownProfits: 2.5,\n      nonTaxRevenue: 3.4,\n      resourceRoyalties: 1.3\n    },\n    spending: {\n      healthcare: 0.95,\n      education: 0.95,\n      childrenAndFamilies: 0.9,\n      supportForSeniors: 0.95,\n      indigenousServices: 0.9,\n      defense: 1,\n      scienceAndInnovation: 0.95,\n      infrastructure: 0.95,\n      digitalGovernment: 0.9,\n      environmentAndClimateChange: 0.9,\n      carbonPricing: 0.9,\n      agriculture: 0.9,\n      internationalDevelopment: 0.8,\n      culturalPrograms: 0.9,\n      transit: 0.9,\n      economicDevelopment: 1.1,\n      indigenousOperations: 0.9,\n      diplomaticRepresentation: 1,\n      loansInvestments: {\n        studentLoans: 0.9,\n        agricultureLoans: 1,\n        internationalDevelopment: 0.8,\n        businessInnovation: 1.3,\n        defenseSector: 1.1,\n        economicDevelopment: 1.2\n      },\n      governmentOperations: {\n        transportationInfrastructure: 1.1,\n        environmentalPrograms: 0.8,\n        publicSafetyEmergency: 1,\n        governmentBuildings: 0.9,\n        researchInnovation: 1.1,\n        digitalGovernment: 1.1,\n        federalEmployeeSalaries: 0.9,\n        legalJusticeSystem: 1,\n        indigenousServicesOps: 0.9,\n        culturalPrograms: 0.8,\n        scientificResearch: 1.1,\n        diplomaticRepresentation: 1\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: -10,\n      corporateTaxExpenditures: 15, // Changed from -15 to +15 to increase tax credits\n      gstExpenditures: 0,\n      taxDeferrals: 20\n    }\n  },\n\n  infrastructureBuilder: {\n    label: \"🏗️ Infrastructure Builder\",\n    description:\n      \"A budget focused on major investments in physical infrastructure, transit, roads, bridges, broadband, water systems, and climate-resilient infrastructure, funded through moderate deficits and reallocated tax expenditures.\",\n    revenue: {\n      personalIncomeTax: 21,\n      corporateIncomeTax: 15.5, // Increased from 15 (+0.5)\n      gst: 5,\n      exciseTaxes: 2.6,\n      carbonPricing: 1.2,\n      eiPremiums: 1.4,\n      customsDuties: 1.1,\n      crownProfits: 2.6,\n      nonTaxRevenue: 3.4, // Increased from 3.3 (+0.1)\n      resourceRoyalties: 1.2\n    },\n    spending: {\n      healthcare: 1.0,\n      education: 1.0,\n      childrenAndFamilies: 1.0,\n      supportForSeniors: 1.0,\n      indigenousServices: 1.1,\n      defense: 1.0,\n      scienceAndInnovation: 1.1,\n      infrastructure: 1.4, // Reduced from 1.5 (-0.1)\n      digitalGovernment: 1.2,\n      environmentAndClimateChange: 1.2,\n      carbonPricing: 1.0,\n      agriculture: 1.1,\n      internationalDevelopment: 1.0,\n      culturalPrograms: 1.0,\n      transit: 1.3, // Reduced from 1.4 (-0.1)\n      economicDevelopment: 1.2,\n      indigenousOperations: 1.1,\n      diplomaticRepresentation: 1.0,\n      loansInvestments: {\n        studentLoans: 1.0,\n        agricultureLoans: 1.1,\n        internationalDevelopment: 1.0,\n        businessInnovation: 1.2,\n        defenseSector: 1.0,\n        economicDevelopment: 1.2\n      },\n      governmentOperations: {\n        transportationInfrastructure: 1.5, // Reduced from 1.6 (-0.1)\n        environmentalPrograms: 1.3,\n        publicSafetyEmergency: 1.1,\n        governmentBuildings: 1.2,\n        researchInnovation: 1.2,\n        digitalGovernment: 1.3,\n        federalEmployeeSalaries: 1.0,\n        legalJusticeSystem: 1.0,\n        indigenousServicesOps: 1.1,\n        culturalPrograms: 1.0,\n        scientificResearch: 1.2,\n        diplomaticRepresentation: 1.0\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: 5,\n      corporateTaxExpenditures: 5,\n      gstExpenditures: 0,\n      taxDeferrals: 0\n    }\n  },\n\n  greenGrowthStimulus: {\n    label: \"🌱 Progressive Expansion\",\n    description:\n      \"A social democratic approach that invests in public services and social programs, funded by higher taxes on corporations and high-income earners. This preset is tailored to trigger key social and balanced badges including Progressive Moderate, Urban Optimizer, Welfare Architect, Senior Ally, Family Champion, Equity Champion, and Social Safety Weaver.\",\n    revenue: {\n      personalIncomeTax: 24.5, // Increased from 24 (+0.5)\n      corporateIncomeTax: 19.5, // Increased from 19 (+0.5)\n      gst: 5.2,\n      exciseTaxes: 3.1, // Increased from 3.0 (+0.1)\n      carbonPricing: 2.0, // Increased from 1.8 (+0.2)\n      eiPremiums: 1.5,\n      customsDuties: 1.2,\n      crownProfits: 2.7,\n      nonTaxRevenue: 3.2,\n      resourceRoyalties: 1.3\n    },\n    spending: {\n      healthcare: 1.15, // Reduced from 1.25 (-0.10)\n      education: 1.1, // Reduced from 1.2 (-0.10)\n      childrenAndFamilies: 1.2, // Reduced from 1.3 (-0.10)\n      supportForSeniors: 1.1, // Reduced from 1.2 (-0.10)\n      indigenousServices: 1.25,\n      defense: 1,\n      scienceAndInnovation: 1.05,\n      infrastructure: 1.05,\n      digitalGovernment: 1.15,\n      environmentAndClimateChange: 1.05,\n      carbonPricing: 1,\n      agriculture: 1,\n      internationalDevelopment: 1.2,\n      culturalPrograms: 1.15,\n      transit: 1.1,\n      economicDevelopment: 1.15,\n      indigenousOperations: 1,\n      diplomaticRepresentation: 1,\n      loansInvestments: {\n        studentLoans: 1.3,\n        agricultureLoans: 1.1,\n        internationalDevelopment: 1.2,\n        businessInnovation: 1.1,\n        defenseSector: 0.9,\n        economicDevelopment: 1.15\n      },\n      governmentOperations: {\n        transportationInfrastructure: 1.2,\n        environmentalPrograms: 1.3,\n        publicSafetyEmergency: 1,\n        governmentBuildings: 1,\n        researchInnovation: 1.2,\n        digitalGovernment: 1.15,\n        federalEmployeeSalaries: 1.1,\n        legalJusticeSystem: 1.05,\n        indigenousServicesOps: 1.2,\n        culturalPrograms: 1.15,\n        scientificResearch: 1.2,\n        diplomaticRepresentation: 1\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: 20,\n      corporateTaxExpenditures: 10,\n      gstExpenditures: 10,\n      taxDeferrals: 0\n    }\n  },\n\n  securityFirst: {\n    label: \"🛡️ Security-First Budget\",\n    description:\n      \"A defense and security-oriented approach that prioritizes national security, defense, and public safety. This preset is designed to earn the 'National Security Guardian' and 'Peace Through Strength' badges.\",\n    revenue: {\n      personalIncomeTax: 21,\n      corporateIncomeTax: 15.5, // Increased from 15 (+0.5)\n      gst: 5.6, // Increased from 5.5 (+0.1)\n      exciseTaxes: 2.7,\n      carbonPricing: 0.9,\n      eiPremiums: 1.35,\n      customsDuties: 1.2,\n      crownProfits: 2.5,\n      nonTaxRevenue: 3.2,\n      resourceRoyalties: 1.1\n    },\n    spending: {\n      healthcare: 0.95,\n      education: 0.95,\n      childrenAndFamilies: 0.95,\n      supportForSeniors: 1,\n      indigenousServices: 0.95,\n      defense: 1.35, // Reduced from 1.4 (-0.05)\n      scienceAndInnovation: 1,\n      infrastructure: 1,\n      digitalGovernment: 1.05,\n      environmentAndClimateChange: 0.95,\n      carbonPricing: 0.95,\n      agriculture: 0.95,\n      internationalDevelopment: 0.95,\n      culturalPrograms: 1.0, // Reduced from 1.1 (-0.1)\n      transit: 0.95,\n      economicDevelopment: 1,\n      indigenousOperations: 0.95,\n      diplomaticRepresentation: 1.1, // Reduced from 1.2 (-0.1)\n      loansInvestments: {\n        studentLoans: 0.9,\n        agricultureLoans: 0.9,\n        internationalDevelopment: 0.8,\n        businessInnovation: 1,\n        defenseSector: 1.4,\n        economicDevelopment: 0.9\n      },\n      governmentOperations: {\n        transportationInfrastructure: 1.1,\n        environmentalPrograms: 0.9,\n        publicSafetyEmergency: 1.3,\n        governmentBuildings: 1,\n        researchInnovation: 1.1,\n        digitalGovernment: 1.2,\n        federalEmployeeSalaries: 1.05,\n        legalJusticeSystem: 1.2,\n        indigenousServicesOps: 0.95,\n        culturalPrograms: 0.9,\n        scientificResearch: 1.1,\n        diplomaticRepresentation: 1.1\n      }\n    },\n    taxExpenditures: {\n      personalTaxCredits: -5,\n      corporateTaxExpenditures: 10,\n      gstExpenditures: -5,\n      taxDeferrals: 0\n    }\n  }\n};\n\n/**\n * Apply a budget preset to the budget simulator.\n * @param {string} presetKey - The key of the preset to apply.\n * @param {object} store - The budget simulator store instance.\n */\nexport function setPreset(presetKey, store) {\n  console.log(\n    '%c[PRESET DEBUG] setPreset called with:',\n    'background: #e74c3c; color: white; padding: 2px 5px; border-radius: 3px;',\n    presetKey\n  );\n  \n  // Change tracking is handled automatically by store during batch operations\n\n  const preset = budgetPresets[presetKey];\n\n  if (!preset) {\n    console.error(`Preset \"${presetKey}\" not found`);\n    return;\n  }\n\n  // --- DEBUG LOG for preset application ---\n  if (presetKey === 'businessFriendly') {\n    console.log('%c[PRESET][DEBUG] Applying Business-Friendly preset', 'background: #2ecc40; color: white; padding: 2px 5px; border-radius: 3px;');\n  } else {\n    console.log(`%c[PRESET][DEBUG] Applying preset: ${presetKey}`, 'background: #3498db; color: white; padding: 2px 5px; border-radius: 3px;');\n  }\n\n  // Start batch update - this prevents partial sentiment updates\n  if (!store.beginBatchUpdate()) {\n    console.error(`Cannot apply preset \"${presetKey}\" - another batch update is in progress`);\n    return;\n  }\n\n  try {\n    // Log the initial state before applying preset\n    console.log('%c[PRESET DEBUG] Initial store state:', 'color: #3498db;', {\n      activePreset: store.activePreset,\n      badges: store.badges.map((b) => b.title)\n    });\n\n    // Demographic-specific multipliers for different presets\n    const demographicMultipliers = {\n      austerityPlan: {\n        seniors: 1.2,      // Seniors more sensitive to austerity\n        families: 1.3,     // Families strongly affected by cuts\n        youth: 1.4,        // Youth most affected by austerity\n        workers: 1.2,      // Workers affected by job cuts\n        students: 1.3,     // Students affected by education cuts\n        indigenousPeoples: 1.3, // Indigenous services often cut\n        veterans: 1.2      // Veterans services often cut\n      },\n      businessFriendly: {\n        smallBusinessOwners: 1.4, // Strong positive for small business\n        techWorkers: 1.3,         // Good for tech sector\n        workers: 1.2,             // Generally positive for workers\n        renters: 1.1,             // Slightly positive for renters\n        youth: 1.2                // Good for job creation\n      },\n      progressiveExpansion: {\n        families: 1.4,            // Strong support for families\n        youth: 1.3,               // Good for youth programs\n        seniors: 1.2,             // Support for seniors\n        indigenousPeoples: 1.3,    // Support for indigenous services\n        renters: 1.3,             // Housing support\n        workers: 1.2              // Worker support\n      },\n      greenGrowthStimulus: {\n        youth: 1.4,               // Strong climate action\n        urban: 1.3,               // Urban environmental programs\n        rural: 1.2,               // Rural environmental programs\n        indigenousPeoples: 1.3,    // Indigenous environmental stewardship\n        workers: 1.2              // Green jobs\n      },\n      securityFirst: {\n        veterans: 1.4,            // Strong support for veterans\n        seniors: 1.2,             // Security concerns\n        families: 1.2,            // Family security\n        workers: 1.1              // Defense jobs\n      }\n    };\n\n    // Get the demographic multipliers for this preset\n    const demoMultipliers = demographicMultipliers[presetKey] || {};\n\n    // Province-specific multipliers for different presets\n    const provinceMultipliers = {\n      austerityPlan: {\n        Ontario: 1.2,      // Sensitive to economic competitiveness\n        Quebec: 1.3,       // Strong reaction to social program cuts\n        BritishColumbia: 1.2, // Environmental concerns\n        Alberta: 1.4,      // Strong reaction to carbon pricing\n        Manitoba: 1.1,     // Moderate reaction\n        Saskatchewan: 1.3,  // Resource sector sensitivity\n        NovaScotia: 1.2,   // Healthcare sensitivity\n        NewBrunswick: 1.1,  // Moderate reaction\n        Nunavut: 1.3,      // Indigenous services sensitivity\n        \"Prince Edward Island\": 1.1, // Moderate reaction\n        \"Newfoundland and Labrador\": 1.2, // Resource sensitivity\n        \"Northwest Territories\": 1.2, // Indigenous services\n        Yukon: 1.1         // Moderate reaction\n      },\n      businessFriendly: {\n        Ontario: 1.4,      // Strong positive for business\n        Quebec: 1.2,       // Moderate business support\n        BritishColumbia: 1.3, // Tech sector boost\n        Alberta: 1.5,      // Strong resource sector support\n        Manitoba: 1.2,     // Moderate support\n        Saskatchewan: 1.3,  // Resource sector support\n        NovaScotia: 1.1,   // Moderate support\n        NewBrunswick: 1.2,  // Moderate support\n        Nunavut: 1.1,      // Limited impact\n        \"Prince Edward Island\": 1.1, // Limited impact\n        \"Newfoundland and Labrador\": 1.2, // Resource support\n        \"Northwest Territories\": 1.2, // Resource support\n        Yukon: 1.1         // Limited impact\n      },\n      progressiveExpansion: {\n        Ontario: 1.3,      // Urban support\n        Quebec: 1.4,       // Strong social program support\n        BritishColumbia: 1.3, // Environmental support\n        Alberta: 1.1,      // Limited support\n        Manitoba: 1.2,     // Moderate support\n        Saskatchewan: 1.1,  // Limited support\n        NovaScotia: 1.3,   // Healthcare support\n        NewBrunswick: 1.2,  // Moderate support\n        Nunavut: 1.4,      // Indigenous support\n        \"Prince Edward Island\": 1.2, // Moderate support\n        \"Newfoundland and Labrador\": 1.2, // Moderate support\n        \"Northwest Territories\": 1.3, // Indigenous support\n        Yukon: 1.3         // Environmental support\n      },\n      greenGrowthStimulus: {\n        Ontario: 1.3,      // Urban environmental support\n        Quebec: 1.4,       // Strong climate action\n        BritishColumbia: 1.5, // Environmental leadership\n        Alberta: 1.1,      // Limited support\n        Manitoba: 1.2,     // Moderate support\n        Saskatchewan: 1.1,  // Limited support\n        NovaScotia: 1.3,   // Coastal climate action\n        NewBrunswick: 1.2,  // Moderate support\n        Nunavut: 1.3,      // Indigenous stewardship\n        \"Prince Edward Island\": 1.2, // Moderate support\n        \"Newfoundland and Labrador\": 1.2, // Moderate support\n        \"Northwest Territories\": 1.3, // Indigenous stewardship\n        Yukon: 1.4         // Environmental leadership\n      },\n      securityFirst: {\n        Ontario: 1.2,      // Urban security\n        Quebec: 1.2,       // Moderate support\n        BritishColumbia: 1.2, // Coastal security\n        Alberta: 1.3,      // Resource security\n        Manitoba: 1.1,     // Moderate support\n        Saskatchewan: 1.1,  // Moderate support\n        NovaScotia: 1.3,   // Maritime security\n        NewBrunswick: 1.2,  // Moderate support\n        Nunavut: 1.4,      // Arctic security\n        \"Prince Edward Island\": 1.1, // Limited impact\n        \"Newfoundland and Labrador\": 1.3, // Maritime security\n        \"Northwest Territories\": 1.4, // Arctic security\n        Yukon: 1.3         // Arctic security\n      }\n    };\n\n    // Get the province multipliers for this preset\n    const provMultipliers = provinceMultipliers[presetKey] || {};\n\n    // Sector-specific multipliers for different presets\n    const sectorMultipliers = {\n      businessFriendly: {\n        business: 1.4,        // General business sector\n        realEstate: 1.5,      // Increased from 1.3 to 1.5 for stronger real estate response\n        finance: 1.5,         // Increased from 1.3 to 1.5 for stronger finance response\n        technology: 1.3,      // Tech sector\n        manufacturing: 1.3,   // Manufacturing sector\n        energy: 1.4,         // Energy sector\n        agriculture: 1.2,     // Agriculture sector\n        tourism: 1.2,        // Tourism sector\n        creativeIndustries: 1.2, // Creative industries\n        publicSector: 1.1     // Public sector\n      }\n    };\n\n    // Get the sector multipliers for this preset\n    const activeSectorMultipliers = sectorMultipliers[presetKey] || {};\n\n    // Apply revenue settings with enhanced reactivity\n    console.log('%c[PRESET DEBUG] Applying revenue settings:', 'color: #3498db;');\n    Object.entries(preset.revenue).forEach(([sourceId, rate]) => {\n      let adjustedRate = rate;\n\n      // Apply sector-specific adjustments to revenue rates\n      if (sourceId === \"corporateIncomeTax\") {\n        if (presetKey === \"businessFriendly\") {\n          // Stronger reduction for business-friendly sectors\n          const sectorFactor = Math.max(\n            ...Object.entries(activeSectorMultipliers)\n              .filter(([sector]) => ['business', 'realEstate', 'finance'].includes(sector))\n              .map(([, factor]) => factor)\n          );\n          adjustedRate = Math.max(rate * 0.75, rate - (2.5 * sectorFactor));\n        }\n      } else if (sourceId === \"carbonPricing\") {\n        if (presetKey === \"greenGrowthStimulus\") {\n          // Stronger increase for environmentally conscious sectors\n          const sectorFactor = Math.max(\n            ...Object.entries(activeSectorMultipliers)\n              .filter(([sector]) => ['energy', 'agriculture', 'tourism'].includes(sector))\n              .map(([, factor]) => factor)\n          );\n          adjustedRate = Math.min(rate * 1.2, rate + (1 * sectorFactor));\n        }\n      }\n\n      console.log('%c[PRESET DEBUG] Applying revenue rate:', 'background: #e74c3c; color: white; padding: 2px 5px;', {\n        sourceId,\n        originalRate: rate,\n        adjustedRate,\n        presetKey\n      });\n      \n      store.updateRevenueRate(sourceId, adjustedRate);\n    });\n\n    // Apply spending settings with sector-specific adjustments\n    // Map preset spending keys to store category IDs where names differ\n    const spendingAliasMap = {\n      // Top-level main spending\n      supportForSeniors: 'seniors',\n      childrenAndFamilies: 'childrenFamilies',\n      defense: 'defensePublicSafety',\n      // Government operations (children)\n      environmentAndClimateChange: 'environmentalPrograms',\n      scienceAndInnovation: 'researchInnovation',\n      infrastructure: 'transportationInfrastructure',\n      transit: 'transportationInfrastructure',\n      culturalPrograms: 'culturalHeritage',\n      indigenousOperations: 'indigenousServicesOps',\n      // Approximate mappings\n      agriculture: 'agricultureLoans',\n      // carbonPricing appears only as revenue; skip mapping to spending\n    };\n    const mapSpendingKey = (key) => spendingAliasMap[key] || key;\n\n    console.log('%c[PRESET DEBUG] Applying spending factors:', 'color: #2ecc71;');\n    Object.entries(preset.spending).forEach(([categoryId, value]) => {\n      if (typeof value === \"object\") {\n        Object.entries(value).forEach(([subCategoryId, factor]) => {\n          const mappedSubId = mapSpendingKey(subCategoryId);\n          const enhancedFactor = enhanceFactorForCategory(\n            mappedSubId,\n            factor,\n            presetKey,\n            demoMultipliers,\n            provMultipliers,\n            activeSectorMultipliers\n          );\n          if (mappedSubId !== 'carbonPricing') {\n            store.updateSpendingFactor(mappedSubId, enhancedFactor);\n          } else {\n            console.warn('[PRESET DEBUG] Skipping spending key mapped to revenue-only source:', subCategoryId);\n          }\n        });\n      } else {\n        const mappedId = mapSpendingKey(categoryId);\n        const enhancedFactor = enhanceFactorForCategory(\n          mappedId,\n          value,\n          presetKey,\n          demoMultipliers,\n          provMultipliers,\n          activeSectorMultipliers\n        );\n        if (mappedId !== 'carbonPricing') {\n          store.updateSpendingFactor(mappedId, enhancedFactor);\n        } else {\n          console.warn('[PRESET DEBUG] Skipping spending key mapped to revenue-only source:', categoryId);\n        }\n      }\n    });\n\n    // Apply tax expenditure adjustments with enhanced reactivity\n    console.log(\n      '%c[PRESET DEBUG] Applying tax expenditure adjustments:',\n      'color: #9b59b6;'\n    );\n    Object.entries(preset.taxExpenditures).forEach(([expenditureId, adjustment]) => {\n      // Apply demographic-specific adjustments to tax expenditures\n      let enhancedAdjustment = adjustment;\n      if (expenditureId === \"personalTaxCredits\") {\n        if (presetKey === \"progressiveExpansion\") {\n          enhancedAdjustment = Math.max(adjustment * 1.2, adjustment + 5);\n        } else if (presetKey === \"austerityPlan\") {\n          enhancedAdjustment = Math.min(adjustment * 0.8, adjustment - 5);\n        }\n      }\n      store.updateTaxExpenditureAdjustment(expenditureId, enhancedAdjustment);\n    });\n\n    // Set active preset before completing batch update\n    store.activePreset = presetKey;\n    \n    // Track the preset application\n    store.trackPresetApplication(presetKey, preset.label);\n    \n    // Update badges (part of batch completion)\n    store.updateBadges();\n    \n    // Complete the batch update - this triggers recalculation and sentiment updates\n    store.completeBatchUpdate();\n    \n    // Log the final state after applying preset\n    console.log('%c[PRESET DEBUG] Final store state after preset applied:', 'color: #1abc9c;', {\n      activePreset: store.activePreset,\n      badges: store.badges.map((b) => b.title),\n      stateVersion: store.stateVersion\n    });\n    \n    console.log(`Successfully applied \"${preset.label}\" preset with activePreset: ${presetKey}`);\n    \n    return true;\n  } catch (error) {\n    console.error(`Error applying preset \"${presetKey}\":`, error);\n    // Still complete the batch to avoid leaving the store in an inconsistent state\n    store.completeBatchUpdate();\n    \n    return false;\n  }\n}\n\n/**\n * Helper function to enhance spending factors based on category, demographic, province, and sector multipliers.\n */\nfunction enhanceFactorForCategory(categoryId, factor, presetKey, demoMultipliers, provMultipliers, sectorMultipliers) {\n  // Map categories to relevant sectors\n  const categorySectors = {\n    infrastructure: ['realEstate', 'business', 'finance'],\n    economicDevelopment: ['business', 'finance', 'realEstate'],\n    digitalGovernment: ['technology', 'finance', 'business'],\n    housing: ['realEstate', 'finance', 'business'],\n    transit: ['realEstate', 'business'],\n    environmentAndClimateChange: ['realEstate', 'business'],\n    publicSafety: ['realEstate', 'business'],\n    loansInvestments: ['finance', 'business', 'realEstate'],\n    businessInnovation: ['business', 'finance', 'technology'],\n    defenseSector: ['business', 'finance']\n  };\n\n  // Get relevant sectors for this category\n  const relevantSectors = categorySectors[categoryId] || [];\n  \n  // Calculate the average multiplier from relevant sectors\n  let totalSectorMultiplier = 1.0;\n  let sectorCount = 0;\n  \n  relevantSectors.forEach(sector => {\n    if (sectorMultipliers[sector]) {\n      totalSectorMultiplier *= sectorMultipliers[sector];\n      sectorCount++;\n    }\n  });\n\n  // Apply the geometric mean of relevant sector multipliers\n  const finalSectorMultiplier = sectorCount > 0 ? Math.pow(totalSectorMultiplier, 1/sectorCount) : 1.0;\n  \n  // Map categories to relevant provinces\n  const categoryProvinces = {\n    healthcare: ['Ontario', 'Quebec', 'NovaScotia', 'NewBrunswick'],\n    education: ['Ontario', 'Quebec', 'BritishColumbia'],\n    childrenAndFamilies: ['Quebec', 'Ontario', 'BritishColumbia'],\n    supportForSeniors: ['NovaScotia', 'NewBrunswick', 'Ontario'],\n    indigenousServices: ['Nunavut', 'NorthwestTerritories', 'Yukon'],\n    defense: ['NovaScotia', 'Newfoundland and Labrador', 'NorthwestTerritories'],\n    scienceAndInnovation: ['Ontario', 'BritishColumbia', 'Quebec'],\n    infrastructure: ['Ontario', 'Alberta', 'BritishColumbia'],\n    digitalGovernment: ['Ontario', 'BritishColumbia', 'Quebec'],\n    environmentAndClimateChange: ['BritishColumbia', 'Quebec', 'Yukon'],\n    carbonPricing: ['Alberta', 'Saskatchewan', 'BritishColumbia'],\n    agriculture: ['Saskatchewan', 'Manitoba', 'Alberta'],\n    internationalDevelopment: ['Ontario', 'Quebec', 'BritishColumbia'],\n    culturalPrograms: ['Quebec', 'Ontario', 'BritishColumbia'],\n    transit: ['Ontario', 'Quebec', 'BritishColumbia'],\n    economicDevelopment: ['Ontario', 'Alberta', 'BritishColumbia']\n  };\n\n  // Get relevant provinces for this category\n  const relevantProvinces = categoryProvinces[categoryId] || [];\n  \n  // Calculate the average multiplier from relevant provinces\n  let totalProvMultiplier = 1.0;\n  let provCount = 0;\n  \n  relevantProvinces.forEach(province => {\n    if (provMultipliers[province]) {\n      totalProvMultiplier *= provMultipliers[province];\n      provCount++;\n    }\n  });\n\n  // Apply the geometric mean of relevant province multipliers\n  const finalProvMultiplier = provCount > 0 ? Math.pow(totalProvMultiplier, 1/provCount) : 1.0;\n  \n  // Map categories to relevant demographics\n  const categoryDemographics = {\n    healthcare: ['seniors', 'families', 'indigenousPeoples', 'veterans'],\n    education: ['youth', 'students', 'families'],\n    childrenAndFamilies: ['families', 'youth'],\n    supportForSeniors: ['seniors', 'veterans'],\n    indigenousServices: ['indigenousPeoples'],\n    defense: ['veterans', 'workers'],\n    scienceAndInnovation: ['techWorkers', 'students'],\n    infrastructure: ['workers', 'urban', 'rural'],\n    digitalGovernment: ['techWorkers', 'urban'],\n    environmentAndClimateChange: ['youth', 'urban', 'rural'],\n    housing: ['renters', 'families', 'youth'],\n    transit: ['urban', 'workers', 'students'],\n    economicDevelopment: ['workers', 'smallBusinessOwners'],\n    mentalHealth: ['youth', 'veterans', 'seniors'],\n    culturalPrograms: ['indigenousPeoples', 'urban'],\n    skillsDevelopment: ['workers', 'youth', 'students']\n  };\n\n  // Get relevant demographics for this category\n  const relevantDemos = categoryDemographics[categoryId] || [];\n  \n  // Calculate the average multiplier from relevant demographics\n  let totalDemoMultiplier = 1.0;\n  let demoCount = 0;\n  \n  relevantDemos.forEach(demo => {\n    if (demoMultipliers[demo]) {\n      totalDemoMultiplier *= demoMultipliers[demo];\n      demoCount++;\n    }\n  });\n\n  const finalDemoMultiplier = demoCount > 0 ? Math.pow(totalDemoMultiplier, 1/demoCount) : 1.0;\n  \n  // Combine all multipliers (sector, province, and demographic)\n  const finalMultiplier = Math.pow(\n    finalSectorMultiplier * finalProvMultiplier * finalDemoMultiplier,\n    1/3\n  );\n  \n  // Apply the multiplier with dampening for increases\n  if (factor > 1) {\n    return factor * Math.sqrt(finalMultiplier);\n  } else if (factor < 1) {\n    return factor * finalMultiplier;\n  }\n  return factor;\n}\n","// Enhanced debouncing utilities for consistent performance optimization\nimport debounce from 'lodash.debounce';\nimport throttle from 'lodash.throttle';\n\n// Standard debounce delay for most inputs\nexport const STANDARD_DEBOUNCE_DELAY = 200;\n\n// Shorter delay for immediate feedback\nexport const FAST_DEBOUNCE_DELAY = 100;\n\n// Longer delay for expensive operations\nexport const SLOW_DEBOUNCE_DELAY = 300;\n\n// Create debounced function with consistent configuration\nexport function createDebouncedFunction(func, delay = STANDARD_DEBOUNCE_DELAY) {\n  return debounce(func, delay, {\n    leading: false,\n    trailing: true,\n    maxWait: delay * 2\n  });\n}\n\n// Create throttled function for real-time feedback\nexport function createThrottledFunction(func, delay = FAST_DEBOUNCE_DELAY) {\n  return throttle(func, delay, {\n    leading: true,\n    trailing: true\n  });\n}\n\n// Debounced store update with loading state management\nexport function createStoreUpdateWithLoading(store, updateMethod, loadingKey = 'isUpdating') {\n  const debouncedUpdate = createDebouncedFunction(async (...args) => {\n    try {\n      if (loadingKey && store[loadingKey] !== undefined) {\n        store[loadingKey] = true;\n      }\n      await updateMethod.apply(store, args);\n    } finally {\n      if (loadingKey && store[loadingKey] !== undefined) {\n        store[loadingKey] = false;\n      }\n    }\n  }, STANDARD_DEBOUNCE_DELAY);\n\n  return debouncedUpdate;\n} ","// Party Budgets Data & Sharing Functionality\n// This file contains data for the 2025 party budgets and functions to generate shareable links\n\nimport { handleError } from '@/utils/errorHandler.js';\nimport { ref } from 'vue';\n\nexport const partyBudgetErrorMessage = ref('');\n\n/**\n * Budget data for Canadian political parties (2025 projections)\n */\nexport const partyBudgets = {\n  liberal: {\n    id: \"liberal\",\n    name: \"Liberal Party Budget 2025\",\n    description: \"This budget represents the Liberal fiscal approach focusing on nation-building investments, moderate deficits, and stabilizing the debt-to-GDP ratio.\",\n    buttonColor: \"#d71920\", // Liberal red\n\n    revenues: {\n      personalIncomeTax: 22,\n      corporateIncomeTax: 14,\n      gst: 5,\n      carbonPricing: 1.5,\n      exciseTaxes: 2,\n      eiPremiums: 1.5,\n      customsDuties: 1,\n      crownProfits: 2,\n      nonTaxRevenue: 4,\n      resourceRoyalties: 1\n    },\n\n    spending: {\n      healthcare: 1.2,\n      supportForSeniors: 1.1,\n      childrenAndFamilies: 1.15,\n      indigenousServices: 1.25,\n      employmentInsuranceBenefits: 1.1,\n      defense: 1.3,\n      publicSafetyEmergency: 1.05,\n      internationalAffairs: 1.1,\n      publicDebtCharges: 1.0,\n      loansInvestments: 1.5,\n      otherGovernmentOperations: 1.05\n    },\n\n    highlights: [\n      \"Significant infrastructure and defense investments (~C$129B over 4 years)\",\n      \"Moderate deficits averaging ~C$50B/year (~1.6–2% of GDP)\",\n      \"No wealth tax; maintains competitive corporate tax rates\",\n      \"Golden Rule: Borrowing only for capital, not operating expenses by 2028\",\n      \"Healthcare, Indigenous services, and green infrastructure prioritized\"\n    ]\n  },\n\n  conservative: {\n    id: \"conservative\",\n    name: \"Conservative Party Budget 2025\",\n    description: \"This budget represents the Conservative fiscal approach emphasizing tax cuts, spending restraint, and aggressive deficit reduction.\",\n    buttonColor: \"#0e4883\", // Conservative blue\n\n    revenues: {\n      personalIncomeTax: 20,\n      corporateIncomeTax: 13,\n      gst: 5,\n      carbonPricing: 0,\n      exciseTaxes: 2,\n      eiPremiums: 1.4,\n      customsDuties: 1,\n      crownProfits: 2,\n      nonTaxRevenue: 2,\n      resourceRoyalties: 1\n    },\n\n    spending: {\n      healthcare: 1.05,\n      supportForSeniors: 1.0,\n      childrenAndFamilies: 1.0,\n      indigenousServices: 0.95,\n      employmentInsuranceBenefits: 1.0,\n      defense: 1.15,\n      publicSafetyEmergency: 1.1,\n      internationalAffairs: 0.9,\n      publicDebtCharges: 1.0,\n      loansInvestments: 0.8,\n      otherGovernmentOperations: 0.9\n    },\n\n    highlights: [\n      \"Sharp cuts to program spending (~C$34B in efficiencies)\",\n      \"Major tax cuts: personal income tax rate dropped by 5%, carbon tax eliminated\",\n      \"Assumes ~C$60B in economic growth dividend from deregulation\",\n      \"Deficit cut by more than 50% over four years\",\n      \"Debt-to-GDP ratio declines steadily without new taxes\"\n    ]\n  },\n\n  ndp: {\n    id: \"ndp\",\n    name: \"New Democratic Party Budget 2025\",\n    description: \"This budget represents the NDP fiscal approach focused on massive social program expansion, funded by significant new taxes on corporations and wealth.\",\n    buttonColor: \"#f58220\", // NDP orange\n\n    revenues: {\n      personalIncomeTax: 23,\n      corporateIncomeTax: 18,\n      gst: 4,\n      carbonPricing: 1.5,\n      exciseTaxes: 2.5,\n      eiPremiums: 1.5,\n      customsDuties: 2,\n      crownProfits: 2,\n      nonTaxRevenue: 3,\n      resourceRoyalties: 1\n    },\n\n    spending: {\n      healthcare: 1.3,\n      supportForSeniors: 1.2,\n      childrenAndFamilies: 1.3,\n      indigenousServices: 1.35,\n      employmentInsuranceBenefits: 1.15,\n      defense: 0.9,\n      publicSafetyEmergency: 1.0,\n      internationalAffairs: 1.0,\n      publicDebtCharges: 1.1,\n      loansInvestments: 1.0,\n      otherGovernmentOperations: 1.2\n    },\n\n    highlights: [\n      \"Universal pharmacare, dental care, housing programs massively expanded\",\n      \"1–3% wealth tax introduced on fortunes above C$10M\",\n      \"Corporate tax increased by 2 percentage points\",\n      \"GST eliminated on home heating, essential goods\",\n      \"Moderate ongoing deficits (~C$30–45B/year) but declining debt-to-GDP trend\"\n    ]\n  }\n};\n\n/**\n * Apply a party budget to the budget simulator, updating all sliders and values\n * @param {string} partyId - The ID of the party (liberal, conservative, ndp)\n * @param {object} budgetStore - The budget simulator store\n * @returns {boolean} Success status\n */\nexport function applyPartyBudget(partyId, budgetStore) {\n  const partyData = partyBudgets[partyId];\n  if (!partyData) {\n    handleError(new Error(`Party budget data not found for: ${partyId}`), (msg) => partyBudgetErrorMessage.value = msg);\n    return false;\n  }\n\n  console.log(`Applying ${partyId} party budget...`);\n\n  // Start batch update to prevent partial sentiment updates\n  if (budgetStore.beginBatchUpdate && typeof budgetStore.beginBatchUpdate === 'function') {\n    if (!budgetStore.beginBatchUpdate()) {\n      handleError(new Error(`Cannot apply party budget \"${partyId}\" - another batch update is in progress`), (msg) => partyBudgetErrorMessage.value = msg);\n      return false;\n    }\n  }\n\n  try {\n    // Set active preset flag to indicate which party budget is active\n    // This is used by the sentiment calculation system to apply party-specific modifiers\n    if (budgetStore.activePreset !== undefined) {\n      budgetStore.activePreset = `party-${partyId}`;\n      console.log(`Set active preset to party-${partyId} for sentiment calculation`);\n    }\n\n    // Apply revenue settings\n    Object.entries(partyData.revenues).forEach(([sourceId, rate]) => {\n      if (budgetStore.setRevenueRate && typeof budgetStore.setRevenueRate === 'function') {\n        budgetStore.setRevenueRate(sourceId, rate);\n      } else if (budgetStore.updateRevenueRate && typeof budgetStore.updateRevenueRate === 'function') {\n        budgetStore.updateRevenueRate(sourceId, rate);\n      }\n    });\n\n    // Apply spending settings\n    Object.entries(partyData.spending).forEach(([categoryId, factor]) => {\n      if (budgetStore.updateSpendingFactor && typeof budgetStore.updateSpendingFactor === 'function') {\n        budgetStore.updateSpendingFactor(categoryId, factor);\n      }\n    });\n\n    return true;\n  } catch (error) {\n    handleError(error, (msg) => partyBudgetErrorMessage.value = msg);\n    return false;\n  } finally {\n    // Complete batch update\n    if (budgetStore.completeBatchUpdate && typeof budgetStore.completeBatchUpdate === 'function') {\n      budgetStore.completeBatchUpdate();\n    }\n  }\n}\n\n/**\n * Generate a shareable URL for a party budget\n * @param {string} partyId - The ID of the party (liberal, conservative, ndp)\n * @param {string} baseUrl - Optional base URL, defaults to current location\n * @returns {string} The full URL with parameters\n */\nexport function generatePartyBudgetUrl(partyId, baseUrl = null) {\n  const partyData = partyBudgets[partyId];\n  if (!partyData) {\n    console.error(`Party budget data not found for: ${partyId}`);\n    return null;\n  }\n\n  baseUrl = baseUrl || window.location.origin + window.location.pathname;\n  const params = new URLSearchParams();\n\n  params.set('title', partyData.name);\n  params.set('description', partyData.description);\n  params.set('partyId', partyId);\n  params.set('partyColor', partyData.buttonColor || '');\n\n  Object.entries(partyData.revenues).forEach(([key, value]) => {\n    params.set(`r_${key}`, value);\n  });\n\n  Object.entries(partyData.spending).forEach(([key, value]) => {\n    params.set(`s_${key}`, value);\n  });\n\n  if (partyData.highlights && partyData.highlights.length) {\n    params.set('highlights', partyData.highlights.join('|'));\n  }\n\n  return `${baseUrl}?${params.toString()}`;\n}\n\n/**\n * Get the list of available party budgets for UI\n * @returns {Array} List of party data objects with id, name, color\n */\nexport function getAvailablePartyBudgets() {\n  return Object.values(partyBudgets).map(party => ({\n    id: party.id,\n    name: party.name,\n    description: party.description,\n    buttonColor: party.buttonColor\n  }));\n}\n","/* eslint-disable */\n<template>\n  <div\n    class=\"finance-minister-simulator\"\n    :class=\"{ 'panel-collapsed': !badgePanelExpanded }\"\n  >\n    <OnboardingTour />\n    <!-- Public Sentiment Banner (includes fiscal chaos warning when needed) -->\n    <CollapsibleSentimentBanner\n      :emoji=\"groupSentimentEmoji\"\n      :score=\"groupSentimentScore\"\n      :label=\"groupSentimentLabel\"\n      :selected-groups=\"selectedGroups\"\n      :fiscal-chaos=\"fiscalChaos\"\n      @update:selectedGroups=\"selectedGroups = $event\"\n    />\n    \n    <!-- Retractable Badge Panel at Top Left with View All button -->\n    <div\n      class=\"fixed-badge-container\"\n      :class=\"{ 'collapsed': !badgePanelExpanded }\"\n    >\n      <div class=\"badges-header\">\n        <div class=\"badges-title-container\">\n          <span class=\"badges-title\">{{ t('simulator.header.achievements') }}</span>\n          <button\n            class=\"toggle-badge-panel-btn\"\n            @click=\"toggleBadgePanel\"\n          >\n            <span class=\"material-icons\">{{ badgePanelExpanded ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</span>\n          </button>\n        </div>\n        <button\n          class=\"view-all-badges-btn\"\n          @click=\"showBadgeGallery = true\"\n        >\n          <span class=\"material-icons\">emoji_events</span>\n          {{ t('simulator.header.viewAll') }}\n        </button>\n      </div>\n      <div v-show=\"badgePanelExpanded && budgetStore.badges.length === 0\" class=\"no-badges-message\">\n        {{ t('simulator.header.noBadges') }}\n      </div>\n      <div\n        v-show=\"badgePanelExpanded\"\n        class=\"badges-display\"\n      >\n        <AchievementBadge\n          v-for=\"badge in budgetStore.badges\"\n          :key=\"badge.title\"\n          :badge=\"badge\"\n          size=\"medium\"\n          :show-tooltip=\"true\"\n        />\n      </div>\n    </div>\n    \n    <!-- Badge Gallery Modal -->\n    <BadgeGalleryModal \n      :is-open=\"showBadgeGallery\" \n      @close=\"showBadgeGallery = false\" \n    />\n\n    <div class=\"main-container\">\n      <div class=\"logo-container\">\n        <img\n          :src=\"logoUrl\"\n          :alt=\"t('home.alt.logo')\"\n          class=\"site-logo\"\n        >\n      </div>\n      <div class=\"flex justify-between items-center mb-0\">\n        <h1 class=\"main-title\">{{ t('simulator.header.title') }}</h1>\n        <div class=\"language-switch\">\n          <label class=\"language-label\" for=\"simulator-language-switch\">\n            {{ t('home.language.label') }}\n          </label>\n          <select\n            id=\"simulator-language-switch\"\n            class=\"language-select\"\n            :value=\"locale\"\n            @change=\"handleLocaleChange\"\n            :aria-label=\"t('home.language.switchLabel')\"\n          >\n            <option\n              v-for=\"option in locales\"\n              :key=\"option.code\"\n              :value=\"option.code\"\n            >\n              {{ t(option.labelKey) }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <MainNavigation />\n\n      <p class=\"description\">\n        {{ t('simulator.description.intro') }}\n        <br>\n        <span class=\"disclaimer\">{{ t('simulator.description.disclaimer') }}</span>\n      </p>\n\n      <!-- Year Selector -->\n      <YearSelector \n        :current-year=\"currentYear\" \n        @year-selected=\"selectYear\" \n      />\n\n      <!-- Panel Navigation (feature-gated) -->\n      <div v-if=\"FEATURES.PANEL_NAV\" class=\"mb-4\">\n        <PanelHost />\n      </div>\n\n      <!-- Sub Navigation Bar -->\n      <nav class=\"sub-navigation\" v-if=\"!FEATURES.PANEL_NAV\">\n        <a @click=\"scrollToSection('budget-goals')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">flag</span>\n          {{ t('simulator.nav.goals') }}\n        </a>\n        <a @click=\"scrollToSection('budget-results')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">summarize</span>\n          {{ t('simulator.nav.results') }}\n        </a>\n        <a @click=\"scrollToSection('revenue-sources')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">payments</span>\n          {{ t('simulator.nav.revenue') }}\n        </a>\n        <a @click=\"scrollToSection('spending-controls')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">payments</span>\n          {{ t('simulator.nav.spending') }}\n        </a>\n        <a @click=\"scrollToSection('budget-analysis')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">bar_chart</span>\n          {{ t('simulator.nav.analysis') }}\n        </a>\n        <a @click=\"scrollToSection('public-sentiment')\" class=\"sub-nav-link\">\n          <span class=\"material-icons\">people</span>\n          {{ t('simulator.nav.sentiment') }}\n        </a>\n        <div class=\"section-controls\">\n          <button @click=\"expandAllSections\" class=\"section-control-btn\">\n            <span class=\"material-icons\">expand_more</span>\n            {{ t('simulator.nav.expandAll') }}\n          </button>\n          <button @click=\"collapseAllSections\" class=\"section-control-btn\">\n            <span class=\"material-icons\">expand_less</span>\n            {{ t('simulator.nav.collapseAll') }}\n          </button>\n        </div>\n      </nav>\n\n      <div class=\"simulator-grid\" v-if=\"!FEATURES.PANEL_NAV\">\n        <!-- Budget Goals Section -->\n        <section id=\"budget-goals\" class=\"simulator-card goals-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('budgetGoals')\">\n            <span class=\"material-icons icon\">flag</span>\n            {{ t('simulator.nav.goals') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.budgetGoals }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.budgetGoals\">\n            <!-- Budget Goals feature temporarily disabled -->\n            <GoalTracker \n              v-if=\"FEATURES_ENABLED.budgetGoals\"\n              :current-revenue=\"budgetStore.totalRevenue\"\n              :current-spending=\"budgetStore.totalSpending\"\n              :initial-goals=\"budgetStore.budgetGoals\"\n              :surplus=\"budgetStore.surplus\"\n              @goal-status-changed=\"updateGoalStatus\"\n              @auto-balance-toggled=\"toggleAutoBalance\"\n            />\n            \n            <!-- Party Budget Comparison Tool -->\n            <PartyBudgetSharing v-if=\"!FEATURES_ENABLED.budgetGoals\" />\n          </div>\n        </section>\n\n        <!-- Budget Results Section -->\n        <div v-if=\"fiscalChaos\" class=\"budget-chaos-warning\">\n          <strong>{{ t('simulator.chaosWarning') }}</strong>\n        </div>\n        <section id=\"budget-results\" class=\"simulator-card budget-results-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('budgetResults')\">\n            <span class=\"material-icons icon\">summarize</span>\n            {{ t('simulator.sections.results.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.budgetResults }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.budgetResults\">\n            <BudgetResults \n              :total-revenue=\"budgetStore.totalRevenue\"\n              :total-spending=\"budgetStore.totalSpending\"\n              :surplus=\"budgetStore.surplus\"\n              :auto-balance-active=\"autoBalanceActive\"\n              :simple-auto-balance-active=\"budgetStore.simpleAutoBalanceActive\"\n              :fiscal-chaos=\"fiscalChaos\"\n              @reset-budget=\"resetBudget\"\n              @toggle-auto-balance=\"toggleAutoBalance\"\n              @toggle-simple-auto-balance=\"toggleSimpleAutoBalance\"\n              @save-budget=\"saveBudget\"\n              @share-budget=\"openSocialShareModal\"\n            />\n          </div>\n        </section>\n        \n        <!-- Budget Presets Section -->\n        <section class=\"simulator-card preset-panel-container\">\n          <h2 class=\"card-title\" @click=\"toggleSection('budgetPresets')\">\n            <span class=\"material-icons icon\">settings</span>\n            {{ t('simulator.sections.presets.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.budgetPresets }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.budgetPresets\">\n            <PresetSelector\n              @preset-applied=\"handlePresetApplied\"\n              @preset-reset=\"resetBudget\"\n            />\n          </div>\n        </section>\n\n        <!-- Revenue Sources Section -->\n        <section id=\"revenue-sources\" class=\"simulator-card revenue-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('revenueSources')\">\n            <span class=\"material-icons icon\">payments</span>\n            {{ t('simulator.sections.revenue.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.revenueSources }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.revenueSources\">\n            <RevenueSliders :auto-balance-active=\"autoBalanceActive\" />\n          </div>\n        </section>\n\n        <!-- Spending Controls Section -->\n        <section id=\"spending-controls\" class=\"simulator-card spending-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('spendingControls')\">\n            <span class=\"material-icons icon\">payments</span>\n            {{ t('simulator.sections.spending.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.spendingControls }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.spendingControls\">\n            <SpendingControls \n              :main-categories=\"mainCategories\"\n              :other-categories-groups=\"otherCategoriesGroups\"\n              :sorted-gov-ops-children=\"sortedGovOpsChildren\"\n              :spending-factors=\"spendingFactors\"\n              :auto-balance-active=\"autoBalanceActive\"\n              :expanded-groups=\"expandedGroups\"\n              :total-main-categories=\"budgetStore.mainCategoriesSpending\"\n              :total-other-categories=\"budgetStore.otherCategoriesTotal\"\n              :total-gov-ops=\"budgetStore.governmentOperationsSpending\"\n              :total-spending=\"budgetStore.totalSpending\"\n              :get-group-children=\"budgetStore.getGroupChildren\"\n              @update-spending-factor=\"updateSpendingFactor\"\n              @update-group-spending-factor=\"updateGroupSpendingFactor\"\n              @toggle-group-expansion=\"toggleGroupExpansion\"\n              @reset-gov-ops=\"resetGovOpsSubcategories\"\n              @reset-other-categories=\"resetOtherCategoriesSubcategories\"\n            />\n          </div>\n        </section>\n\n        <!-- Charts Panel -->\n        <section id=\"budget-analysis\" class=\"simulator-card charts-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('budgetAnalysis')\">\n            <span class=\"material-icons icon\">bar_chart</span>\n            {{ t('simulator.sections.analysis.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.budgetAnalysis }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.budgetAnalysis\">\n            <ChartsPanel />\n          </div>\n        </section>\n        \n        <!-- Public Sentiment Section -->\n        <section id=\"public-sentiment\" class=\"simulator-card sentiment-card\">\n          <h2 class=\"card-title\" @click=\"toggleSection('publicSentiment')\">\n            <span class=\"material-icons icon\">sentiment_satisfied</span>\n            {{ t('simulator.sections.sentiment.title') }}\n            <span class=\"material-icons toggle-icon\" :class=\"{ 'rotated': !sectionsExpanded.publicSentiment }\">expand_more</span>\n          </h2>\n          <div class=\"card-content\" v-show=\"sectionsExpanded.publicSentiment\">\n            <div class=\"sentiment-controls-container\">\n              <SentimentSensitivityControl />\n            </div>\n            <RadarSentiment />\n          </div>\n        </section>\n      </div>\n    </div>\n  </div>\n\n  <!-- Budget Changes Banner (hidden on mobile, replaced by bottom sheet) -->\n  <BudgetChangesBanner v-if=\"!isMobile\" :max-recent-changes=\"10\" />\n\n  <!-- Social Share Modal -->\n  <SocialShareModal\n    v-model=\"showSocialShareModal\"\n    :budget-surplus=\"budgetSurplus\"\n    :debt-to-gdp-ratio=\"debtToGdpRatio\"\n    :total-revenue=\"totalRevenue\"\n    :total-spending=\"totalSpending\"\n    :sentiment-scores=\"sentimentScores\"\n    :earned-badges=\"budgetStore.badges\"\n    :share-title=\"shareTitle\"\n    :fiscal-chaos=\"sentimentScores?.fiscalChaos || false\"\n    :is-loading=\"isModalDataLoading\"\n  />\n\n  <!-- Shared Budget Detail Modal -->\n  <SharedBudgetDetailModal\n    v-model=\"showSharedBudgetModal\"\n    :budget-data=\"sharedBudgetData\"\n    @apply-budget=\"handleApplySharedBudget\"\n  />\n\n  <div v-if=\"financeMinisterErrorMessage\" class=\"error-message\">{{ financeMinisterErrorMessage }}</div>\n  \n  <!-- Mobile Dock + Bottom Sheet -->\n  <MobileDockBar v-if=\"isMobile\" />\n  <MobileBottomSheet v-if=\"isMobile\" />\n</template>\n\n<script setup>\nimport { computed, ref, onMounted, watch, nextTick, defineAsyncComponent } from 'vue'\nimport { useI18n } from '@/i18n'\nimport { useBudgetSimulatorStore } from '@/domains/budget'\nimport { computeSentimentScores, getSentimentLabel, getSentimentEmoji } from '@/domains/sentiment/utils/computeSentimentScores'\nimport MainNavigation from '@/components/MainNavigation.vue'\nimport logoImage from '@/assets/fiscal-insights-logo.webp'\nimport OnboardingTour from '@/components/OnboardingTour.vue'\nimport { FEATURES } from '@/features.js'\nimport MobileDockBar from '@/components/MobileDockBar.vue'\nimport MobileBottomSheet from '@/components/MobileBottomSheet.vue'\nimport PanelHost from '@/domains/budget/components/BudgetPanelHost.vue'\nimport { useMobileDock } from '@/composables/useMobileDock'\n\n// Lazy load heavy components for better performance\nconst ChartsPanel = defineAsyncComponent({\n  loader: () => import('@/domains/budget/components/BudgetChartsPanel.vue'),\n  loadingComponent: { template: '<div class=\"loading-component\">Loading charts...</div>' },\n  errorComponent: { template: '<div class=\"error-component\">Failed to load charts</div>' },\n  delay: 200,\n  timeout: 10000\n})\n\nconst RadarSentiment = defineAsyncComponent({\n  loader: () => import('@/domains/sentiment/components/RadarSentiment.vue'),\n  loadingComponent: { template: '<div class=\"loading-component\">Loading sentiment analysis...</div>' },\n  errorComponent: { template: '<div class=\"error-component\">Failed to load sentiment analysis</div>' },\n  delay: 200,\n  timeout: 10000\n})\n\nconst SocialShareModal = defineAsyncComponent({\n  loader: () => import('@/domains/social/components/SocialShareModal.vue'),\n  loadingComponent: { template: '<div class=\"loading-component\">Loading share modal...</div>' },\n  errorComponent: { template: '<div class=\"error-component\">Failed to load share modal</div>' },\n  delay: 200,\n  timeout: 10000\n})\n\nconst BadgeGalleryModal = defineAsyncComponent({\n  loader: () => import('@/domains/badges/components/BadgeGalleryModal.vue'),\n  loadingComponent: { template: '<div class=\"loading-component\">Loading badge gallery...</div>' },\n  errorComponent: { template: '<div class=\"error-component\">Failed to load badge gallery</div>' },\n  delay: 200,\n  timeout: 10000\n})\n\n// Lazy load modal components (only loaded when opened)\nconst SharedBudgetDetailModal = defineAsyncComponent({\n  loader: () => import('@/domains/budget/components/SharedBudgetDetailModal.vue'),\n  loadingComponent: { template: '<div class=\"loading-component\">Loading budget details...</div>' },\n  errorComponent: { template: '<div class=\"error-component\">Failed to load budget details</div>' },\n  delay: 200,\n  timeout: 10000\n})\n\n// Import lightweight components normally\nimport CollapsibleSentimentBanner from '@/domains/sentiment/components/CollapsibleSentimentBanner.vue'\nimport SentimentSensitivityControl from '@/domains/sentiment/components/SentimentSensitivityControl.vue'\nimport RevenueSliders from '@/domains/budget/components/BudgetRevenueSliders.vue'\nimport GoalTracker from '@/domains/budget/components/GoalTracker.vue'\nimport PartyBudgetSharing from '@/domains/social/components/PartyBudgetSharing.vue'\nimport YearSelector from '@/domains/budget/components/BudgetYearSelector.vue'\nimport BudgetResults from '@/domains/budget/components/BudgetResults.vue'\n\n// Mobile overlay coordination\nconst { isMobile } = useMobileDock()\nimport SpendingControls from '@/domains/budget/components/BudgetSpendingControls.vue'\nimport PresetSelector from '@/domains/calculator/components/PresetSelector.vue'\nimport AchievementBadge from '@/domains/badges/components/AchievementBadge.vue'\nimport BudgetChangesBanner from '@/domains/budget/components/BudgetChangesBanner.vue'\nimport { setPreset } from '@/presets'\n\nimport { parseSharedBudgetParams, applySharedBudgetToStore } from '@/domains/budget/utils/sharedBudget.js'\nimport { handleError } from '@/utils/errorHandler.js'\n\nconst budgetStore = useBudgetSimulatorStore();\nconst currentYear = ref(budgetStore.currentYear);\nconst expandedGroups = ref({\n  mainCategories: false,\n  otherCategories: false,\n  governmentOperations: false\n});\nconst spendingFactors = ref({});\nconst autoBalanceActive = computed(() => budgetStore.autoBalanceActive);\nconst showBadgeGallery = ref(false); // Controls the badge gallery modal\nconst badgePanelExpanded = ref(true); // Controls whether the badge panel is expanded or collapsed\n\n// Social share modal state\nconst showSocialShareModal = ref(false);\n\n// Computed properties for social share modal with null checks\nconst budgetSurplus = computed(() => budgetStore.fiscalIndicators?.surplus || 0);\nconst debtToGdpRatio = computed(() => budgetStore.fiscalIndicators?.debtToGdpRatio || 0);\nconst totalRevenue = computed(() => budgetStore.fiscalIndicators?.totalRevenue || 0);\nconst totalSpending = computed(() => budgetStore.fiscalIndicators?.totalSpending || 0);\nconst shareTitle = computed(() => {\n  const surplus = budgetSurplus.value;\n  const surplusType = surplus > 0 ? t('simulator.shareTitleSurplus') : t('simulator.shareTitleDeficit');\n  return `${t('simulator.shareTitle')} ${surplusType} ${t('simulator.shareTitleAmount')} $${Math.abs(surplus).toFixed(1)}B`;\n});\n\nconst sentimentScores = computed(() => {\n  // Robust validation for budgetData and revenueMix\n  const data = budgetStore.budgetData;\n  if (!data || typeof data !== 'object' || !data.revenueMix || typeof data.revenueMix !== 'object') {\n    console.error('[FinanceMinisterSimulator] Error: budgetData or revenueMix is missing or malformed.', data);\n    alert('Unable to update sentiment scores: The budget data is missing or incomplete.');\n    // Return a fallback neutral sentiment structure to prevent runtime errors\n    return {\n      overall: 3,\n      provinces: {},\n      sectors: {},\n      demographics: {},\n      fiscalChaos: false\n    };\n  }\n  return computeSentimentScores(\n    data,\n    budgetStore.badges,\n    budgetStore.activePreset // Pass scenario/preset for correct calculation\n  );\n});\n// Fiscal chaos flag for warnings\nconst fiscalChaos = computed(() => sentimentScores.value.fiscalChaos);\n// Track which groups are selected for sentiment\nconst selectedGroups = ref({\n  provinces: [],\n  sectors: [],\n  demographics: []\n});\n\n// Compute the sentiment score for the selected group, or overall if none\nconst groupSentimentScore = computed(() => {\n  const scores = sentimentScores.value;\n  if (selectedGroups.value.provinces.length)\n    return scores.provinces[selectedGroups.value.provinces[0]] ?? scores.overall;\n  if (selectedGroups.value.sectors.length)\n    return scores.sectors[selectedGroups.value.sectors[0]] ?? scores.overall;\n  if (selectedGroups.value.demographics.length)\n    return scores.demographics[selectedGroups.value.demographics[0]] ?? scores.overall;\n  return scores.overall;\n});\nconst groupSentimentLabel = computed(() => getSentimentLabel(groupSentimentScore.value));\nconst groupSentimentEmoji = computed(() => getSentimentEmoji(groupSentimentScore.value));\n\nfunction selectYear(year) {\n  currentYear.value = year;\n  budgetStore.setCurrentYear(year);\n  initializeLocalValues();\n}\n\nconst mainCategories = computed(() => {\n  return Object.values(budgetStore.spendingCategories)\n    .filter(category => !category.isGroup)\n    .sort((a, b) => a.id - b.id);\n});\n\nconst otherCategoriesGroups = computed(() => {\n  return Object.values(budgetStore.spendingCategories)\n    .filter(category => category.isGroup && category.id !== 9)\n    .sort((a, b) => a.id - b.id);\n});\n\nconst sortedGovOpsChildren = computed(() => {\n  const govOps = budgetStore.spendingCategories.governmentOperations;\n  if (govOps && govOps.children) {\n    // Use a more reliable sorting method for decimal IDs\n    return Object.values(govOps.children).sort((a, b) => {\n      // First convert to string and split by decimal point\n      const aParts = a.id.toString().split('.');\n      const bParts = b.id.toString().split('.');\n      \n      // Compare the integer part first\n      const aInt = parseInt(aParts[0]);\n      const bInt = parseInt(bParts[0]);\n      if (aInt !== bInt) return aInt - bInt;\n      \n      // If integer parts are the same, compare decimal parts\n      const aDecimal = aParts.length > 1 ? parseInt(aParts[1]) : 0;\n      const bDecimal = bParts.length > 1 ? parseInt(bParts[1]) : 0;\n      return aDecimal - bDecimal;\n    });\n  }\n  return [];\n});\n\nfunction initializeLocalValues() {\n  Object.values(budgetStore.spendingCategories).forEach(category => {\n    if (!category.isGroup) {\n      spendingFactors.value[category.id] = Math.round((category.adjustmentFactor || 1) * 100) || 100;\n    } else if (category.children) {\n      spendingFactors.value[category.id] = Math.round(budgetStore.getGroupFactor(category.id) * 100) || 100;\n      Object.values(category.children).forEach(child => {\n        spendingFactors.value[child.id] = Math.round((child.adjustmentFactor || 1) * 100) || 100;\n      });\n    }\n  });\n  // Ensure Government Operations subcategories are initialized\n  const govOps = budgetStore.spendingCategories.governmentOperations;\n  if (govOps && govOps.children) {\n    Object.values(govOps.children).forEach(child => {\n      if (spendingFactors.value[child.id] === undefined) {\n        spendingFactors.value[child.id] = 100;\n      }\n    });\n  }\n}\n\nfunction toggleGroupExpansion(groupId) {\n  expandedGroups.value[groupId] = !expandedGroups.value[groupId];\n}\n\nfunction updateSpendingFactor(categoryId, value) {\n  const factor = value / 100;\n  budgetStore.updateSpendingFactor(categoryId, factor);\n  if (autoBalanceActive.value) {\n    budgetStore.autoBalanceBudget();\n  }\n  // Also trigger simple auto-balance if active\n  if (budgetStore.simpleAutoBalanceActive) {\n    budgetStore.autoBalanceBudget();\n  }\n}\n\nfunction updateGroupSpendingFactor(groupId, value) {\n  const factor = value / 100;\n  budgetStore.updateGroupSpendingFactor(groupId, factor);\n  if (autoBalanceActive.value) {\n    budgetStore.autoBalanceBudget();\n  }\n  // Also trigger simple auto-balance if active\n  if (budgetStore.simpleAutoBalanceActive) {\n    budgetStore.autoBalanceBudget();\n  }\n}\n\nfunction toggleAutoBalance(isActive) {\n  // Update the store's state directly\n  budgetStore.toggleAutoBalance(isActive);\n  \n  console.log('Auto-balance mode:', isActive ? 'enabled' : 'disabled');\n}\n\nfunction toggleSimpleAutoBalance(isActive) {\n  // Update the simple auto-balance state\n  budgetStore.toggleSimpleAutoBalance(isActive);\n  \n  console.log('Simple auto-balance mode:', isActive ? 'enabled' : 'disabled');\n}\n\nfunction resetBudget() {\n  budgetStore.resetBudget();\n  initializeLocalValues();\n}\n\nfunction handlePresetApplied(presetKey) {\n  console.log(`%c[PRESET DEBUG] Applying preset: ${presetKey}`, 'background: #9b59b6; color: white; padding: 2px 5px; border-radius: 3px;');\n  \n  // Set the active preset first\n  budgetStore.activePreset = presetKey;\n  \n  // Apply the preset settings (this call internally recalculates totals and updates badges)\n  setPreset(presetKey, budgetStore);\n  \n  // Update local values to reflect the preset changes\n  initializeLocalValues();\n  \n  console.log('%c[PRESET DEBUG] Final Active Preset:', 'color: teal; font-weight: bold;', budgetStore.activePreset);\n  console.log('Badges updated, current badges:', budgetStore.badges.map(b => b.title));\n}\n\nfunction saveBudget() {\n  budgetStore.syncToLocalStorage();\n  alert('Budget saved successfully!');\n}\n\nfunction updateGoalStatus(statusData) {\n  budgetStore.updateGoalStatus(statusData);\n}\n\nfunction resetGovOpsSubcategories() {\n  const govOps = budgetStore.spendingCategories.governmentOperations;\n  if (govOps && govOps.children) {\n    Object.values(govOps.children).forEach(child => {\n      spendingFactors.value[child.id] = 100;\n      budgetStore.updateSpendingFactor(child.id, 1);\n    });\n  }\n}\n\nfunction resetOtherCategoriesSubcategories() {\n  const otherCategoriesIds = otherCategoriesGroups.value.map(group => group.id);\n  \n  otherCategoriesIds.forEach(groupId => {\n    const children = budgetStore.getGroupChildren(groupId);\n    children.forEach(child => {\n      budgetStore.updateSpendingFactor(child.id, 1);\n    });\n  });\n}\n\nfunction toggleBadgePanel() {\n  badgePanelExpanded.value = !badgePanelExpanded.value;\n}\n\n// Feature flags for enabling/disabling features\nconst FEATURES_ENABLED = {\n  budgetGoals: true, // Set to false to temporarily disable Budget Goals feature\n};\n\n// Add refs for loading state and shared budget modal\nconst isModalDataLoading = ref(false);\nconst showSharedBudgetModal = ref(false);\nconst sharedBudgetData = ref({}); // will hold the parsed shared budget data\nconst isSharedBudget = ref(false);\nconst financeMinisterErrorMessage = ref('');\n\nimport { useRoute } from 'vue-router';\n\n// Get the current route\nconst route = useRoute();\n\n// ...\n\n// Parse shared budget parameters from the URL and apply them to the store\nconst parseAndApplySharedBudget = async () => {\n  // Get query parameters from the router\n  const query = route.query;\n  \n  // Only proceed if this is a shared budget link\n  if ('surplus' in query || 'revenue' in query || 'debt' in query) {\n    isSharedBudget.value = true;\n    console.log('Detected shared budget link with query params:', query);\n    \n    // Parse all shared data from URL\n    const sharedData = parseSharedBudgetParams(query);\n    sharedBudgetData.value = sharedData;\n    \n    // Sync sliders to store (sets revenue/spending factors)\n    await applySharedBudgetToStore(sharedData, budgetStore);\n    \n    // Show the shared budget detail modal immediately\n    showSharedBudgetModal.value = true;\n  }\n};\n\n// Call this on mount if on a shared budget route\nonMounted(() => {\n  parseAndApplySharedBudget();\n});\n\n// These functions are no longer needed with the new shared budget utility\n// but we'll keep them commented in case they're needed in the future\n/* \n// Function to get badge icon by name\nconst getBadgeIconByName = (name) => {\n  // Find the badge in the badge config by name\n  const badge = budgetStore.badges.find(b => b.name === name);\n  return badge?.icon || '🏆';\n};\n\n// Function to get badge explanation by name\nconst getBadgeExplanationByName = (name) => {\n  // Find the badge in the badge config by name\n  const badge = budgetStore.badges.find(b => b.name === name);\n  return badge?.explanation || 'Achievement earned through your budget choices';\n};\n*/\n\n// No longer needed, logic replaced by sharedBudget.js utility\n\n// Handle applying a shared budget from the modal\nconst handleApplySharedBudget = async () => {\n  // Re-apply the shared budget data to the store (in case user wants to make it active)\n  if (sharedBudgetData.value) {\n    await applySharedBudgetToStore(sharedBudgetData.value, budgetStore);\n    // Optionally recalculate badges, sentiment, etc.\n    budgetStore.recalculateTotals();\n    budgetStore.updateBadges();\n  }\n  showSharedBudgetModal.value = false;\n};\n\n// Improved function to ensure budget data is loaded before showing the social share modal\nasync function openSocialShareModal() {\n  try {\n    // Set loading state\n    isModalDataLoading.value = true;\n    \n    // Force a recalculation of budget totals to ensure fresh data\n    budgetStore.recalculateTotals();\n    \n    // Update badges to ensure we have the latest earned badges\n    budgetStore.updateBadges();\n    \n    // Ensure sentiment scores are updated\n    budgetStore.triggerSentimentUpdate();\n    \n    // Extra validation to ensure we have valid budget data\n    if (!budgetStore.totalRevenue || budgetStore.totalRevenue <= 0) {\n      console.warn(\"Invalid total revenue detected. Budget data may not be complete.\");\n    }\n    \n    if (!budgetStore.totalSpending || budgetStore.totalSpending <= 0) {\n      console.warn(\"Invalid total spending detected. Budget data may not be complete.\");\n    }\n    \n    // Check for fiscal chaos\n    const isFiscalChaos = sentimentScores.value?.fiscalChaos || false;\n    \n    // Force update of fiscal indicators\n    // This ensures the values are up-to-date from the store before opening the modal\n    budgetSurplus.value = budgetStore.surplus || 0;\n    debtToGdpRatio.value = budgetStore.fiscalIndicators?.debtToGdpRatio || 0;\n    totalRevenue.value = budgetStore.totalRevenue || 0;\n    totalSpending.value = budgetStore.totalSpending || 0;\n    \n    // Log data for debugging\n    console.log(\"Budget data prepared for social share:\", {\n      surplus: budgetSurplus.value,\n      debtToGDP: debtToGdpRatio.value,\n      revenue: totalRevenue.value,\n      spending: totalSpending.value,\n      sentimentScores: sentimentScores.value,\n      fiscalChaos: isFiscalChaos\n    });\n    \n    // Artificial delay to ensure all reactive state has updated\n    await new Promise(resolve => setTimeout(resolve, 50));\n    \n    // Then open the modal\n    showSocialShareModal.value = true;\n  } catch (error) {\n    handleError(error, (msg) => financeMinisterErrorMessage.value = msg);\n  } finally {\n    // Clear loading state whether successful or not\n    isModalDataLoading.value = false;\n  }\n}\n\nwatch(() => budgetStore.spendingCategories, () => {\n  initializeLocalValues();\n}, { deep: true });\n\nonMounted(() => {\n  initializeLocalValues();\n});\n\nconst logoUrl = logoImage\n\n// Update scrollToSection function with better handling\nfunction scrollToSection(sectionId) {\n  // Use nextTick to ensure DOM is updated\n  nextTick(() => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      // Add a small offset to account for any fixed headers\n      const offset = 80; // Adjust this value based on your header height\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.pageYOffset - offset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n  });\n}\n\n// Add sections expanded state\nconst sectionsExpanded = ref({\n  budgetGoals: true,\n  budgetResults: true,\n  budgetPresets: true,\n  revenueSources: true,\n  spendingControls: true,\n  budgetAnalysis: true,\n  publicSentiment: true\n});\n\n// Add toggle function\nconst toggleSection = (section) => {\n  sectionsExpanded.value[section] = !sectionsExpanded.value[section];\n};\n\n// Add expandAllSections and collapseAllSections functions\nconst expandAllSections = () => {\n  Object.keys(sectionsExpanded.value).forEach(section => sectionsExpanded.value[section] = true);\n};\n\nconst collapseAllSections = () => {\n  Object.keys(sectionsExpanded.value).forEach(section => sectionsExpanded.value[section] = false);\n};\n\nconst { t, locale, locales, setLocale } = useI18n()\nconst handleLocaleChange = (event) => {\n  setLocale(event.target.value)\n}\n\n</script>\n\n<style scoped>\n/* 1. Modern Typography */\n  .language-switch {\n    margin-left: auto;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .language-label {\n    font-size: 0.85rem;\n    font-weight: 600;\n    color: var(--fg);\n  }\n\n  .language-select {\n    padding: 0.35rem 0.6rem;\n    border-radius: 6px;\n    border: 1px solid rgba(52, 152, 219, 0.35);\n    background: #fff;\n    color: var(--fg);\n    font-weight: 500;\n  }\n\n  .language-select:focus {\n    outline: none;\n    border-color: #27ae60;\n    box-shadow: 0 0 0 2px rgba(39, 174, 96, 0.25);\n  }\n\n.finance-minister-simulator, .simulator-card, .sentiment-card {\n  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif;\n  color: var(--fg);\n}\n.main-title, .card-title {\n  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif;\n  font-weight: 700;\n  letter-spacing: 0.2px;\n  color: var(--fg);\n  margin-bottom: 0.5rem;\n}\n.card-title {\n  font-size: clamp(1rem, 1.25vw + 0.85rem, 1.35rem);\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  border-left: 3px solid var(--accent);\n  padding: 12px 16px;\n  cursor: pointer;\n  user-select: none;\n  transition: all 0.3s ease;\n  margin-bottom: 1rem;\n  background: var(--surface);\n  border-radius: var(--radius);\n  box-shadow: var(--shadow-sm);\n  font-weight: 600;\n  color: var(--fg);\n}\n\n.card-title:hover {\n  background: var(--surface);\n  box-shadow: var(--shadow);\n}\n\n/* Disable hover effects on touch devices to prevent interference */\n@media (hover: none) and (pointer: coarse) {\n  .card-title:hover {\n    transform: none;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  }\n}\n\n.card-title .icon {\n  color: var(--accent);\n  font-size: 1.5rem;\n}\n\n.card-title .toggle-icon {\n  margin-left: auto;\n  transition: transform 0.3s ease;\n  color: var(--accent);\n  font-size: 1.2rem;\n}\n\n.card-title .toggle-icon.rotated {\n  transform: rotate(-90deg);\n}\n\n.card-content {\n  transition: all 0.3s ease;\n  overflow: hidden;\n}\n\n/* Smooth collapse/expand animation */\n.card-content[v-show=\"false\"] {\n  max-height: 0;\n  opacity: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n\n.card-content[v-show=\"true\"] {\n  max-height: 2000px;\n  opacity: 1;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n\n/* 2. Glassmorphism Cards */\n.simulator-card, .sentiment-card {\n  background: var(--surface) !important;\n  border-radius: var(--radius);\n  border: 1px solid var(--border);\n  box-shadow: var(--shadow-sm);\n  overflow: hidden;\n  padding: 1.5rem 1.25rem;\n  margin-bottom: 1.5rem;\n  transition: box-shadow 0.25s ease;\n}\n.simulator-card:hover, .sentiment-card:hover {\n  box-shadow: var(--shadow);\n}\n\n/* Disable hover transforms on touch devices */\n@media (hover: none) and (pointer: coarse) {\n  .simulator-card:hover, .sentiment-card:hover {\n    transform: none;\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);\n  }\n}\n\n/* 3. Modern Buttons */\n.button, button, .view-all-badges-btn, .toggle-badge-panel-btn {\n  background: var(--surface);\n  color: var(--fg);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  padding: 0.6rem 1.1rem;\n  font-weight: 600;\n  font-size: 0.95rem;\n  box-shadow: var(--shadow-sm);\n  transition: background-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;\n}\n.button:hover, button:hover, .view-all-badges-btn:hover, .toggle-badge-panel-btn:hover {\n  background: rgba(34, 211, 238, 0.12);\n  color: var(--fg);\n  box-shadow: var(--shadow);\n}\n/* Emphasize key CTA */\n.view-all-badges-btn {\n  background: var(--accent);\n  border-color: transparent;\n  color: #001018;\n}\n.view-all-badges-btn:hover {\n  box-shadow: var(--shadow);\n}\n\n/* 4. Sticky/Floating Sub-Navigation */\n.sub-navigation {\n  position: sticky;\n  top: 0.5rem;\n  z-index: 10;\n  background: var(--surface-muted);\n  border-bottom: 1px solid var(--border);\n  padding: 0.5rem 1rem;\n  margin-bottom: 1.5rem;\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n.sub-nav-link {\n  color: var(--fg);\n  font-weight: 600;\n  padding: 0.5rem 1.2rem;\n  border-radius: 6px;\n  transition: background 0.2s, color 0.2s, transform 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  font-size: 1rem;\n}\n.sub-nav-link:hover {\n  background: rgba(34, 211, 238, 0.12);\n  color: var(--fg);\n}\n\n/* 5. Modern Inputs & Sliders */\ninput[type=\"range\"], .slider {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 6px;\n  background: linear-gradient(90deg, #27ae60 0%, #3498db 100%);\n  border-radius: 6px;\n  outline: none;\n  transition: background 0.2s;\n  margin: 0.5rem 0;\n}\ninput[type=\"range\"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #3498db, #27ae60);\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.18);\n  cursor: pointer;\n  transition: background 0.2s;\n}\ninput[type=\"range\"]:focus::-webkit-slider-thumb {\n  background: linear-gradient(135deg, #27ae60, #3498db);\n}\ninput[type=\"range\"]::-moz-range-thumb {\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #3498db, #27ae60);\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.18);\n  cursor: pointer;\n  transition: background 0.2s;\n}\ninput[type=\"range\"]:focus::-moz-range-thumb {\n  background: linear-gradient(135deg, #27ae60, #3498db);\n}\ninput[type=\"range\"]::-ms-thumb {\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #3498db, #27ae60);\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.18);\n  cursor: pointer;\n  transition: background 0.2s;\n}\ninput[type=\"range\"]:focus::-ms-thumb {\n  background: linear-gradient(135deg, #27ae60, #3498db);\n}\ninput[type=\"range\"]:focus {\n  outline: none;\n}\n\ninput, select, textarea {\n  border-radius: 8px;\n  border: 1.5px solid #e0e7ef;\n  padding: 0.7rem 1rem;\n  font-size: 1rem;\n  margin-bottom: 1rem;\n  background: rgba(255,255,255,0.7);\n  transition: border 0.2s, box-shadow 0.2s;\n}\ninput:focus, select:focus, textarea:focus {\n  border: 1.5px solid #3498db;\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.12);\n  outline: none;\n}\n\n/* 6. Section Spacing & Animations */\n.simulator-card, .sentiment-card {\n  animation: fadeInUp 0.7s cubic-bezier(0.23, 1, 0.32, 1);\n}\n@keyframes fadeInUp {\n  0% { opacity: 0; transform: translateY(30px); }\n  100% { opacity: 1; transform: translateY(0); }\n}\n\n/* 7. Responsive Design */\n@media (max-width: 900px) {\n  .simulator-card, .sentiment-card {\n    padding: 1.2rem 0.7rem;\n    margin-bottom: 1.2rem;\n  }\n  .main-title {\n    font-size: 1.3rem;\n  }\n  .card-title {\n    font-size: 1.1rem;\n  }\n  .sub-navigation {\n    flex-direction: column;\n    gap: 0.5rem;\n    padding: 0.5rem;\n  }\n}\n\n@media (max-width: 768px) {\n  .finance-minister-simulator {\n    /* Remove the problematic scaling that interferes with touch events */\n    padding: 1rem;\n    width: 100%;\n    margin: 0;\n  }\n  \n  .sub-navigation {\n    gap: 8px;\n    padding: 8px;\n  }\n  \n  .sub-nav-link {\n    font-size: 0.8rem;\n    padding: 6px 12px;\n  }\n  \n  .section-controls {\n    margin-left: 0;\n    margin-top: 8px;\n    width: 100%;\n    justify-content: center;\n  }\n  \n  .section-control-btn {\n    font-size: 0.75rem;\n    padding: 5px 10px;\n  }\n  \n  .card-title {\n    font-size: 1.1rem;\n    padding: 10px 12px;\n    margin-bottom: 0.75rem;\n    /* Ensure proper touch targets */\n    min-height: 44px;\n    touch-action: manipulation;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);\n  }\n  \n  .card-title .icon {\n    font-size: 1.3rem;\n  }\n  \n  .card-title .toggle-icon {\n    font-size: 1.1rem;\n  }\n  \n  /* Optimize transitions for mobile */\n  .card-content {\n    transition: all 0.2s ease; /* Faster transition on mobile */\n  }\n  \n  /* Reduce animation complexity on mobile */\n  .simulator-card, .sentiment-card {\n    animation: none; /* Remove complex animations on mobile */\n    transform: none; /* Remove transforms that could interfere */\n  }\n}\n\n@media (max-width: 600px) {\n  .simulator-card, .sentiment-card {\n    padding: 0.7rem 0.3rem;\n    margin-bottom: 0.7rem;\n  }\n  .main-title {\n    font-size: 1.1rem;\n  }\n  .card-title {\n    font-size: 1rem;\n  }\n}\n\n.finance-minister-simulator,\n.simulator-grid,\n.main-container {\n  background: transparent !important;\n}\n\n.simulator-grid > * {\n  background: rgba(255,255,255,0.5) !important;\n}\n\n.finance-minister-simulator .calculator-container,\n.finance-minister-simulator .result-box,\n.finance-minister-simulator .calculator-section,\n.finance-minister-simulator .faq-section,\n.finance-minister-simulator .budget-categories-section,\n.finance-minister-simulator .resources-section,\n.finance-minister-simulator .year-selector-container {\n  background: rgba(255,255,255,0.5) !important;\n}\n\n.finance-minister-simulator {\n  background: rgba(255,255,255,0.2);\n  position: relative;\n  z-index: 1;\n  padding: 1rem;\n  min-height: 100vh;\n  transition: padding-left 0.3s ease;\n}\n\n/* Use a class instead of :has() selector for better browser compatibility */\n.finance-minister-simulator.panel-collapsed {\n  padding-left: 220px; /* Adjust padding when badge panel is collapsed */\n}\n\n.main-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding-top: 10px;\n  box-sizing: border-box;\n  width: 100%;\n  transform: scale(0.8);\n  transform-origin: top center;\n}\n\n.main-title {\n  background: rgba(255,255,255,0.92);\n  border-radius: 12px;\n  padding: 0.7rem 2rem;\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.08);\n  color: #222;\n  font-size: clamp(1.2rem, 2.2vw + 0.8rem, 1.75rem);\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 1rem;\n  margin-top: 0.5rem;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.simulator-grid {\n  display: grid;\n  grid-template-columns: 1fr 1.6fr;\n  grid-template-rows: auto auto auto auto;\n  gap: 1.5rem;\n}\n\n.simulator-card,\n.sentiment-card {\n  background: rgba(255,255,255,0.75);\n  border-radius: 0.5rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.goals-card {\n  grid-column: 1;\n  grid-row: 1;\n}\n\n.results-card {\n  grid-column: 1;\n  grid-row: 2;\n}\n\n/* Budget Presets Panel */\n.preset-panel-container {\n  grid-column: 1;\n  grid-row: 3;\n}\n\n.revenue-card {\n  grid-column: 1;\n  grid-row: 4;\n}\n\n.spending-card {\n  grid-column: 2;\n  grid-row: 1 / span 4;\n  min-height: 1200px;\n  display: flex;\n  flex-direction: column;\n}\n\n.charts-card {\n  grid-column: 1;\n  grid-row: 5;\n}\n\n.sentiment-card {\n  background-color: white;\n  border-radius: 0.5rem;\n  box-shadow: \n    0 10px 20px rgba(0, 0, 0, 0.19),\n    0 6px 6px rgba(0, 0, 0, 0.23);\n  overflow: hidden;\n  transition: box-shadow 0.3s ease, transform 0.3s ease;\n  display: flex;\n  flex-direction: column;\n}\n\n.sentiment-card:hover {\n  transform: translateY(-5px);\n  box-shadow: \n    0 15px 30px rgba(0, 0, 0, 0.25),\n    0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n.sentiment-card .card-title {\n  display: flex;\n  align-items: center;\n  padding: 1.25rem 1.5rem 1rem 1.5rem;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #2d3748;\n  transition: color 0.3s ease;\n  position: relative;\n  z-index: 2;\n  margin-top: 0;\n  margin-bottom: 0.5rem;\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n  box-shadow: none;\n}\n\n.sentiment-card .card-title .icon {\n  margin-right: 0.75rem;\n  font-size: 1.5rem;\n  color: #4263eb;\n}\n\n.sentiment-card .card-content {\n  padding: 1rem;\n  transform: translateZ(10px);\n  transition: transform 0.3s ease;\n  flex-grow: 1;\n  position: relative;\n  z-index: 0;\n}\n\n/* Touch Device Optimizations */\n@media (hover: none) {\n  .sentiment-card:hover {\n    transform: none;\n    box-shadow: \n      0 10px 20px rgba(0, 0, 0, 0.19),\n      0 6px 6px rgba(0, 0, 0, 0.23);\n  }\n  .sentiment-card:active {\n    transform: translateY(-2px) translateZ(10px) rotateX(1deg);\n    box-shadow: \n      0 12px 24px rgba(0, 0, 0, 0.2),\n      0 8px 8px rgba(0, 0, 0, 0.15);\n  }\n}\n\n/* Reduced Motion */\n@media (prefers-reduced-motion: reduce) {\n  .sentiment-card,\n  .sentiment-card .card-title,\n  .sentiment-card .card-content {\n    transition: none;\n    transform: none !important;\n  }\n}\n\n.card-title, .card-content, .simulator-card, .sentiment-controls-container, .summary-card {\n  word-break: break-word;\n  white-space: normal;\n}\n@media (max-width: 600px) {\n  .card-title, .card-content, .summary-card, .main-category-header, .other-category-header, .subcategory-header, .gov-ops-header, .tax-expenditure-header, .tile-title, .tile-amount, .slider-labels {\n    writing-mode: initial !important;\n    text-orientation: initial !important;\n    transform: none !important;\n    display: block !important;\n    white-space: normal !important;\n    word-break: break-word !important;\n  }\n  .simulator-card, .sentiment-controls-container {\n    padding: 0.5rem 0.5rem;\n  }\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  user-select: none;\n  padding: 16px;\n  margin: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  transition: background-color 0.2s ease;\n}\n\n.card-title:hover {\n  background-color: rgba(0, 0, 0, 0.02);\n}\n\n.toggle-icon {\n  margin-left: auto;\n  transition: transform 0.3s ease;\n}\n\n.toggle-icon.rotated {\n  transform: rotate(-90deg);\n}\n\n.card-content {\n  padding: 16px;\n  transition: all 0.3s ease;\n}\n\n@media (max-width: 768px) {\n  .finance-minister-simulator {\n    padding: 1.5rem;\n  }\n  /* Reserve space for MobileDockBar/BottomSheet so content isn't obscured */\n  .finance-minister-simulator,\n  .finance-minister-simulator.panel-collapsed {\n    padding-bottom: calc(env(safe-area-inset-bottom) + 72px);\n  }\n  \n  .simulator-grid {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1.5rem;\n  }\n  \n  .simulator-card {\n    width: 100%;\n    max-width: 800px;\n    margin: 0 auto 1.5rem auto;\n    box-sizing: border-box;\n    padding: 1.5rem;\n  }\n  \n  .spending-card {\n    min-height: auto;\n    height: fit-content;\n    margin-bottom: 1.5rem;\n  }\n  \n  .card-title {\n    font-size: 1.2rem;\n    padding: 1.25rem;\n    margin-bottom: 1rem;\n  }\n  \n  .card-content {\n    padding: 1.25rem;\n  }\n  \n  .fixed-badge-container {\n    position: relative;\n    width: 100%;\n    max-width: 800px;\n    margin: 0 auto 1.5rem auto;\n    border-radius: 12px;\n    padding: 1rem;\n  }\n  \n  .finance-minister-simulator.panel-collapsed {\n    padding: 1.5rem;\n  }\n  \n  .main-container {\n    padding: 1.5rem;\n  }\n  \n  .main-title {\n    font-size: 1.8rem;\n    margin-bottom: 1.5rem;\n  }\n  \n  .description {\n    margin: 1.5rem auto;\n    padding: 1.25rem;\n  }\n}\n\n@media (max-width: 576px) {\n  .simulator-grid {\n    gap: 1.25rem;\n  }\n  \n  .simulator-card {\n    max-width: 100%;\n    padding: 1.25rem;\n    margin-bottom: 1.25rem;\n  }\n  \n  .card-title {\n    font-size: 1.1rem;\n    padding: 1rem;\n  }\n  \n  .card-content {\n    padding: 1rem;\n  }\n  \n  .main-container {\n    padding: 1.25rem;\n  }\n  \n  .main-title {\n    font-size: 1.5rem;\n    padding: 0 1rem;\n    margin-bottom: 1.25rem;\n  }\n  \n  .fixed-badge-container {\n    max-width: 100%;\n    padding: 0.75rem;\n    margin-bottom: 1.25rem;\n  }\n  \n  .description {\n    padding: 1rem;\n    margin: 1.25rem auto;\n  }\n  \n  /* Prevent vertical stretching of content */\n  .card-content {\n    min-height: auto;\n    height: fit-content;\n  }\n  \n  /* Maintain aspect ratios for charts and visual elements */\n  .charts-card,\n  .sentiment-card {\n    aspect-ratio: auto;\n    height: fit-content;\n    margin-bottom: 1.25rem;\n  }\n}\n\n.description {\n  background: rgba(255,255,255,0.85);\n  border-radius: 14px;\n  padding: 1rem 1.5rem;\n  box-shadow: 0 2px 8px rgba(52, 152, 219, 0.08);\n  margin: 1rem auto 1.5rem;\n  max-width: 800px;\n  color: #222;\n  font-size: clamp(0.9rem, 0.5vw + 0.85rem, 1rem);\n}\n\n.description .disclaimer {\n  display: inline-block;\n  margin-top: 0.35rem;\n  font-size: 0.78em;\n  line-height: 1.15;\n  color: #666;\n}\n\n/* Extra-tight layout on very small screens */\n@media (max-width: 480px) {\n  .simulator-grid { gap: 0.9rem; }\n  .simulator-card, .sentiment-card { padding: 0.6rem 0.5rem; margin-bottom: 0.75rem; }\n  .card-title { padding: 0.75rem 0.9rem; margin-bottom: 0.6rem; }\n  .sub-navigation { gap: 6px; padding: 6px; }\n  .sub-nav-link { font-size: 0.78rem; padding: 5px 10px; }\n  .section-control-btn { font-size: 0.7rem; padding: 4px 8px; }\n  .badges-title { font-size: clamp(0.95rem, 0.6rem + 1vw, 1.05rem); }\n}\n\n.main-navigation {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  margin: 0;\n  padding: 0;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n}\n\n.logo-container {\n  text-align: center;\n  margin-bottom: 15px;\n}\n\n.site-logo {\n  max-width: 180px;\n  height: auto;\n  transition: transform 0.3s ease;\n}\n\n.site-logo:hover {\n  transform: scale(1.05);\n}\n\n/* Sub Navigation Styles */\n.sub-navigation {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  margin: 15px 0;\n  padding: 10px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  border: 1px solid #e9ecef;\n  flex-wrap: wrap;\n  align-items: center;\n}\n\n.sub-nav-link {\n  color: #3498db;\n  text-decoration: none;\n  font-weight: 500;\n  padding: 8px 16px;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  cursor: pointer; /* Add cursor pointer to show it's clickable */\n}\n\n.sub-nav-link:hover {\n  background-color: #3498db;\n  color: white;\n}\n\n.sub-nav-link .material-icons {\n  font-size: 1.1rem;\n}\n\n.section-controls {\n  display: flex;\n  gap: 8px;\n  margin-left: auto;\n}\n\n.section-control-btn {\n  background: linear-gradient(135deg, #27ae60, #3498db);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-size: 0.8rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2);\n}\n\n.section-control-btn:hover {\n  background: linear-gradient(135deg, #3498db, #27ae60);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);\n}\n\n.section-control-btn .material-icons {\n  font-size: 1rem;\n}\n\n@media (max-width: 768px) {\n  .language-switch {\n    margin-left: 0;\n    margin-top: 0.75rem;\n    width: 100%;\n    justify-content: flex-end;\n  }\n\n  .language-label {\n    font-size: 0.8rem;\n  }\n\n  .language-select {\n    font-size: 0.8rem;\n  }\n\n  .sub-navigation {\n    gap: 8px;\n    padding: 8px;\n  }\n  \n  .sub-nav-link {\n    font-size: 0.8rem;\n    padding: 6px 12px;\n  }\n  \n  .section-controls {\n    margin-left: 0;\n    margin-top: 8px;\n    width: 100%;\n    justify-content: center;\n  }\n  \n  .section-control-btn {\n    font-size: 0.75rem;\n    padding: 5px 10px;\n  }\n}\n\n/* Add solid background to 'Your Achievements' title */\n.badges-title {\n  background: rgba(255,255,255,0.92);\n  border-radius: 8px;\n  padding: 0.4rem 1rem;\n  box-shadow: 0 1px 4px rgba(52, 152, 219, 0.08);\n  color: #27ae60;\n  font-weight: 700;\n  font-size: 1.1rem;\n}\n\n/* Improved badge panel and no-badges-message styling */\n.fixed-badge-container {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-width: 220px;\n  max-width: 300px;\n  background: rgba(255,255,255,0.85);\n  border-radius: 12px;\n  box-shadow: 0 4px 16px rgba(52, 152, 219, 0.08);\n  padding-bottom: 1rem;\n}\n.no-badges-message {\n  margin: 0.75rem 1rem 0.5rem 1rem;\n  background: rgba(255,255,255,0.92);\n  border-radius: 8px;\n  padding: 0.7rem 1.2rem;\n  box-shadow: 0 1px 4px rgba(52, 152, 219, 0.08);\n  color: #718096;\n  font-style: italic;\n  text-align: center;\n  width: auto;\n  max-width: 95%;\n  align-self: center;\n}\n\n/* Loading and Error States for Lazy Components */\n.loading-component {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  color: #3498db;\n  font-weight: 500;\n  background: rgba(255, 255, 255, 0.8);\n  border-radius: 8px;\n  /* Avoid backdrop-filter to preserve text AA */\n  animation: pulse 1.5s ease-in-out infinite;\n}\n\n.loading-component::before {\n  content: \"⏳\";\n  margin-right: 0.5rem;\n  font-size: 1.2em;\n}\n\n.error-component {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  color: #e74c3c;\n  font-weight: 500;\n  background: rgba(255, 240, 240, 0.9);\n  border: 1px solid #e74c3c;\n  border-radius: 8px;\n  /* Avoid backdrop-filter to preserve text AA */\n}\n\n.error-component::before {\n  content: \"⚠️\";\n  margin-right: 0.5rem;\n  font-size: 1.2em;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.6;\n  }\n}\n</style>\n","import script from \"./FinanceMinisterSimulator.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FinanceMinisterSimulator.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FinanceMinisterSimulator.vue?vue&type=style&index=0&id=8553ebce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8553ebce\"]])\n\nexport default __exports__"],"names":["FEATURES","MULTI_YEAR_PLANNING","PANEL_NAV","budgetPresets","balancedBudget","label","description","revenue","personalIncomeTax","corporateIncomeTax","gst","exciseTaxes","carbonPricing","eiPremiums","customsDuties","crownProfits","nonTaxRevenue","resourceRoyalties","spending","healthcare","education","childrenAndFamilies","supportForSeniors","indigenousServices","defense","scienceAndInnovation","infrastructure","digitalGovernment","environmentAndClimateChange","agriculture","internationalDevelopment","culturalPrograms","transit","economicDevelopment","indigenousOperations","diplomaticRepresentation","loansInvestments","studentLoans","agricultureLoans","businessInnovation","defenseSector","governmentOperations","transportationInfrastructure","environmentalPrograms","publicSafetyEmergency","governmentBuildings","researchInnovation","federalEmployeeSalaries","legalJusticeSystem","indigenousServicesOps","scientificResearch","taxExpenditures","personalTaxCredits","corporateTaxExpenditures","gstExpenditures","taxDeferrals","austerityPlan","progressiveExpansion","businessFriendly","infrastructureBuilder","greenGrowthStimulus","securityFirst","setPreset","presetKey","store","console","log","preset","beginBatchUpdate","activePreset","badges","map","b","title","demographicMultipliers","seniors","families","youth","workers","students","indigenousPeoples","veterans","smallBusinessOwners","techWorkers","renters","urban","rural","demoMultipliers","provinceMultipliers","Ontario","Quebec","BritishColumbia","Alberta","Manitoba","Saskatchewan","NovaScotia","NewBrunswick","Nunavut","Yukon","provMultipliers","sectorMultipliers","business","realEstate","finance","technology","manufacturing","energy","tourism","creativeIndustries","publicSector","activeSectorMultipliers","Object","entries","forEach","sourceId","rate","adjustedRate","sectorFactor","Math","max","filter","sector","includes","factor","min","originalRate","updateRevenueRate","spendingAliasMap","mapSpendingKey","key","categoryId","value","subCategoryId","mappedSubId","enhancedFactor","enhanceFactorForCategory","updateSpendingFactor","warn","mappedId","expenditureId","adjustment","enhancedAdjustment","updateTaxExpenditureAdjustment","trackPresetApplication","updateBadges","completeBatchUpdate","stateVersion","error","categorySectors","housing","publicSafety","relevantSectors","totalSectorMultiplier","sectorCount","finalSectorMultiplier","pow","categoryProvinces","relevantProvinces","totalProvMultiplier","provCount","province","finalProvMultiplier","categoryDemographics","mentalHealth","skillsDevelopment","relevantDemos","totalDemoMultiplier","demoCount","demo","finalDemoMultiplier","finalMultiplier","sqrt","STANDARD_DEBOUNCE_DELAY","createDebouncedFunction","func","delay","debounce","leading","trailing","maxWait","partyBudgetErrorMessage","ref","partyBudgets","liberal","id","name","buttonColor","revenues","employmentInsuranceBenefits","internationalAffairs","publicDebtCharges","otherGovernmentOperations","highlights","conservative","ndp","applyPartyBudget","partyId","budgetStore","partyData","handleError","Error","msg","undefined","setRevenueRate","generatePartyBudgetUrl","baseUrl","window","location","origin","pathname","params","URLSearchParams","set","length","join","toString","getAvailablePartyBudgets","values","party","ChartsPanel","defineAsyncComponent","loader","loadingComponent","template","errorComponent","timeout","RadarSentiment","SocialShareModal","BadgeGalleryModal","SharedBudgetDetailModal","isMobile","useMobileDock","useBudgetSimulatorStore","currentYear","expandedGroups","mainCategories","otherCategories","spendingFactors","autoBalanceActive","computed","showBadgeGallery","badgePanelExpanded","showSocialShareModal","budgetSurplus","fiscalIndicators","surplus","debtToGdpRatio","totalRevenue","totalSpending","shareTitle","surplusType","t","abs","toFixed","sentimentScores","data","budgetData","revenueMix","computeSentimentScores","alert","overall","provinces","sectors","demographics","fiscalChaos","selectedGroups","groupSentimentScore","scores","groupSentimentLabel","getSentimentLabel","groupSentimentEmoji","getSentimentEmoji","selectYear","year","setCurrentYear","initializeLocalValues","spendingCategories","category","isGroup","sort","a","otherCategoriesGroups","sortedGovOpsChildren","govOps","children","aParts","split","bParts","aInt","parseInt","bInt","aDecimal","bDecimal","round","getGroupFactor","child","adjustmentFactor","toggleGroupExpansion","groupId","autoBalanceBudget","simpleAutoBalanceActive","updateGroupSpendingFactor","toggleAutoBalance","isActive","toggleSimpleAutoBalance","resetBudget","handlePresetApplied","saveBudget","syncToLocalStorage","updateGoalStatus","statusData","resetGovOpsSubcategories","resetOtherCategoriesSubcategories","otherCategoriesIds","group","getGroupChildren","toggleBadgePanel","FEATURES_ENABLED","budgetGoals","isModalDataLoading","showSharedBudgetModal","sharedBudgetData","isSharedBudget","financeMinisterErrorMessage","route","useRoute","parseAndApplySharedBudget","async","query","sharedData","parseSharedBudgetParams","applySharedBudgetToStore","onMounted","handleApplySharedBudget","recalculateTotals","openSocialShareModal","triggerSentimentUpdate","isFiscalChaos","debtToGDP","Promise","resolve","setTimeout","watch","deep","logoUrl","logoImage","scrollToSection","sectionId","nextTick","element","document","getElementById","offset","elementPosition","getBoundingClientRect","top","offsetPosition","pageYOffset","scrollTo","behavior","sectionsExpanded","budgetResults","revenueSources","spendingControls","budgetAnalysis","publicSentiment","toggleSection","section","expandAllSections","keys","collapseAllSections","locale","locales","setLocale","useI18n","handleLocaleChange","event","target","__exports__"],"sourceRoot":""}